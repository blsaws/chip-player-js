!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=75)}([function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){var r=n(60);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return E})),n.d(t,"q",(function(){return T}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,a=i?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=o>>2,c=(3&o)<<4|a>>4;let f=(15&a)<<2|l>>6,h=63&l;s||(h=64,i||(f=64)),r.push(n[u],n[c],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==l)throw new a;const u=o<<2|i>>4;if(r.push(u),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return l()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-25089589-5"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},c=e=>{var t,n;return null===(n=null===(t=u())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},f=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_"+e]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class g extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,g.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(b,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new g(r,a,n)}}const b=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function w(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(S(n)&&S(i)){if(!w(n,i))return!1}else if(n!==i)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function S(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function E(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function T(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function k(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(e,t){const n=new C(e,t);return n.subscribe.bind(n)}class C{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(e){return e&&e._delegate?e._delegate:e}}).call(this,n(22),n(26))},function(e,t,n){e.exports=n(114)()},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(60);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports={API_BASE:"https://gifx.co/chip",CATALOG_PREFIX:"https://gifx.co/music",FORMATS:["ay","gbs","it","mdx","mid","midi","miniusf","mod","nsf","nsfe","spc","s3m","smf","v2m","vgm","vgz","xm"],MAX_SAMPLE_RATE:48e3,MAX_VOICES:64,REPLACE_STATE_ON_SEEK:!1,SOUNDFONT_MOUNTPOINT:"/soundfonts",SOUNDFONT_URL_PATH:"https://gifx.co/soundfonts/",SOUNDFONTS:[{label:"User SoundFonts (Drop .sf2 to add)",items:[]},{label:"Small Soundfonts",items:[{label:"GMGSx Plus (6.2 MB)",value:"gmgsx-plus.sf2"},{label:"Roland SC-55/SCC1 (3.3 MB)",value:"Scc1t2.sf2"},{label:"Yamaha DB50XG (3.9 MB)",value:"Yamaha DB50XG.sf2"},{label:"Gravis Ultrasound (5.9 MB)",value:"Gravis_Ultrasound_Classic_PachSet_v1.6.sf2"},{label:"Tim GM (6 MB)",value:"TimGM6mb.sf2"},{label:"Alan Chan 5MBGMGS (4.9 MB)",value:"5MBGMGS.SF2"},{label:"E-mu 1MGM (AWE32) (1.1 MB)",value:"1mgm.sf2"},{label:"E-mu 2MBGMGS (2.1 MB)",value:"2MBGMGS.SF2"},{label:"E-mu 8MBGMGS (8.2 MB)",value:"8MBGMGS.SF2"},{label:"Phoenix MT-32 (6.3 MB)",value:"Phoenix_MT-32.sf2"}]},{label:"Large Soundfonts",items:[{label:"Masquerade 55 v006 (18.4 MB)",value:"masquerade55v006.sf2"},{label:"GeneralUser GS v1.471 (31.3 MB)",value:"generaluser.sf2"},{label:"GeneralUser GS v2.0.1 (32.3 MB)",value:"generaluser2.sf2"},{label:"Chorium Revision A (28.9 MB)",value:"choriumreva.sf2"},{label:"Unison (29.3 MB)",value:"Unison.SF2"},{label:"Creative 28MBGM (29.7 MB)",value:"28MBGM.sf2"},{label:"Musica Theoria 2 (30.5 MB)",value:"mustheory2.sf2"},{label:"Personal Copy Lite (31.4 MB)",value:"PCLite.sf2"},{label:"AnotherXG (31.4 MB)",value:"bennetng_AnotherXG_v2-1.sf2"},{label:"NTONYX 32Mb GM Stereo (32.5 MB)",value:"32MbGMStereo.sf2"},{label:"Weeds GM 3 (54.9 MB)",value:"weedsgm3.sf2"},{label:"Weeds GM 4 (68.5 MB)",value:"WeedsGM4.sf2"},{label:"EmperorGrieferus SC-55 (58.7 MB)",value:"SC-55.sf2"}]},{label:"Novelty Soundfonts",items:[{label:"PC Beep (31 KB)",value:"pcbeep.sf2"},{label:'Nokia 3510 ("Chippy Bank") (73 KB)',value:"nokia/Chippy_Bank_GM.sf2"},{label:'Nokia 6230 ("Large Bank") (227 KB)',value:"nokia/Nokia_6230i_RM-72_.sf2"},{label:'Nokia 6270/S40 ("Lloyd Bank") (768 KB)',value:"nokia/Lloyd Bank.sf2"},{label:"Kirby's Dream Land (271 KB)",value:"Kirby's_Dream_Land_3.sf2"},{label:"Vintage Waves v2 (315 KB)",value:"Vintage Dreams Waves v2.sf2"},{label:"Setzer's SPC Soundfont (1.2 MB)",value:"Setzer's_SPC_Soundfont.sf2"},{label:"SNES GM (1.9 MB)",value:"Super_Nintendo_Unofficial_update.sf2"},{label:"LG Wink/Motorola ROKR (3.3 MB)",value:"LG_Wink_Style_T310_Soundfont.sf2"},{label:"Diddy Kong Racing DS (13.7 MB)",value:"Diddy_Kong_Racing_DS_Soundfont.sf2"},{label:"Regression FM v1.99g (14.4 MB)",value:"R_FM_v1.99g-beta.sf2"},{label:"Ultimate Megadrive (63.2 MB)",value:"The Ultimate Megadrive Soundfont.sf2"}]},{label:"Piano Soundfonts",items:[{label:"Yamaha Grand Lite v1.1 (21.8 MB)",value:"Yamaha-Grand-Lite-v1.1.sf2"},{label:"Abbey Steinway D v1.9 (40.2 MB)",value:"Abbey-Steinway-D-v1.9.sf2"},{label:"Chateau Grand Lite v1.0 (49.1 MB)",value:"Chateau Grand Lite-v1.0.sf2"},{label:"Steinway Grand v1.0 (145 MB)",value:"Steinway Grand-SF4U-v1.sf2"}]}]}},function(e,t,n){var r=n(27).default,o=n(129);e.exports=function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(130);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,{include:t,exclude:n}={}){const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t?t.some(r):!n||!n.some(r)};for(const[t,n]of(e=>{const t=new Set;do{for(const n of Reflect.ownKeys(e))t.add([e,n])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t})(e.constructor.prototype)){if("constructor"===n||!r(n))continue;const o=Reflect.getOwnPropertyDescriptor(t,n);o&&"function"==typeof o.value&&(e[n]=e[n].bind(e))}return e}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return y}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,a=i?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=o>>2,c=(3&o)<<4|a>>4;let f=(15&a)<<2|l>>6,h=63&l;s||(h=64,i||(f=64)),r.push(n[u],n[c],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==l)throw new a;const u=o<<2|i>>4;if(r.push(u),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=o(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-25089589-5"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},f=e=>{const t=(e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(i)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p.prototype.create)}}class p{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(m,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new d(r,a,n)}}const m=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(g(n)&&g(i)){if(!v(n,i))return!1}else if(n!==i)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function g(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function y(e){return e&&e._delegate?e._delegate:e}}).call(this,n(22),n(26))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return M}));var r=n(21),o=n(0),i=n.n(o),a=n(3),s=n.n(a),l=n(19),u=n(20),c=n(14),f=n(46),h=n.n(f),d=(n(59),n(23)),p=n(65),m=n.n(p),v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function g(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var y=i.a.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return v[e]=(v[e]||0)+1}()+"__",l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=g(t.props.value),t}Object(r.a)(n,e);var o=n.prototype;return o.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},o.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i==1/a:i!=i&&a!=a)?n=0:(n="function"==typeof t?t(r,o):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},o.render=function(){return this.props.children},n}(i.a.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var o=n.prototype;return o.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},o.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},o.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},o.getValue=function(){return this.context[a]?this.context[a].get():e},o.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.a.Component);return u.contextTypes=((o={})[a]=s.a.object,o),{Provider:l,Consumer:u}},b=function(e){var t=y();return t.displayName=e,t},_=b("Router-History"),w=b("Router"),S=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.a.createElement(w.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.a.createElement(_.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.a.Component);i.a.Component;i.a.Component;var E={},T=0;function k(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=E[n]||(E[n]={});if(r[e])return r[e];var o=[],i={regexp:h()(e,o,t),keys:o};return T<1e4&&(r[e]=i,T++),i}(n,{end:i,strict:s,sensitive:u}),o=r.regexp,a=r.keys,l=o.exec(e);if(!l)return null;var c=l[0],f=l.slice(1),d=e===c;return i&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var x=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(w.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?k(n.pathname,e.props):t.match,o=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&function(e){return 0===i.a.Children.count(e)}(s)&&(s=null),i.a.createElement(w.Provider,{value:o},o.match?s?"function"==typeof s?s(o):s:l?i.a.createElement(l,o):f?f(o):null:"function"==typeof s?s(o):null)}))},t}(i.a.Component);function C(e){return"/"===e.charAt(0)?e:"/"+e}function O(e,t){if(!e)return t;var n=C(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function P(e){return"string"==typeof e?e:Object(l.e)(e)}function I(e){return function(){Object(u.a)(!1)}}function A(){}i.a.Component;var R=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(w.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,o=e.props.location||t.location;return i.a.Children.forEach(e.props.children,(function(e){if(null==r&&i.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?k(o.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.a.Component);function M(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(d.a)(t,["wrappedComponentRef"]);return i.a.createElement(w.Consumer,null,(function(t){return t||Object(u.a)(!1),i.a.createElement(e,Object(c.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,m()(n,e)}var N=i.a.useContext;function j(){return N(_)}}).call(this,n(22))},function(e,t,n){"use strict";t.decode=t.parse=n(112),t.encode=t.stringify=n(113)},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new Error("MIDIEvents function not intended to be run.")}r.EVENT_META=255,r.EVENT_SYSEX=240,r.EVENT_DIVSYSEX=247,r.EVENT_MIDI=8,r.EVENT_META_SEQUENCE_NUMBER=0,r.EVENT_META_TEXT=1,r.EVENT_META_COPYRIGHT_NOTICE=2,r.EVENT_META_TRACK_NAME=3,r.EVENT_META_INSTRUMENT_NAME=4,r.EVENT_META_LYRICS=5,r.EVENT_META_MARKER=6,r.EVENT_META_CUE_POINT=7,r.EVENT_META_MIDI_CHANNEL_PREFIX=32,r.EVENT_META_END_OF_TRACK=47,r.EVENT_META_SET_TEMPO=81,r.EVENT_META_SMTPE_OFFSET=84,r.EVENT_META_TIME_SIGNATURE=88,r.EVENT_META_KEY_SIGNATURE=89,r.EVENT_META_SEQUENCER_SPECIFIC=127,r.EVENT_MIDI_NOTE_OFF=8,r.EVENT_MIDI_NOTE_ON=9,r.EVENT_MIDI_NOTE_AFTERTOUCH=10,r.EVENT_MIDI_CONTROLLER=11,r.EVENT_MIDI_PROGRAM_CHANGE=12,r.EVENT_MIDI_CHANNEL_AFTERTOUCH=13,r.EVENT_MIDI_PITCH_BEND=14,r.MIDI_1PARAM_EVENTS=[r.EVENT_MIDI_PROGRAM_CHANGE,r.EVENT_MIDI_CHANNEL_AFTERTOUCH],r.MIDI_2PARAMS_EVENTS=[r.EVENT_MIDI_NOTE_OFF,r.EVENT_MIDI_NOTE_ON,r.EVENT_MIDI_NOTE_AFTERTOUCH,r.EVENT_MIDI_CONTROLLER,r.EVENT_MIDI_PITCH_BEND],r.createParser=function(e,t,n){var o,i,a,s,l;if(e instanceof DataView&&(e={position:t||0,buffer:e,readUint8:function(){return this.buffer.getUint8(this.position++)},readUint16:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readUint32:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readVarInt:function(){for(var e,t=0,n=0;4>n++;){if(!(128&(e=this.readUint8())))return t+e;t+=127&e,t<<=7}throw new Error("0x"+this.position.toString(16)+": Variable integer length cannot exceed 4 bytes")},readBytes:function(e){for(var t=[];0<e;e--)t.push(this.readUint8());return t},pos:function(){return"0x"+(this.buffer.byteOffset+this.position).toString(16)},end:function(){return this.position===this.buffer.byteLength}},t=0),0<t)for(;t--;)e.readUint8();return{next:function(){if(e.end())return null;if(i={index:e.pos(),delta:e.readVarInt()},240==(240&(o=e.readUint8()))){if(o!==r.EVENT_META){if(o===r.EVENT_SYSEX||o===r.EVENT_DIVSYSEX)return i.type=o,i.length=e.readVarInt(),i.data=e.readBytes(i.length),i;if(n)throw new Error(e.pos()+" Unknown event type "+o.toString(16)+", Delta: "+i.delta+".");return i.type=o,i.badsubtype=e.readVarInt(),i.length=e.readUint8(),i.data=e.readBytes(i.length),i}switch(i.type=r.EVENT_META,i.subtype=e.readUint8(),i.length=e.readVarInt(),i.subtype){case r.EVENT_META_SEQUENCE_NUMBER:if(n&&2!==i.length)throw new Error(e.pos()+" Bad metaevent length.");return i.msb=e.readUint8(),i.lsb=e.readUint8(),i;case r.EVENT_META_TEXT:case r.EVENT_META_COPYRIGHT_NOTICE:case r.EVENT_META_TRACK_NAME:case r.EVENT_META_INSTRUMENT_NAME:case r.EVENT_META_LYRICS:case r.EVENT_META_MARKER:case r.EVENT_META_CUE_POINT:return i.data=e.readBytes(i.length),i;case r.EVENT_META_MIDI_CHANNEL_PREFIX:if(n&&1!==i.length)throw new Error(e.pos()+" Bad metaevent length.");return i.prefix=e.readUint8(),i;case r.EVENT_META_END_OF_TRACK:if(n&&0!==i.length)throw new Error(e.pos()+" Bad metaevent length.");return i;case r.EVENT_META_SET_TEMPO:if(n&&3!==i.length)throw new Error(e.pos()+" Tempo meta event length must be 3.");return i.tempo=(e.readUint8()<<16)+(e.readUint8()<<8)+e.readUint8(),i.tempoBPM=6e7/i.tempo,i;case r.EVENT_META_SMTPE_OFFSET:if(n&&5!==i.length)throw new Error(e.pos()+" Bad metaevent length.");if(i.hour=e.readUint8(),n&&23<i.hour)throw new Error(e.pos()+" SMTPE offset hour value must be part of 0-23.");if(i.minutes=e.readUint8(),n&&59<i.minutes)throw new Error(e.pos()+" SMTPE offset minutes value must be part of 0-59.");if(i.seconds=e.readUint8(),n&&59<i.seconds)throw new Error(e.pos()+" SMTPE offset seconds value must be part of 0-59.");if(i.frames=e.readUint8(),n&&30<i.frames)throw new Error(e.pos()+" SMTPE offset frames value must be part of 0-30.");if(i.subframes=e.readUint8(),n&&99<i.subframes)throw new Error(e.pos()+" SMTPE offset subframes value must be part of 0-99.");return i;case r.EVENT_META_KEY_SIGNATURE:if(n&&2!==i.length)throw new Error(e.pos()+" Bad metaevent length.");if(i.key=e.readUint8(),n&&(-7>i.key||7<i.key))throw new Error(e.pos()+" Bad metaevent length.");if(i.scale=e.readUint8(),n&&0!==i.scale&&1!==i.scale)throw new Error(e.pos()+" Key signature scale value must be 0 or 1.");return i;case r.EVENT_META_TIME_SIGNATURE:if(n&&4!==i.length)throw new Error(e.pos()+" Bad metaevent length.");return i.data=e.readBytes(i.length),i.param1=i.data[0],i.param2=i.data[1],i.param3=i.data[2],i.param4=i.data[3],i;case r.EVENT_META_SEQUENCER_SPECIFIC:return i.data=e.readBytes(i.length),i;default:if(n)throw new Error(e.pos()+" Unknown meta event type ("+i.subtype.toString(16)+").");return i.data=e.readBytes(i.length),i}}else{if(0==(128&o)){if(!a)throw new Error(e.pos()+" Running status without previous event");l=o}else a=o>>4,s=15&o,l=e.readUint8();switch(i.type=r.EVENT_MIDI,i.subtype=a,i.channel=s,i.param1=l,a){case r.EVENT_MIDI_NOTE_OFF:return i.param2=e.readUint8(),i;case r.EVENT_MIDI_NOTE_ON:return i.param2=e.readUint8(),i.param2||(i.subtype=r.EVENT_MIDI_NOTE_OFF,i.param2=127),i;case r.EVENT_MIDI_NOTE_AFTERTOUCH:case r.EVENT_MIDI_CONTROLLER:return i.param2=e.readUint8(),i;case r.EVENT_MIDI_PROGRAM_CHANGE:case r.EVENT_MIDI_CHANNEL_AFTERTOUCH:return i;case r.EVENT_MIDI_PITCH_BEND:return i.param2=e.readUint8(),i;default:if(n)throw new Error(e.pos()+" Unknown MIDI event type ("+a.toString(16)+").");return i}}}}},r.writeToTrack=function(e,t,n){var o,i,a,s,l=0;for(o=0,i=e.length;o<i;o++){if(e[o].delta>>>28)throw Error("Event #"+o+": Maximum delta time value reached ("+e[o].delta+"/134217728 max)");if(e[o].delta>>>21&&(t[l++]=e[o].delta>>>21&127|128),e[o].delta>>>14&&(t[l++]=e[o].delta>>>14&127|128),e[o].delta>>>7&&(t[l++]=e[o].delta>>>7&127|128),t[l++]=127&e[o].delta,e[o].type===r.EVENT_MIDI)t[l++]=(e[o].subtype<<4)+e[o].channel,t[l++]=e[o].param1,-1!==r.MIDI_2PARAMS_EVENTS.indexOf(e[o].subtype)&&(t[l++]=e[o].param2);else{if(t[l++]=e[o].type,e[o].type===r.EVENT_META&&(t[l++]=e[o].subtype),e[o].length>>>28)throw Error("Event #"+o+": Maximum length reached ("+e[o].length+"/134217728 max)");if(e[o].length>>>21&&(t[l++]=e[o].length>>>21&127|128),e[o].length>>>14&&(t[l++]=e[o].length>>>14&127|128),e[o].length>>>7&&(t[l++]=e[o].length>>>7&127|128),t[l++]=127&e[o].length,e[o].type===r.EVENT_META)switch(e[o].subtype){case r.EVENT_META_SEQUENCE_NUMBER:t[l++]=e[o].msb,t[l++]=e[o].lsb;break;case r.EVENT_META_TEXT:case r.EVENT_META_COPYRIGHT_NOTICE:case r.EVENT_META_TRACK_NAME:case r.EVENT_META_INSTRUMENT_NAME:case r.EVENT_META_LYRICS:case r.EVENT_META_MARKER:case r.EVENT_META_CUE_POINT:for(a=0,s=e[o].length;a<s;a++)t[l++]=e[o].data[a];break;case r.EVENT_META_MIDI_CHANNEL_PREFIX:t[l++]=e[o].prefix;break;case r.EVENT_META_END_OF_TRACK:break;case r.EVENT_META_SET_TEMPO:t[l++]=e[o].tempo>>16,t[l++]=e[o].tempo>>8&255,t[l++]=255&e[o].tempo;break;case r.EVENT_META_SMTPE_OFFSET:if(n&&23<e[o].hour)throw new Error("Event #"+o+": SMTPE offset hour value must be part of 0-23.");if(t[l++]=e[o].hour,n&&59<e[o].minutes)throw new Error("Event #"+o+": SMTPE offset minutes value must be part of 0-59.");if(t[l++]=e[o].minutes,n&&59<e[o].seconds)throw new Error("Event #"+o+": SMTPE offset seconds value must be part of 0-59.");if(t[l++]=e[o].seconds,n&&30<e[o].frames)throw new Error("Event #"+o+": SMTPE offset frames amount must be part of 0-30.");if(t[l++]=e[o].frames,n&&99<e[o].subframes)throw new Error("Event #"+o+": SMTPE offset subframes amount must be part of 0-99.");t[l++]=e[o].subframes;break;case r.EVENT_META_KEY_SIGNATURE:if("number"!=typeof e[o].key||-7>e[o].key||7<e[o].scale)throw new Error("Event #"+o+":The key signature key must be between -7 and 7");if("number"!=typeof e[o].scale||0>e[o].scale||1<e[o].scale)throw new Error("Event #"+o+":The key signature scale must be 0 or 1");t[l++]=e[o].key,t[l++]=e[o].scale;break;case r.EVENT_META_TIME_SIGNATURE:case r.EVENT_META_SEQUENCER_SPECIFIC:default:for(a=0,s=e[o].length;a<s;a++)t[l++]=e[o].data[a]}else for(a=0,s=e[o].length;a<s;a++)t[l++]=e[o].data[a]}}},r.getRequiredBufferLength=function(e){var t,n=0,o=0;for(o=0,t=e.length;o<t;o++)n+=e[o].delta>>>21?4:e[o].delta>>>14?3:e[o].delta>>>7?2:1,e[o].type===r.EVENT_MIDI?(n++,n++,-1!==r.MIDI_2PARAMS_EVENTS.indexOf(e[o].subtype)&&n++):(n++,e[o].type===r.EVENT_META&&n++,n+=e[o].length>>>21?4:e[o].length>>>14?3:e[o].length>>>7?2:1,n+=e[o].length);return n},e.exports=r},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}var u=[];for(l=s;l<o.length;l++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(26))},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return d}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,a=i?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=o>>2,c=(3&o)<<4|a>>4;let f=(15&a)<<2|l>>6,h=63&l;s||(h=64,i||(f=64)),r.push(n[u],n[c],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==l)throw new a;const u=o<<2|i>>4;if(r.push(u),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=o(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-25089589-5"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},f=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config};function h(){try{return"object"==typeof indexedDB}catch(e){return!1}}function d(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class p extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m.prototype.create)}}class m{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(v,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new p(r,a,n)}}const v=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(y(n)&&y(i)){if(!g(n,i))return!1}else if(n!==i)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function y(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,n(22),n(26))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var r=n(14);function o(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&o(e),l=t&&o(t),u=s||l;if(e&&o(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?i(a,h):".."===d?(i(a,h),f++):f&&(i(a,h),f--)}if(!u)for(;f--;f)a.unshift("..");!u||""===a[0]||a[0]&&o(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=s(t),o=s(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(20);function c(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function m(e,t,n,o){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=Object(r.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function _(){try{return window.history.state||{}}catch(e){return{}}}function w(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t,n=window.history,o=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,l=void 0!==s&&s,f=a.getUserConfirmation,v=void 0===f?b:f,w=a.keyLength,S=void 0===w?6:w,E=e.basename?d(c(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return E&&(i=h(i,E)),m(i,r,n)}function k(){return Math.random().toString(36).substr(2,S)}var x=g();function C(e){Object(r.a)(z,e),z.length=n.length,x.notifyListeners(z.location,z.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||A(T(e.state))}function P(){A(T(_()))}var I=!1;function A(e){if(I)I=!1,C();else{x.confirmTransitionTo(e,"POP",v,(function(t){t?C({action:"POP",location:e}):function(e){var t=z.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(I=!0,j(o))}(e)}))}}var R=T(_()),M=[R.key];function N(e){return E+p(e)}function j(e){n.go(e)}var D=0;function L(e){1===(D+=e)&&1===e?(window.addEventListener("popstate",O),i&&window.addEventListener("hashchange",P)):0===D&&(window.removeEventListener("popstate",O),i&&window.removeEventListener("hashchange",P))}var F=!1;var z={length:n.length,action:"POP",location:R,createHref:N,push:function(e,t){var r=m(e,t,k(),z.location);x.confirmTransitionTo(r,"PUSH",v,(function(e){if(e){var t=N(r),i=r.key,a=r.state;if(o)if(n.pushState({key:i,state:a},null,t),l)window.location.href=t;else{var s=M.indexOf(z.location.key),u=M.slice(0,s+1);u.push(r.key),M=u,C({action:"PUSH",location:r})}else window.location.href=t}}))},replace:function(e,t){var r=m(e,t,k(),z.location);x.confirmTransitionTo(r,"REPLACE",v,(function(e){if(e){var t=N(r),i=r.key,a=r.state;if(o)if(n.replaceState({key:i,state:a},null,t),l)window.location.replace(t);else{var s=M.indexOf(z.location.key);-1!==s&&(M[s]=r.key),C({action:"REPLACE",location:r})}else window.location.replace(t)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return F||(L(1),F=!0),function(){return F&&(F=!1,L(-1)),t()}},listen:function(e){var t=x.appendListener(e);return L(1),function(){L(-1),t()}}};return z}var S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:c},slash:{encodePath:c,decodePath:c}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function k(e){window.location.replace(E(window.location.href)+"#"+e)}function x(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,i=void 0===o?b:o,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?d(c(e.basename)):"",f=S[s],v=f.encodePath,_=f.decodePath;function w(){var e=_(T());return l&&(e=h(e,l)),m(e)}var x=g();function C(e){Object(r.a)(z,e),z.length=t.length,x.notifyListeners(z.location,z.action)}var O=!1,P=null;function I(){var e,t,n=T(),r=v(n);if(n!==r)k(r);else{var o=w(),a=z.location;if(!O&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(P===p(o))return;P=null,function(e){if(O)O=!1,C();else{x.confirmTransitionTo(e,"POP",i,(function(t){t?C({action:"POP",location:e}):function(e){var t=z.location,n=N.lastIndexOf(p(t));-1===n&&(n=0);var r=N.lastIndexOf(p(e));-1===r&&(r=0);var o=n-r;o&&(O=!0,j(o))}(e)}))}}(o)}}var A=T(),R=v(A);A!==R&&k(R);var M=w(),N=[p(M)];function j(e){t.go(e)}var D=0;function L(e){1===(D+=e)&&1===e?window.addEventListener("hashchange",I):0===D&&window.removeEventListener("hashchange",I)}var F=!1;var z={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+v(l+p(e))},push:function(e,t){var n=m(e,void 0,void 0,z.location);x.confirmTransitionTo(n,"PUSH",i,(function(e){if(e){var t=p(n),r=v(l+t);if(T()!==r){P=t,function(e){window.location.hash=e}(r);var o=N.lastIndexOf(p(z.location)),i=N.slice(0,o+1);i.push(t),N=i,C({action:"PUSH",location:n})}else C()}}))},replace:function(e,t){var n=m(e,void 0,void 0,z.location);x.confirmTransitionTo(n,"REPLACE",i,(function(e){if(e){var t=p(n),r=v(l+t);T()!==r&&(P=t,k(r));var o=N.indexOf(p(z.location));-1!==o&&(N[o]=t),C({action:"REPLACE",location:n})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return F||(L(1),F=!0),function(){return F&&(F=!1,L(-1)),t()}},listen:function(e){var t=x.appendListener(e);return L(1),function(){L(-1),t()}}};return z}function C(e,t,n){return Math.min(Math.max(e,t),n)}function O(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,u=void 0===l?6:l,c=g();function f(e){Object(r.a)(_,e),_.length=_.entries.length,c.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,u)}var d=C(s,0,i.length-1),v=i.map((function(e){return m(e,void 0,"string"==typeof e?h():e.key||h())})),y=p;function b(e){var t=C(_.index+e,0,_.entries.length-1),r=_.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var _={length:v.length,action:"POP",location:v[d],index:d,entries:v,createHref:y,push:function(e,t){var r=m(e,t,h(),_.location);c.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,h(),_.location);c.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(_.entries[_.index]=r,f({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return _}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="Invariant failed";function o(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return o}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(131);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(32),o=n(118),i=n(40),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,h,d,p=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,h=setTimeout(w,t),m?y(e):f}function _(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-p>=c}function w(){var e=o();if(_(e))return S(e);h=setTimeout(w,function(e){var n=t-(e-d);return v?s(n,c-(e-p)):n}(e))}function S(e){return h=void 0,g&&l?y(e):(l=u=void 0,f)}function E(){var e=o(),n=_(e);if(l=arguments,u=this,d=e,n){if(void 0===h)return b(d);if(v)return clearTimeout(h),h=setTimeout(w,t),y(d)}return void 0===h&&(h=setTimeout(w,t)),f}return t=i(t)||0,r(n)&&(m=!!n.leading,c=(v="maxWait"in n)?a(i(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=d=u=h=void 0},E.flush=function(){return void 0===h?f:S(o())},E}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(82)},function(e,t,n){var r=n(90),o=n(93),i=n(43);e.exports=function(e){return(i(e)?r:o)(e)}},function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return l(e);if("number"==typeof e)return s(e,t);return null},e.exports.format=s,e.exports.parse=l;var r=/\B(?=(\d{3})+(?!\d))/g,o=/(?:\.0*|(\.[^0]+)0+)$/,i={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},a=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function s(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),a=t&&t.thousandsSeparator||"",s=t&&t.unitSeparator||"",l=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,u=Boolean(t&&t.fixedDecimals),c=t&&t.unit||"";c&&i[c.toLowerCase()]||(c=n>=i.pb?"PB":n>=i.tb?"TB":n>=i.gb?"GB":n>=i.mb?"MB":n>=i.kb?"KB":"B");var f=(e/i[c.toLowerCase()]).toFixed(l);return u||(f=f.replace(o,"$1")),a&&(f=f.split(".").map((function(e,t){return 0===t?e.replace(r,a):e})).join(".")),f+s+c}function l(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=a.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),isNaN(t)?null:Math.floor(i[r]*t)}},function(e,t,n){e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return o(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";t.exports={CalcCascades:e("./src/calcCascades"),Fft:e("./src/fft"),FirCoeffs:e("./src/firCoeffs"),FirFilter:e("./src/firFilter"),IirCoeffs:e("./src/iirCoeffs"),IirFilter:e("./src/iirFilter"),TestFilter:e("./src/testFilter")}},{"./src/calcCascades":2,"./src/fft":3,"./src/firCoeffs":4,"./src/firFilter":5,"./src/iirCoeffs":6,"./src/iirFilter":7,"./src/testFilter":8}],2:[function(e,t,n){"use strict";var r=new(e("./iirCoeffs")),o={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},i={bessel:{as:[[1.3617],[1.3397,.7743],[1.2217,.9686,.5131],[1.1112,.9754,.7202,.3728],[1.0215,.9393,.7815,.5604,.2883]],bs:[[.618],[.4889,.389],[.3887,.3505,.2756],[.3162,.2979,.2621,.2087],[.265,.2549,.2351,.2059,.1665]]},butterworth:{as:[[1.4142],[1.8478,.7654],[1.9319,1.4142,.5176],[1.9616,1.6629,1.1111,.3902],[1.9754,1.782,1.4142,.908,.3129]],bs:[[1],[1,1],[1,1,1],[1,1,1,1],[1,1,1,1,1]]},tschebyscheff05:{as:[[1.3614],[2.6282,.3648],[3.8645,.7528,.1589],[5.1117,1.0639,.3439,.0885],[6.3648,1.3582,.4822,.1994,.0563]],bs:[[1.3827],[3.4341,1.1509],[6.9797,1.8573,1.0711],[11.9607,2.9365,1.4206,1.0407],[18.3695,4.3453,1.944,1.252,1.0263]]},tschebyscheff1:{as:[[1.3022],[2.5904,.3039],[3.8437,.6292,.1296],[5.1019,.8916,.2806,.0717],[6.3634,1.1399,.3939,.1616,.0455]],bs:[[1.5515],[4.1301,1.1697],[8.5529,1.9124,1.0766],[14.7608,3.0426,1.4334,1.0432],[22.7468,4.5167,1.9665,1.2569,1.0277]]},tschebyscheff2:{as:[[1.1813],[2.4025,.2374],[3.588,.4925,.0995],[4.7743,.6991,.2153,.0547],[5.9618,.8947,.3023,.1233,.0347]],bs:[[1.7775],[4.9862,1.1896],[10.4648,1.9622,1.0826],[18.151,3.1353,1.4449,1.0461],[28.0376,4.6644,1.9858,1.2614,1.0294]]},tschebyscheff3:{as:[[1.065],[2.1853,.1964],[3.2721,.4077,.0815],[4.3583,.5791,.1765,.0448],[5.4449,.7414,.2479,.1008,.0283]],bs:[[1.9305],[5.5339,1.2009],[11.6773,1.9873,1.0861],[20.2948,3.1808,1.4507,1.0478],[31.3788,4.7363,1.9952,1.2638,1.0304]]},allpass:{as:[[1.6278],[2.337,1.3506],[2.6117,2.0706,1.0967],[2.7541,2.4174,1.785,.9239],[2.8406,2.612,2.1733,1.5583,.8018]],bs:[[.8832],[1.4878,1.1837],[1.7763,1.6015,1.2596],[1.942,1.83,1.6101,1.2822],[2.049,1.9714,1.8184,1.5923,1.2877]]}},a=function(e){return function(t){return function(e,t){var n=[],a=0;if("fromPZ"!==t)for(e.order>12&&(e.order=12),a=0;a<e.order;a++){var s,l,u;"matchedZ"===e.transform?n.push(r.lowpassMZ({Fs:e.Fs,Fc:e.Fc,preGain:e.preGain,as:i[e.characteristic].as[e.order-1][a],bs:i[e.characteristic].bs[e.order-1][a]})):("butterworth"===e.characteristic?(s=.5/Math.sin(Math.PI/(2*e.order)*(a+.5)),l=1):(s=o[e.characteristic].q[e.order-1][a],l=e.oneDb?o[e.characteristic].f1dB[e.order-1][a]:o[e.characteristic].f3dB[e.order-1][a]),u="highpass"===t?e.Fc/l:e.Fc*l,"bandpass"!==t&&"bandstop"!==t||"bessel"===e.characteristic&&(u=Math.sqrt(e.order)*u/e.order),n.push(r[t]({Fs:e.Fs,Fc:u,Q:s,BW:e.BW||0,gain:e.gain||0,preGain:e.preGain||!1})))}else for(a=0;a<e.length;a++)n.push(r[t](e[a]));return n}(t,e)}},s={};t.exports=function(){var e=[];for(var t in r)s[t]=a(t),e.push(t);return s.available=function(){return e},s}},{"./iirCoeffs":6}],3:[function(e,t,n){"use strict";t.exports=function(e){if(!function(e){return!(e&e-1)}(e))return!1;var t={};t.length=e,t.buffer=new Float64Array(e),t.re=new Float64Array(e),t.im=new Float64Array(e),t.reI=new Float64Array(e),t.imI=new Float64Array(e),t.twiddle=new Int32Array(e),t.sinTable=new Float64Array(e-1),t.cosTable=new Float64Array(e-1);var n=2*Math.PI,r=Math.floor(Math.log(e)/Math.LN2);for(i=t.sinTable.length;i--;)t.sinTable[i]=Math.sin(n*(i/e)),t.cosTable[i]=Math.cos(n*(i/e));for(var o=e>>1,i=0,a=0;t.twiddle[i]=a,!(++i>=e);){for(r=o;r<=a;)a-=r,r>>=1;a+=r}var s=Math.PI,l=2*Math.PI,u=Math.abs,c=Math.pow,f=Math.cos,h=Math.sin,d=Math.E,p={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(e,t){return.5*(1-f(l*e/(t-1)))},values:[],correction:2},hamming:{calc:function(e,t){return.54-.46*f(l*e/(t-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(e,t,n){return e<n*(t-1)/2?.5*(1+f(s*(2*e/(n*(t-1))-1))):(t-1)*(1-n/2)<e?.5*(1+f(s*(2*e/(n*(t-1))-2/n+1))):1},values:[],correction:4/3},cosine:{calc:function(e,t){return h(s*e/(t-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(e,t){return function(e){return h(s*e)/(s*e)}(2*e/(t-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(e,t){return 2/(t+1)*((t+1)/2-u(e-(t-1)/2))},values:[],correction:2},bartlett:{calc:function(e,t){return 2/(t-1)*((t-1)/2-u(e-(t-1)/2))},values:[],correction:2},gaussian:{calc:function(e,t,n){return c(d,-.5*c((e-(t-1)/2)/(n*(t-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(e,t){var n=l*e/(t-1);return.62-.48*u(e/(t-1)-.5)-.38*f(n)},values:[],correction:2},blackman:{calc:function(e,t,n){var r=n/2,o=l*e/(t-1);return(1-n)/2-.5*f(o)+r*f(2*o)},values:[],correction:4/3},blackmanHarris:{calc:function(e,t){var n=l*e/(t-1);return.35875-.48829*f(n)+.14128*f(2*n)-.01168*f(3*n)},values:[],correction:1.5594508635},nuttall3:{calc:function(e,t){var n=l*e/(t-1);return.375-.5*f(n)+.125*f(2*n)},values:[],correction:1.56},nuttall3a:{calc:function(e,t){var n=l*e/(t-1);return.40897-.5*f(n)+.09103*f(2*n)},values:[],correction:1.692},nuttall3b:{calc:function(e,t){var n=l*e/(t-1);return.4243801-.4973406*f(n)+.078793*f(2*n)},values:[],correction:1.7372527},nuttall4:{calc:function(e,t){var n=l*e/(t-1);return.3125-.46875*f(n)+.1875*f(2*n)-.03125*f(3*n)},values:[],correction:1.454543},nuttall4a:{calc:function(e,t){var n=l*e/(t-1);return.338946-.481973*f(n)+.161054*f(2*n)-.018027*f(3*n)},values:[],correction:1.512732763},nuttall4b:{calc:function(e,t){var n=l*e/(t-1);return.355768-.481973*f(n)+.144232*f(2*n)-.012604*f(3*n)},values:[],correction:1.55223262},nuttall4c:{calc:function(e,t){var n=l*e/(t-1);return.3635819-.4891775*f(n)+.1365995*f(2*n)-.0106411*f(3*n)},values:[],correction:1.57129067},sft3f:{calc:function(e,t){var n=l*e/(t-1);return.26526-.5*f(n)+.23474*f(2*n)},values:[],correction:1.3610238},sft4f:{calc:function(e,t){var n=l*e/(t-1);return.21706-.42103*f(n)+.28294*f(2*n)-.07897*f(3*n)},values:[],correction:1.2773573},sft5f:{calc:function(e,t){var n=l*e/(t-1);return.1881-.36923*f(n)+.28702*f(2*n)-.13077*f(3*n)+.02488*f(4*n)},values:[],correction:1.23167769},sft3m:{calc:function(e,t){var n=l*e/(t-1);return.28235-.52105*f(n)+.19659*f(2*n)},values:[],correction:1.39343451},sft4m:{calc:function(e,t){var n=l*e/(t-1);return.241906-.460841*f(n)+.2552381*f(2*n)-.041872*f(3*n)},values:[],correction:1.3190596},sft5m:{calc:function(e,t){var n=l*e/(t-1);return.209671-.407331*f(n)+.281225*f(2*n)-.092669*f(3*n)+.0091036*f(4*n)},values:[],correction:1.26529456464},nift:{calc:function(e,t){var n=l*e/(t-1);return.2810639-.5208972*f(n)+.1980399*f(2*n)},values:[],correction:1.39094182},hpft:{calc:function(e,t){var n=l*e/(t-1);return(1-1.912510941*f(n)+1.079173272*f(2*n)-.1832630879*f(3*n))/t},values:[],correction:1},srft:{calc:function(e,t){var n=l*e/(t-1);return(1-1.93*f(n)+1.29*f(2*n)-.388*f(3*n)+.028*f(4*n))/t},values:[],correction:1},hft70:{calc:function(e,t){var n=l*e/(t-1);return(1-1.90796*f(n)+1.07349*f(2*n)-.18199*f(3*n))/t},values:[],correction:1},hft95:{calc:function(e,t){var n=l*e/(t-1);return(1-1.9383379*f(n)+1.3045202*f(2*n)-.402827*f(3*n)+.0350665*f(4*n))/t},values:[],correction:1},hft90d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.942604*f(n)+1.340318*f(2*n)-.440811*f(3*n)+.043097*f(4*n))/t},values:[],correction:1},hft116d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.9575375*f(n)+1.4780705*f(2*n)-.6367431*f(3*n)+.1228389*f(4*n)-.0066288*f(5*n))/t},values:[],correction:1},hft144d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.96760033*f(n)+1.57983607*f(2*n)-.81123644*f(3*n)+.22583558*f(4*n)-.02773848*f(5*n)+9036e-7*f(6*n))/t},values:[],correction:1},hft196d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.97441842*f(n)+1.65409888*f(2*n)-.95788186*f(3*n)+.3367342*f(4*n)-.06364621*f(5*n)+.00521942*f(6*n)-10599e-8*f(7*n))/t},values:[],correction:1},hft223d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.98298997309*f(n)+1.75556083063*f(2*n)-1.19037717712*f(3*n)+.56155440797*f(4*n)-.17296769663*f(5*n)+.03233247087*f(6*n)-.00324954578*f(7*n)+.0001380104*f(8*n)-132725e-11*f(9*n))/t},values:[],correction:1},hft248d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.985844164102*f(n)+1.791176438506*f(2*n)-1.282075284005*f(3*n)+.667777530266*f(4*n)-.240160796576*f(5*n)+.056656381764*f(6*n)-.008134974479*f(7*n)+.00062454465*f(8*n)-19808998e-12*f(9*n)+1.32974e-7*f(10*n))/t},values:[],correction:1}},m=function(e){return p[e.name].values.length!==e.N?(0===e.n&&(p[e.name].values.length=0),p[e.name].values[e.n]=p[e.name].correction*p[e.name].calc(e.n,e.N,e.a),p[e.name].values[e.n]):p[e.name].values};return{forward:function(e,n){var r,o,i,a,s,l,u,c,f,h,d,p,v={name:n,N:i=t.buffer.length,a:.5,n:0},g=m(v);if("number"==typeof g)for(r=0;r<i;++r)v.n=r,t.buffer[r]=e[r]*m(v);else for(r=0;r<i;++r)t.buffer[r]=e[r]*g[r];for(r=i;r--;)t.re[r]=t.buffer[t.twiddle[r]],t.im[r]=0;for(a=1;a<i;a=s)for(l=0,u=i/(s=a+a),o=0;o<a;o++){for(c=t.cosTable[l],f=t.sinTable[l],r=o;r<i;r+=s)h=r+a,d=f*t.im[h]+c*t.re[h],p=c*t.im[h]-f*t.re[h],t.re[h]=t.re[r]-d,t.re[r]+=d,t.im[h]=t.im[r]-p,t.im[r]+=p;l+=u}return{re:t.re,im:t.im}},inverse:function(e,n){var r,o,i,a,s,l,u,c,f,h,d,p;for(r=i=e.length;r--;)o=t.twiddle[r],t.reI[r]=e[o],t.imI[r]=-n[o];for(a=1;a<i;a=s)for(l=0,u=i/(s=a+a),o=0;o<a;o++){for(c=t.cosTable[l],f=t.sinTable[l],r=o;r<i;r+=s)h=r+a,d=f*t.imI[h]+c*t.reI[h],p=c*t.imI[h]-f*t.reI[h],t.reI[h]=t.reI[r]-d,t.reI[r]+=d,t.imI[h]=t.imI[r]-p,t.imI[r]+=p;l+=u}for(r=i;r--;)t.buffer[r]=t.reI[r]/i;return t.buffer},magnitude:function(e){for(var t=[],n=0;n<e.re.length;n++)t.push(Math.sqrt(e.re[n]*e.re[n]+e.im[n]*e.im[n]));return t},magToDb:function(e){for(var t=[],n=0;n<e.length;n++)t.push(20*Math.log(e[n])*Math.LOG10E);return t},phase:function(e){for(var t=[],n=0;n<e.re.length;n++)t.push(Math.atan2(e.im[n],e.re[n]));return t},windows:function(){var e=[];for(var t in p)e.push(t);return e}}}},{}],4:[function(e,t,n){"use strict";t.exports=function(){var e=function(e){var t=e.Fs,n=e.Fc,r=e.order,o=2*Math.PI*n/t,i=0,a=0,s=[];for(i=0;i<=r;i++)i-r/2==0?s[i]=o:(s[i]=Math.sin(o*(i-r/2))/(i-r/2),s[i]*=.54-.46*Math.cos(2*Math.PI*i/r)),a+=s[i];for(i=0;i<=r;i++)s[i]/=a;return s},t=function(e){var t;for(t=0;t<e.length;t++)e[t]=-e[t];return e[(e.length-1)/2]++,e},n=function(n){for(var r=e({order:n.order,Fs:n.Fs,Fc:n.F2}),o=t(e({order:n.order,Fs:n.Fs,Fc:n.F1})),i=[],a=0;a<r.length;a++)i.push(r[a]+o[a]);return i};return{lowpass:function(t){return e(t)},highpass:function(n){return t(e(n))},bandstop:function(e){return n(e)},bandpass:function(e){return t(n(e))},kbFilter:function(e){return function(e){var t=e.Fs,n=e.Fa,r=e.Fb,o=e.order||51,i=e.Att||100,a=function(e){for(var t=0,n=1,r=1;n>1e-6*r;)r+=n*=e*e/((t+=2)*t);return r};o/2-Math.floor(o/2)==0&&o++;var s,l,u=(o-1)/2,c=[],f=0,h=[];for(c[0]=2*(r-n)/t,f=1;f<=u;f++)c[f]=(Math.sin(2*f*Math.PI*r/t)-Math.sin(2*f*Math.PI*n/t))/(f*Math.PI);for(s=a(l=i<21?0:i>50?.1102*(i-8.7):.5842*Math.pow(i-21,.4)+.07886*(i-21)),f=0;f<=u;f++)h[u+f]=c[f]*a(l*Math.sqrt(1-f*f/(u*u)))/s;for(f=0;f<u;f++)h[f]=h[o-1-f];return h}(e)},available:function(){return["lowpass","highpass","bandstop","bandpass","kbFilter"]}}}},{}],5:[function(e,t,n){"use strict";var r=e("./utils"),o=r.runMultiFilter,i=r.runMultiFilterReverse,a=r.complex,s=r.evaluatePhase;t.exports=function(e){var t=e,n=[],r=0;for(r=0;r<t.length;r++)n[r]={re:t[r],im:0};var l=function(e){var t,n=[];for(t=0;t<e;t++)n.push(0);return{buf:n,pointer:0}},u=l(t.length-1),c=function(e,n){n.buf[n.pointer]=e;var o=0;for(r=0;r<n.buf.length;r++)o+=t[r]*n.buf[(n.pointer+r)%n.buf.length];return n.pointer=(n.pointer+1)%n.buf.length,o},f=function(e){for(var r=e.Fs,o=e.Fr,i=-Math.PI*(o/r)*2,s={re:0,im:0},l=0;l<t.length-1;l++)s=a.add(s,a.mul(n[l],{re:Math.cos(i*l),im:Math.sin(i*l)}));var u=a.magnitude(s);return{magnitude:u,phase:a.phase(s),dBmagnitude:20*Math.log(u)*Math.LOG10E}};return{responsePoint:function(e){return f(e)},response:function(e){var t=[],n=0,r=2*(e=e||100);for(n=0;n<e;n++)t[n]=f({Fs:r,Fr:n});return s(t),t},simulate:function(e){return function(e){var n=l(t.length-1);return o(e,n,c)}(e)},singleStep:function(e){return c(e,u)},multiStep:function(e,t){return o(e,u,c,t)},filtfilt:function(e,t){return i(o(e,u,c,t),u,c,!0)},reinit:function(){u=l(t.length-1)}}}},{"./utils":9}],6:[function(e,t,n){"use strict";t.exports=function(){var e=function(e,t){var n=e.Q,r=e.Fc,o=e.Fs,i={},a=2*Math.PI*r/o;return e.BW?i.alpha=Math.sin(a)*Math.sinh(Math.log(2)/2*e.BW*a/Math.sin(a)):i.alpha=Math.sin(a)/(2*n),i.cw=Math.cos(a),i.a0=1+i.alpha,t.a0=i.a0,t.a.push(-2*i.cw/i.a0),t.k=1,t.a.push((1-i.alpha)/i.a0),i},t=function(e){var t=e.Q,n=e.Fc,r=e.Fs,o={},i=2*Math.PI*n/r;return o.alpha=Math.sin(i)/(2*t),o.cw=Math.cos(i),o.A=Math.pow(10,e.gain/40),o},n=function(){var e={z:[0,0],a:[],b:[]};return e};return{fromPZ:function(e){var t=n();return t.a0=1,t.b.push(1),t.b.push(-e.z0.re-e.z1.re),t.b.push(e.z0.re*e.z1.re-e.z0.im*e.z1.im),t.a.push(-e.p0.re-e.p1.re),t.a.push(e.p0.re*e.p1.re-e.p0.im*e.p1.im),"lowpass"===e.type?t.k=(1+t.a[0]+t.a[1])/(1+t.b[1]+t.b[2]):t.k=(1-t.a[0]+t.a[1])/(1-t.b[1]+t.b[2]),t},lowpassMZ:function(e){var t=n();t.a0=1;var r=e.as,o=e.bs,i=2*Math.PI*e.Fc/e.Fs,a=-r/(2*o);return t.a.push(2*-Math.pow(Math.E,a*i)*Math.cos(-i*Math.sqrt(Math.abs(Math.pow(r,2)/(4*Math.pow(o,2))-1/o)))),t.a.push(Math.pow(Math.E,2*a*i)),e.preGain?(t.b.push(1),t.k=t.a0+t.a[0]+t.a[1]):(t.b.push(t.a0+t.a[0]+t.a[1]),t.k=1),t.b.push(0),t.b.push(0),t},lowpassBT:function(e){var t=n();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=3*t.wp+3*t.wp2+1,t.b.push(3*t.wp2*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((6*t.wp2-2)/t.a0),t.a.push((3*t.wp2-3*t.wp+1)/t.a0),t},highpassBT:function(e){var t=n();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=t.wp+t.wp2+3,t.b.push(3*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((2*t.wp2-6)/t.a0),t.a.push((t.wp2-t.wp+3)/t.a0),t},lowpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return t.preGain?(r.k=.5*(1-o.cw),r.b.push(1/o.a0)):(r.k=1,r.b.push((1-o.cw)/(2*o.a0))),r.b.push(2*r.b[0]),r.b.push(r.b[0]),r},highpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return t.preGain?(r.k=.5*(1+o.cw),r.b.push(1/o.a0)):(r.k=1,r.b.push((1+o.cw)/(2*o.a0))),r.b.push(-2*r.b[0]),r.b.push(r.b[0]),r},allpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return r.k=1,r.b.push((1-o.alpha)/o.a0),r.b.push(-2*o.cw/o.a0),r.b.push((1+o.alpha)/o.a0),r},bandpassQ:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(o.alpha*t.Q/o.a0),r.b.push(0),r.b.push(-r.b[0]),r},bandpass:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(o.alpha/o.a0),r.b.push(0),r.b.push(-r.b[0]),r},bandstop:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(1/o.a0),r.b.push(-2*o.cw/o.a0),r.b.push(r.b[0]),r},peak:function(e){var r=n(),o=t(e);return r.k=1,r.a0=1+o.alpha/o.A,r.a.push(-2*o.cw/r.a0),r.a.push((1-o.alpha/o.A)/r.a0),r.b.push((1+o.alpha*o.A)/r.a0),r.b.push(-2*o.cw/r.a0),r.b.push((1-o.alpha*o.A)/r.a0),r},lowshelf:function(e){var r=n();e.BW&&delete e.BW;var o=t(e);r.k=1;var i=2*Math.sqrt(o.A)*o.alpha;return r.a0=o.A+1+(o.A-1)*o.cw+i,r.a.push(-2*(o.A-1+(o.A+1)*o.cw)/r.a0),r.a.push((o.A+1+(o.A-1)*o.cw-i)/r.a0),r.b.push(o.A*(o.A+1-(o.A-1)*o.cw+i)/r.a0),r.b.push(2*o.A*(o.A-1-(o.A+1)*o.cw)/r.a0),r.b.push(o.A*(o.A+1-(o.A-1)*o.cw-i)/r.a0),r},highshelf:function(e){var r=n();e.BW&&delete e.BW;var o=t(e);r.k=1;var i=2*Math.sqrt(o.A)*o.alpha;return r.a0=o.A+1-(o.A-1)*o.cw+i,r.a.push(2*(o.A-1-(o.A+1)*o.cw)/r.a0),r.a.push((o.A+1-(o.A-1)*o.cw-i)/r.a0),r.b.push(o.A*(o.A+1+(o.A-1)*o.cw+i)/r.a0),r.b.push(-2*o.A*(o.A-1+(o.A+1)*o.cw)/r.a0),r.b.push(o.A*(o.A+1+(o.A-1)*o.cw-i)/r.a0),r},aweighting:function(e){var t=n();t.k=1;var r=2*Math.PI*e.Fc/e.Fs,o=2*Math.tan(r/2),i=e.Q,a=Math.pow(o,2);return t.a0=4*i+a*i+2*o,t.a.push(2*a*i-8*i),t.a.push(4*i+a*i-2*o),t.b.push(a*i),t.b.push(2*a*i),t.b.push(a*i),t}}}},{}],7:[function(e,t,n){"use strict";var r=e("./utils"),o=r.complex,i=r.runMultiFilter,a=r.runMultiFilterReverse,s=r.evaluatePhase;t.exports=function(e){for(var t=e,n={re:1,im:0},r=[],l=[],u=0;u<t.length;u++){r[u]={};var c=t[u];r[u].b0={re:c.b[0],im:0},r[u].b1={re:c.b[1],im:0},r[u].b2={re:c.b[2],im:0},r[u].a1={re:c.a[0],im:0},r[u].a2={re:c.a[1],im:0},r[u].k={re:c.k,im:0},r[u].z=[0,0],l[u]={},l[u].b1=c.b[1]/c.b[0],l[u].b2=c.b[2]/c.b[0],l[u].a1=c.a[0],l[u].a2=c.a[1]}var f=function(e,t){var n=t*e.k.re-e.a1.re*e.z[0]-e.a2.re*e.z[1],r=e.b0.re*n+e.b1.re*e.z[0]+e.b2.re*e.z[1];return e.z[1]=e.z[0],e.z[0]=n,r},h=function(e,t){var n=e,r=0;for(r=0;r<t.length;r++)n=f(t[r],n);return n},d=function(e,t){var r=e.Fs,i=e.Fr,a=-Math.PI*(i/r)*2,s={re:Math.cos(a),im:Math.sin(a)},l=o.mul(t.k,o.add(t.b0,o.mul(s,o.add(t.b1,o.mul(t.b2,s))))),u=o.add(n,o.mul(s,o.add(t.a1,o.mul(t.a2,s)))),c=o.div(l,u);return{magnitude:o.magnitude(c),phase:o.phase(c)}},p=function(e){var t=0,n={magnitude:1,phase:0};for(t=0;t<r.length;t++){var o=d(e,r[t]);n.magnitude*=o.magnitude,n.phase+=o.phase}return n.dBmagnitude=20*Math.log(n.magnitude)*Math.LOG10E,n},m=function(){for(var e=[],n=0;n<t.length;n++)e[n]={b0:{re:c.b[0],im:0},b1:{re:c.b[1],im:0},b2:{re:c.b[2],im:0},a1:{re:c.a[0],im:0},a2:{re:c.a[1],im:0},k:{re:c.k,im:0},z:[0,0]};return e},v=function(e){var t=m();return i(e,t,h)},g=function(e,t){var n={},r=[],o=0;for(o=0;o<t;o++)r.push(e(o));n.out=v(r);var i=!1,a=!1;for(o=0;o<t-1;o++)if(n.out[o]>n.out[o+1]&&!i&&(i=!0,n.max={sample:o,value:n.out[o]}),i&&!a&&n.out[o]<n.out[o+1]){a=!0,n.min={sample:o,value:n.out[o]};break}return n},y=function(e,t){var n=Math.pow(e/2,2)-t;return n<0?[{re:-e/2,im:Math.sqrt(Math.abs(n))},{re:-e/2,im:-Math.sqrt(Math.abs(n))}]:[{re:-e/2+Math.sqrt(n),im:0},{re:-e/2-Math.sqrt(n),im:0}]};return{singleStep:function(e){return h(e,r)},multiStep:function(e,t){return i(e,r,h,t)},filtfilt:function(e,t){return a(i(e,r,h,t),r,h,!0)},simulate:function(e){return v(e)},stepResponse:function(e){return g((function(){return 1}),e)},impulseResponse:function(e){return g((function(e){return 0===e?1:0}),e)},responsePoint:function(e){return p(e)},response:function(e){var t=[],n=0,r=2*(e=e||100);for(n=0;n<e;n++)t[n]=p({Fs:r,Fr:n});return s(t),t},polesZeros:function(){return function(){for(var e=[],t=0;t<l.length;t++)e[t]={},e[t].z=y(l[t].b1,l[t].b2),e[t].p=y(l[t].a1,l[t].a2);return e}()},reinit:function(){for(u=0;u<r.length;u++)r[u].z=[0,0]}}}},{"./utils":9}],8:[function(e,t,n){"use strict";t.exports=function(e){var t,n=e,r=[],o=function(e){for(t=0;t<e.steps;t++)r.push(n.singleStep((Math.random()-.5)*e.pp+e.offset))},i=function(e){var o=e.offset+e.pp,i=e.offset-e.pp;for(t=0;t<e.steps;t++)t%200<100?r.push(n.singleStep(o)):r.push(n.singleStep(i))},a=function(e){var o=e.offset+e.pp,i=e.offset-e.pp;for(t=0;t<e.steps;t++)t%100==0?r.push(n.singleStep(o)):r.push(n.singleStep(i))},s=function(e){var o=e.offset+e.pp,i=e.offset-e.pp,a=i,s=(o-i)/100;for(t=0;t<e.steps;t++)t%200<100?a+=s:a-=s,r.push(n.singleStep(a))};return{randomStability:function(e){for(n.reinit(),r.length=0,o(e),t=e.setup;t<r.length;t++)if(r[t]>e.maxStable||r[t]<e.minStable)return r[t];return!0},directedRandomStability:function(e){var l;for(n.reinit(),r.length=0,l=0;l<e.tests;l++){var u=Math.random();u<.25?o(e):u<.5?i(e):u<.75?a(e):s(e)}for(o(e),t=e.setup;t<r.length;t++)if(r[t]>e.maxStable||r[t]<e.minStable)return r[t];return!0},evaluateBehavior:function(){}}}},{}],9:[function(e,t,n){"use strict";n.evaluatePhase=function(e){var t=0,n=0,r=Math.PI,o=2*r,i=[];for(n=0;n<e.length;n++)i.push(e[n].phase);for(e[0].unwrappedPhase=e[0].phase,e[0].groupDelay=0,n=1;n<i.length;n++){var a=i[n]-i[n-1];if(a>r)for(t=n;t<i.length;t++)i[t]-=o;else if(a<-r)for(t=n;t<i.length;t++)i[t]+=o;i[n]<0?e[n].unwrappedPhase=-i[n]:e[n].unwrappedPhase=i[n],e[n].phaseDelay=e[n].unwrappedPhase/(n/e.length),e[n].groupDelay=(e[n].unwrappedPhase-e[n-1].unwrappedPhase)/(r/e.length),e[n].groupDelay<0&&(e[n].groupDelay=-e[n].groupDelay)}0!==e[0].magnitude?(e[0].phaseDelay=e[1].phaseDelay,e[0].groupDelay=e[1].groupDelay):(e[0].phaseDelay=e[2].phaseDelay,e[0].groupDelay=e[2].groupDelay,e[1].phaseDelay=e[2].phaseDelay,e[1].groupDelay=e[2].groupDelay)},n.runMultiFilter=function(e,t,n,r){var o,i=[];for(r&&(i=e),o=0;o<e.length;o++)i[o]=n(e[o],t);return i},n.runMultiFilterReverse=function(e,t,n,r){var o,i=[];for(r&&(i=e),o=e.length-1;o>=0;o--)i[o]=n(e[o],t);return i};var r=function(e,t){for(var n=!0;n;){var r=e,o=t;if(n=!1,o||(o=1),r!==Math.floor(r)||o!==Math.floor(o))return 1;if(0===r||1===r)return o;e=r-1,t=o*r,n=!0}};n.besselFactors=function(e){for(var t=[],n=0;n<e+1;n++){var o=r(2*e-n),i=Math.pow(2,e-n)*r(n)*r(e-n);t.unshift(Math.floor(o/i))}return t};var o=function(e,t){for(var n=0,r=0;r<t;r++){var o=1/Math.pow(2,r+1);e>o&&(e-=o,n+=o)}return n},i=function(e,t){return e&Math.pow(2,t)};n.fixedPoint={convert:function(e,t,n){return function(e,t,n){var r=Math.abs(e),a=e-r;return{number:i(r,t).toString(),fraction:o(a,n).toString(),numberBits:t,fractionBits:n}}(e,t,n)},add:function(e,t){},sub:function(e,t){},mul:function(e,t){},div:function(e,t){}},n.complex={div:function(e,t){var n=e.re,r=e.im,o=t.re,i=t.im,a=o*o+i*i;return{re:(n*o+r*i)/a,im:(r*o-n*i)/a}},mul:function(e,t){var n=e.re,r=e.im,o=t.re,i=t.im;return{re:n*o-r*i,im:(n+r)*(o+i)-n*o-r*i}},add:function(e,t){return{re:e.re+t.re,im:e.im+t.im}},sub:function(e,t){return{re:e.re-t.re,im:e.im-t.im}},phase:function(e){return Math.atan2(e.im,e.re)},magnitude:function(e){return Math.sqrt(e.re*e.re+e.im*e.im)}}},{}]},{},[1])(1)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(41),o=n(88),i=n(89),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a,s;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var u=l.length,c=v(l,u);for(n=0;n<u;++n)i(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(119),o=n(120),i=n(15),a=n(121);function s(e,t){var n,i,a,s;if(e){if(25>(e=function(e){if(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return new Uint8Array(e).buffer}throw new Error("Unsupported buffer type, need ArrayBuffer or Uint8Array")}(e)).byteLength)throw new Error("A buffer of a valid MIDI file must have, at least, a size of 25bytes.");for(this.header=new r(e,t),this.tracks=[],i=r.HEADER_LENGTH,a=0,s=this.header.getTracksCount();a<s;a++){if(t&&i>=e.byteLength-1)throw new Error("Couldn't find datas corresponding to the track #"+a+".");n=new o(e,i,t),this.tracks.push(n),i+=n.getTrackLength()+8}if(t&&i!==e.byteLength)throw new Error("It seems that the buffer contains too much datas.")}else this.header=new r,this.tracks=[new o]}s.prototype.getEvents=function(e,t){var n,r,o,a,s,l,u=0,c=[],f=this.header.getFormat(),h=this.header.getTickResolution();if(1!==f||1===this.tracks.length)for(o=0,a=this.tracks.length;o<a;o++)for(u=2===f&&u?u:0,r=(n=i.createParser(this.tracks[o].getTrackContent(),0,!1)).next();r;)u+=r.delta?r.delta*h/1e3:0,r.type===i.EVENT_META&&r.subtype===i.EVENT_META_SET_TEMPO&&(h=this.header.getTickResolution(r.tempo)),e&&r.type!==e||t&&(!r.subtype||r.subtype!==t)||(r.playTime=u,c.push(r)),r=n.next();else{for(s=[],l=-1,o=0,a=this.tracks.length;o<a;o++)s[o]={},s[o].parser=i.createParser(this.tracks[o].getTrackContent(),0,!1),s[o].curEvent=s[o].parser.next();do{for(l=-1,o=0,a=s.length;o<a;o++)s[o].curEvent&&(-1===l||s[o].curEvent.delta<s[l].curEvent.delta)&&(l=o);if(-1!==l){for(o=0,a=s.length;o<a;o++)o!==l&&s[o].curEvent&&(s[o].curEvent.delta-=s[l].curEvent.delta);u+=(r=s[l].curEvent).delta?r.delta*h/1e3:0,r.type===i.EVENT_META&&r.subtype===i.EVENT_META_SET_TEMPO&&(h=this.header.getTickResolution(r.tempo)),e&&r.type!==e||t&&(!r.subtype||r.subtype!==t)||(r.playTime=u,r.track=l,c.push(r)),s[l].curEvent=s[l].parser.next()}}while(-1!==l)}return c},s.prototype.getMidiEvents=function(){return this.getEvents(i.EVENT_MIDI)},s.prototype.getLyrics=function(){var e,t,n,r=this.getEvents(i.EVENT_META),o=[],s=[];for(t=0,n=r.length;t<n;t++)(e=r[t]).subtype===i.EVENT_META_LYRICS?s.push(e):e.subtype===i.EVENT_META_TEXT&&("@"===String.fromCharCode(e.data[0])?"T"===String.fromCharCode(e.data[1])||"I"===String.fromCharCode(e.data[1])||String.fromCharCode(e.data[1]):0===String.fromCharCode.apply(String,e.data).indexOf("words")?o.length=0:0!==e.playTime&&o.push(e));2<s.length?o=s:o.length||(o=[]);try{o.forEach((function(e){e.text=a.getStringFromBytes(e.data,0,e.length,!0)}))}catch(e){o.forEach((function(e){e.text=e.data.map((function(e){return String.fromCharCode(e)})).join("")}))}return o},s.prototype.getTrackEvents=function(e){var t,n,r=[];if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=(n=i.createParser(this.tracks[e].getTrackContent(),0,!1)).next();do{r.push(t),t=n.next()}while(t);return r},s.prototype.setTrackEvents=function(e,t){var n,r;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");if(!t||!t.length)throw Error("A track must contain at least one event, none given.");n=i.getRequiredBufferLength(t),r=new Uint8Array(n),i.writeToTrack(t,r),this.tracks[e].setTrackContent(r)},s.prototype.deleteTrack=function(e){if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");this.tracks.splice(e,1),this.header.setTracksCount(this.tracks.length)},s.prototype.addTrack=function(e){var t;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=new o,e===this.tracks.length?this.tracks.push(t):this.tracks.splice(e,0,t),this.header.setTracksCount(this.tracks.length)},s.prototype.getContent=function(){var e,t,n,o,i,a,s,l,u;for(e=r.HEADER_LENGTH,o=0,i=this.tracks.length;o<i;o++)e+=this.tracks[o].getTrackLength()+8;for(t=new Uint8Array(e),n=new Uint8Array(this.header.datas.buffer,this.header.datas.byteOffset,r.HEADER_LENGTH),o=0,i=r.HEADER_LENGTH;o<i;o++)t[o]=n[o];for(a=0,s=this.tracks.length;a<s;a++)for(n=new Uint8Array(this.tracks[a].datas.buffer,this.tracks[a].datas.byteOffset,this.tracks[a].datas.byteLength),l=0,u=this.tracks[a].datas.byteLength;l<u;l++)t[o++]=n[l];return t.buffer},s.Header=r,s.Track=o,e.exports=s},function(e,t,n){"use strict";(function(e){function r(t,n){var r,o,i,a=void 0!==(r=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e).document&&r.document.attachEvent;if(!a){var s=(i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)},function(e){return i(e)}),l=(o=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout,function(e){return o(e)}),u=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;u(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=s((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},f=!1,h="",d="animationstart",p="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v=r.document.createElement("fakeelement");if(void 0!==v.style.animationName&&(f=!0),!1===f)for(var g=0;g<p.length;g++)if(void 0!==v.style[p[g]+"AnimationName"]){h="-"+p[g].toLowerCase()+"-",d=m[g],f=!0;break}var y="resizeanim",b="@"+h+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",_=h+"animation: 1ms "+y+"; "}return{addResizeListener:function(e,n){if(a)e.attachEvent("onresize",n);else{if(!e.__resizeTriggers__){var o=e.ownerDocument,i=r.getComputedStyle(e);i&&"static"==i.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(b||"")+".resize-triggers { "+(_||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],o=e.createElement("style");o.id="detectElementResize",o.type="text/css",null!=t&&o.setAttribute("nonce",t),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(e.createTextNode(n)),r.appendChild(o)}}(o),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var s=o.createElement("div");s.className="expand-trigger",s.appendChild(o.createElement("div"));var l=o.createElement("div");l.className="contract-trigger",e.__resizeTriggers__.appendChild(s),e.__resizeTriggers__.appendChild(l),e.appendChild(e.__resizeTriggers__),u(e),e.addEventListener("scroll",c,!0),d&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==y&&u(e)},e.__resizeTriggers__.addEventListener(d,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(d,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}n.d(t,"a",(function(){return r}))}).call(this,n(22))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)i.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t,n){var r=n(87),o=n(32),i=n(52),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(42).Symbol;e.exports=r},function(e,t,n){var r=n(53),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r,o,i,a,s,l,u,c,f,h,d,p,m,v,g,y,b,_,w,S,E,T;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */a=this,s=/iPhone/i,l=/iPod/i,u=/iPad/i,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,m=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,g=/BB10/i,y=/Opera Mini/i,b=/(CriOS|Chrome)(?=.*\bMobile\b)/i,_=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,w=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),S=function(e,t){return e.test(t)},E=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),void 0!==(n=t.split("Twitter"))[1]&&(t=n[0]),this.apple={phone:S(s,t),ipod:S(l,t),tablet:!S(s,t)&&S(u,t),device:S(s,t)||S(l,t)||S(u,t)},this.amazon={phone:S(h,t),tablet:!S(h,t)&&S(d,t),device:S(h,t)||S(d,t)},this.android={phone:S(h,t)||S(c,t),tablet:!S(h,t)&&!S(c,t)&&(S(d,t)||S(f,t)),device:S(h,t)||S(d,t)||S(c,t)||S(f,t)},this.windows={phone:S(p,t),tablet:S(m,t),device:S(p,t)||S(m,t)},this.other={blackberry:S(v,t),blackberry10:S(g,t),opera:S(y,t),firefox:S(_,t),chrome:S(b,t),device:S(v,t)||S(g,t)||S(y,t)||S(_,t)||S(b,t)},this.seven_inch=S(w,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},T=function(){var e=new E;return e.Class=E,e},e.exports&&"undefined"==typeof window?e.exports=E:e.exports&&"undefined"!=typeof window?e.exports=T():(o=[],r=a.isMobile=T(),void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i))},function(e,t,n){var r=n(86),o=n(40);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==t&&(t=(t=o(t))==t?t:0),r(o(e),t,n)}},function(e,t,n){var r=n(116);e.exports=p,e.exports.parse=i,e.exports.compile=function(e,t){return l(i(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=d;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,s=0,l="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var f=n[0],h=n[1],d=n.index;if(l+=e.slice(s,d),s=d+f.length,h)l+=h[1];else{var p=e[s],m=n[2],v=n[3],g=n[4],y=n[5],b=n[6],_=n[7];l&&(r.push(l),l="");var w=null!=m&&null!=p&&p!==m,S="+"===b||"*"===b,E="?"===b||"*"===b,T=m||u,k=g||y,x=m||("string"==typeof r[r.length-1]?r[r.length-1]:"");r.push({name:v||i++,prefix:m||"",delimiter:T,optional:E,repeat:S,partial:w,asterisk:!!_,pattern:k?c(k):_?".*":a(T,x)})}}return s<e.length&&(l+=e.substr(s)),l&&r.push(l),r}function a(e,t){return!t||t.indexOf(e)>-1?"[^"+u(e)+"]+?":u(t)+"|(?:(?!"+u(t)+")[^"+u(e)+"])+?"}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",h(t)));return function(t,o){for(var i="",a=t||{},l=(o||{}).pretty?s:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var f,h=a[c.name];if(null==h){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=l(h[d]),!n[u].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===d?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(h),!n[u].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');i+=c.prefix+f}}else i+=c}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function f(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a+=u(l);else{var c=u(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+c+d+")*"),a+=d=l.optional?l.partial?c+"("+d+")?":"(?:"+c+"("+d+"))?":c+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return o||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=i?"$":o&&m?"":"(?="+p+"|$)",f(new RegExp("^"+a,h(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(p(e[o],t,n).source);return f(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return d(i(e,n),t,n)}(e,t,n)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAATAQMAAACwfl94AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFAAAAqqqqE2N/7AAAAAJ0Uk5TAP9bkSK1AAAAJUlEQVR4nGNkYGBgBGEenheMfFonGPN7WMGY/yUHGOPjw/RCMQAmaw0UB4u97AAAAABJRU5ErkJggg=="},function(e,t,n){var r=n(63),o=n(139),i=n(141),a=n(146),s=n(150),l=n(51);e.exports=function(e,t,n){if((e=s(e))&&(n||void 0===t))return e.slice(0,l(e)+1);if(!e||!(t=r(t)))return e;var u=a(e),c=i(u,a(t))+1;return o(u,0,c).join("")}},,function(e,t,n){"use strict";var r=n(78);function o(){}var i=null,a={};function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&d(e,this)}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){r((function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return i=e,a}}(n,e._18);r===a?c(t.promise,i):u(t.promise,r)}else 1===e._83?u(t.promise,e._18):c(t.promise,e._18)}))}(e,t)}function u(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return i=e,a}}(t);if(n===a)return c(e,i);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void f(e);if("function"==typeof n)return void d(n.bind(t),e)}e._83=1,e._18=t,f(e)}function c(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),f(e)}function f(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return i=e,a}}(e,(function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}));n||r!==a||(n=!0,c(t,i))}e.exports=s,s._47=null,s._71=null,s._44=o,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor((function(r,i){var a=new s(o);a.then(r,i),l(e,new h(t,n,a))}))}(this,e,t);var n=new s(o);return l(this,new h(e,t,n)),n}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(33),o=n(34);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(22))},function(e,t,n){var r=n(92);e.exports=function(e,t){var n=-1,o=e.length,i=o-1;for(t=void 0===t?o:t;++n<t;){var a=r(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(111),o=n(57);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){"use strict";e.exports=n(117)},function(e,t,n){var r=n(27).default,o=n(128);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(61);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(41),o=n(55),i=n(43),a=n(52),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("wks"),o=n(9),i=n(0).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(0),o=n(2),i=n(8),a=n(22),s=n(10),l=function(e,t,n){var u,c,f,h,d=e&l.F,p=e&l.G,m=e&l.S,v=e&l.P,g=e&l.B,y=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});for(u in p&&(n=t),n)f=((c=!d&&y&&void 0!==y[u])?y:n)[u],h=g&&c?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,e&l.U),b[u]!=f&&i(b,u,h),v&&_[u]!=f&&(_[u]=f)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(16),o=n(21);e.exports=n(3)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(28),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t}))}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var r=n(7),o=n(25)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(17),o=n(18),i=n(20),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),o=n(8),i=n(23),a=n(9)("src"),s=Function.toString,l=(""+s).split("toString");n(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10),o=n(26),i=n(27),a=n(12),s=n(29);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,f=6==e,h=5==e||f,d=t||s;return function(t,s,p){for(var m,v,g=i(t),y=o(g),b=r(s,p,3),_=a(y.length),w=0,S=n?d(t,_):l?d(t,0):void 0;_>w;w++)if((h||w in y)&&(v=b(m=y[w],w,g),e))if(n)S[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:S.push(m)}else if(c)return!1;return f?-1:u||c?c:S}}},function(e,t,n){var r=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(11);e.exports=function(e){return Object(r(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(30);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(1),o=n(31),i=n(6)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var r=n(7),o=n(12),i=n(36),a="".endsWith;r(r.P+r.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),s=void 0===n?r:Math.min(o(n),r),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){var r=n(37),o=n(11);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(1),o=n(5),i=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t,n){"use strict";var r=n(59),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var o=d(n);o&&o!==p&&e(t,o,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!(i[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=h(n,g);try{u(t,g,y)}catch(e){}}}}return t}},function(e,t,n){var r=n(123)();e.exports=r},function(e,t,n){(function(e,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",u="[object Array]",c="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",m="[object Map]",v="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",_="[object String]",w="[object Symbol]",S="[object WeakMap]",E="[object ArrayBuffer]",T="[object DataView]",k="[object Float32Array]",x="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",P="[object Int32Array]",I="[object Uint8Array]",A="[object Uint16Array]",R="[object Uint32Array]",M=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,F=RegExp(D.source),z=RegExp(L.source),U=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,$=RegExp(q.source),K=/^\s+/,X=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,oe=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",me="["+de+"]",ve="["+he+"]",ge="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",_e="[^\\ud800-\\udfff"+de+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",Se="[^\\ud800-\\udfff]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",Te="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="[A-Z\\xc0-\\xd6\\xd8-\\xde]",xe="(?:"+be+"|"+_e+")",Ce="(?:"+ke+"|"+_e+")",Oe="(?:"+ve+"|"+we+")"+"?",Pe="[\\ufe0e\\ufe0f]?"+Oe+("(?:\\u200d(?:"+[Se,Ee,Te].join("|")+")[\\ufe0e\\ufe0f]?"+Oe+")*"),Ie="(?:"+[ye,Ee,Te].join("|")+")"+Pe,Ae="(?:"+[Se+ve+"?",ve,Ee,Te,pe].join("|")+")",Re=RegExp("['’]","g"),Me=RegExp(ve,"g"),Ne=RegExp(we+"(?="+we+")|"+Ae+Pe,"g"),je=RegExp([ke+"?"+be+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[me,ke,"$"].join("|")+")",Ce+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[me,ke+xe,"$"].join("|")+")",ke+"?"+xe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ke+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Ie].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ze=-1,Ue={};Ue[k]=Ue[x]=Ue[C]=Ue[O]=Ue[P]=Ue[I]=Ue["[object Uint8ClampedArray]"]=Ue[A]=Ue[R]=!0,Ue[l]=Ue[u]=Ue[E]=Ue[c]=Ue[T]=Ue[f]=Ue[h]=Ue[d]=Ue[m]=Ue[v]=Ue[g]=Ue[y]=Ue[b]=Ue[_]=Ue[S]=!1;var Be={};Be[l]=Be[u]=Be[E]=Be[T]=Be[c]=Be[f]=Be[k]=Be[x]=Be[C]=Be[O]=Be[P]=Be[m]=Be[v]=Be[g]=Be[y]=Be[b]=Be[_]=Be[w]=Be[I]=Be["[object Uint8ClampedArray]"]=Be[A]=Be[R]=!0,Be[h]=Be[d]=Be[S]=!1;var Ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ge=parseFloat,We=parseInt,He="object"==typeof e&&e&&e.Object===Object&&e,qe="object"==typeof self&&self&&self.Object===Object&&self,$e=He||qe||Function("return this")(),Ke=t&&!t.nodeType&&t,Xe=Ke&&"object"==typeof r&&r&&!r.nodeType&&r,Ye=Xe&&Xe.exports===Ke,Qe=Ye&&He.process,Je=function(){try{var e=Xe&&Xe.require&&Xe.require("util").types;return e||Qe&&Qe.binding&&Qe.binding("util")}catch(e){}}(),Ze=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,rt=Je&&Je.isSet,ot=Je&&Je.isTypedArray;function it(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ct(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function ft(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function ht(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function dt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function pt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function mt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function vt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=kt("length");function bt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function _t(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function wt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):_t(e,Et,n)}function St(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Et(e){return e!=e}function Tt(e,t){var n=null==e?0:e.length;return n?Ot(e,t)/n:NaN}function kt(e){return function(t){return null==t?void 0:t[e]}}function xt(e){return function(t){return null==e?void 0:e[t]}}function Ct(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Ot(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function Pt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function It(e){return e?e.slice(0,Kt(e)+1).replace(K,""):e}function At(e){return function(t){return e(t)}}function Rt(e,t){return dt(t,(function(t){return e[t]}))}function Mt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function jt(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Lt=xt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ft=xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function zt(e){return"\\"+Ve[e]}function Ut(e){return De.test(e)}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Vt(e,t){return function(n){return e(t(n))}}function Gt(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,i[o++]=n)}return i}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Ht(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function qt(e){return Ut(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):yt(e)}function $t(e){return Ut(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Kt(e){for(var t=e.length;t--&&X.test(e.charAt(t)););return t}var Xt=xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,r=(t=null==t?$e:Yt.defaults($e.Object(),t,Yt.pick($e,Fe))).Array,o=t.Date,X=t.Error,he=t.Function,de=t.Math,pe=t.Object,me=t.RegExp,ve=t.String,ge=t.TypeError,ye=r.prototype,be=he.prototype,_e=pe.prototype,we=t["__core-js_shared__"],Se=be.toString,Ee=_e.hasOwnProperty,Te=0,ke=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",xe=_e.toString,Ce=Se.call(pe),Oe=$e._,Pe=me("^"+Se.call(Ee).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=Ye?t.Buffer:void 0,Ae=t.Symbol,Ne=t.Uint8Array,De=Ie?Ie.allocUnsafe:void 0,Ve=Vt(pe.getPrototypeOf,pe),He=pe.create,qe=_e.propertyIsEnumerable,Ke=ye.splice,Xe=Ae?Ae.isConcatSpreadable:void 0,Qe=Ae?Ae.iterator:void 0,Je=Ae?Ae.toStringTag:void 0,yt=function(){try{var e=ti(pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),xt=t.clearTimeout!==$e.clearTimeout&&t.clearTimeout,Qt=o&&o.now!==$e.Date.now&&o.now,Jt=t.setTimeout!==$e.setTimeout&&t.setTimeout,Zt=de.ceil,en=de.floor,tn=pe.getOwnPropertySymbols,nn=Ie?Ie.isBuffer:void 0,rn=t.isFinite,on=ye.join,an=Vt(pe.keys,pe),sn=de.max,ln=de.min,un=o.now,cn=t.parseInt,fn=de.random,hn=ye.reverse,dn=ti(t,"DataView"),pn=ti(t,"Map"),mn=ti(t,"Promise"),vn=ti(t,"Set"),gn=ti(t,"WeakMap"),yn=ti(pe,"create"),bn=gn&&new gn,_n={},wn=Oi(dn),Sn=Oi(pn),En=Oi(mn),Tn=Oi(vn),kn=Oi(gn),xn=Ae?Ae.prototype:void 0,Cn=xn?xn.valueOf:void 0,On=xn?xn.toString:void 0;function Pn(e){if(Ha(e)&&!Na(e)&&!(e instanceof Mn)){if(e instanceof Rn)return e;if(Ee.call(e,"__wrapped__"))return Pi(e)}return new Rn(e)}var In=function(){function e(){}return function(t){if(!Wa(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function An(){}function Rn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Mn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new jn(e);this.size=t.size}function zn(e,t){var n=Na(e),r=!n&&Ma(e),o=!n&&!r&&Fa(e),i=!n&&!r&&!o&&Za(e),a=n||r||o||i,s=a?Pt(e.length,ve):[],l=s.length;for(var u in e)!t&&!Ee.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||li(u,l))||s.push(u);return s}function Un(e){var t=e.length;return t?e[Lr(0,t-1)]:void 0}function Bn(e,t){return ki(bo(e),Yn(t,0,e.length))}function Vn(e){return ki(bo(e))}function Gn(e,t,n){(void 0!==n&&!Ia(e[t],n)||void 0===n&&!(t in e))&&Kn(e,t,n)}function Wn(e,t,n){var r=e[t];Ee.call(e,t)&&Ia(r,n)&&(void 0!==n||t in e)||Kn(e,t,n)}function Hn(e,t){for(var n=e.length;n--;)if(Ia(e[n][0],t))return n;return-1}function qn(e,t,n,r){return tr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function $n(e,t){return e&&_o(t,ws(t),e)}function Kn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Xn(e,t){for(var n=-1,o=t.length,i=r(o),a=null==e;++n<o;)i[n]=a?void 0:vs(e,t[n]);return i}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Qn(e,t,n,r,o,i){var a,s=1&t,u=2&t,h=4&t;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!Wa(e))return e;var S=Na(e);if(S){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return bo(e,a)}else{var M=oi(e),N=M==d||M==p;if(Fa(e))return ho(e,s);if(M==g||M==l||N&&!o){if(a=u||N?{}:ai(e),!s)return u?function(e,t){return _o(e,ri(e),t)}(e,function(e,t){return e&&_o(t,Ss(t),e)}(a,e)):function(e,t){return _o(e,ni(e),t)}(e,$n(a,e))}else{if(!Be[M])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case E:return po(e);case c:case f:return new r(+e);case T:return function(e,t){var n=t?po(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case k:case x:case C:case O:case P:case I:case"[object Uint8ClampedArray]":case A:case R:return mo(e,n);case m:return new r;case v:case _:return new r(e);case y:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case w:return o=e,Cn?pe(Cn.call(o)):{}}var o}(e,M,s)}}i||(i=new Fn);var j=i.get(e);if(j)return j;i.set(e,a),Ya(e)?e.forEach((function(r){a.add(Qn(r,t,n,r,e,i))})):qa(e)&&e.forEach((function(r,o){a.set(o,Qn(r,t,n,o,e,i))}));var D=S?void 0:(h?u?Ko:$o:u?Ss:ws)(e);return st(D||e,(function(r,o){D&&(r=e[o=r]),Wn(a,o,Qn(r,t,n,o,e,i))})),a}function Jn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pe(e);r--;){var o=n[r],i=t[o],a=e[o];if(void 0===a&&!(o in e)||!i(a))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new ge(i);return wi((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var o=-1,i=ft,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=dt(t,At(n))),r?(i=ht,a=!1):t.length>=200&&(i=Mt,a=!1,t=new Ln(t));e:for(;++o<s;){var c=e[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=u;h--;)if(t[h]===f)continue e;l.push(c)}else i(t,f,r)||l.push(c)}return l}Pn.templateSettings={escape:U,evaluate:B,interpolate:V,variable:"",imports:{_:Pn}},Pn.prototype=An.prototype,Pn.prototype.constructor=Pn,Rn.prototype=In(An.prototype),Rn.prototype.constructor=Rn,Mn.prototype=In(An.prototype),Mn.prototype.constructor=Mn,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Ee.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},jn.prototype.clear=function(){this.__data__=[],this.size=0},jn.prototype.delete=function(e){var t=this.__data__,n=Hn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},jn.prototype.get=function(e){var t=this.__data__,n=Hn(t,e);return n<0?void 0:t[n][1]},jn.prototype.has=function(e){return Hn(this.__data__,e)>-1},jn.prototype.set=function(e,t){var n=this.__data__,r=Hn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(pn||jn),string:new Nn}},Dn.prototype.delete=function(e){var t=Zo(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return Zo(this,e).get(e)},Dn.prototype.has=function(e){return Zo(this,e).has(e)},Dn.prototype.set=function(e,t){var n=Zo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new jn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof jn){var r=n.__data__;if(!pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(e,t),this.size=n.size,this};var tr=Eo(ur),nr=Eo(cr,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function or(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===s?a==a&&!Ja(a):n(a,s)))var s=a,l=i}return l}function ir(e,t){var n=[];return tr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function ar(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=si),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?ar(s,t-1,n,r,o):pt(o,s):r||(o[o.length]=s)}return o}var sr=To(),lr=To(!0);function ur(e,t){return e&&sr(e,t,ws)}function cr(e,t){return e&&lr(e,t,ws)}function fr(e,t){return ct(t,(function(t){return Ba(e[t])}))}function hr(e,t){for(var n=0,r=(t=lo(t,e)).length;null!=e&&n<r;)e=e[Ci(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return Na(e)?r:pt(r,n(e))}function pr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in pe(e)?function(e){var t=Ee.call(e,Je),n=e[Je];try{e[Je]=void 0;var r=!0}catch(e){}var o=xe.call(e);r&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return xe.call(e)}(e)}function mr(e,t){return e>t}function vr(e,t){return null!=e&&Ee.call(e,t)}function gr(e,t){return null!=e&&t in pe(e)}function yr(e,t,n){for(var o=n?ht:ft,i=e[0].length,a=e.length,s=a,l=r(a),u=1/0,c=[];s--;){var f=e[s];s&&t&&(f=dt(f,At(t))),u=ln(f.length,u),l[s]=!n&&(t||i>=120&&f.length>=120)?new Ln(s&&f):void 0}f=e[0];var h=-1,d=l[0];e:for(;++h<i&&c.length<u;){var p=f[h],m=t?t(p):p;if(p=n||0!==p?p:0,!(d?Mt(d,m):o(c,m,n))){for(s=a;--s;){var v=l[s];if(!(v?Mt(v,m):o(e[s],m,n)))continue e}d&&d.push(m),c.push(p)}}return c}function br(e,t,n){var r=null==(e=gi(e,t=lo(t,e)))?e:e[Ci(Ui(t))];return null==r?void 0:it(r,e,n)}function _r(e){return Ha(e)&&pr(e)==l}function wr(e,t,n,r,o){return e===t||(null==e||null==t||!Ha(e)&&!Ha(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=Na(e),s=Na(t),d=a?u:oi(e),p=s?u:oi(t),S=(d=d==l?g:d)==g,k=(p=p==l?g:p)==g,x=d==p;if(x&&Fa(e)){if(!Fa(t))return!1;a=!0,S=!1}if(x&&!S)return i||(i=new Fn),a||Za(e)?Ho(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!i(new Ne(e),new Ne(t)));case c:case f:case v:return Ia(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case _:return e==t+"";case m:var s=Bt;case b:var l=1&r;if(s||(s=Wt),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var d=Ho(s(e),s(t),r,o,i,a);return a.delete(e),d;case w:if(Cn)return Cn.call(e)==Cn.call(t)}return!1}(e,t,d,n,r,o,i);if(!(1&n)){var C=S&&Ee.call(e,"__wrapped__"),O=k&&Ee.call(t,"__wrapped__");if(C||O){var P=C?e.value():e,I=O?t.value():t;return i||(i=new Fn),o(P,I,n,r,i)}}if(!x)return!1;return i||(i=new Fn),function(e,t,n,r,o,i){var a=1&n,s=$o(e),l=s.length,u=$o(t).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var f=s[c];if(!(a?f in t:Ee.call(t,f)))return!1}var h=i.get(e),d=i.get(t);if(h&&d)return h==t&&d==e;var p=!0;i.set(e,t),i.set(t,e);var m=a;for(;++c<l;){f=s[c];var v=e[f],g=t[f];if(r)var y=a?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(!(void 0===y?v===g||o(v,g,n,r,i):y)){p=!1;break}m||(m="constructor"==f)}if(p&&!m){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i)}(e,t,n,r,wr,o))}function Sr(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=pe(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var f=new Fn;if(r)var h=r(u,c,l,e,t,f);if(!(void 0===h?wr(c,u,3,r,f):h))return!1}}return!0}function Er(e){return!(!Wa(e)||(t=e,ke&&ke in t))&&(Ba(e)?Pe:ae).test(Oi(e));var t}function Tr(e){return"function"==typeof e?e:null==e?$s:"object"==typeof e?Na(e)?Ir(e[0],e[1]):Pr(e):nl(e)}function kr(e){if(!di(e))return an(e);var t=[];for(var n in pe(e))Ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}function xr(e){if(!Wa(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=di(e),n=[];for(var r in e)("constructor"!=r||!t&&Ee.call(e,r))&&n.push(r);return n}function Cr(e,t){return e<t}function Or(e,t){var n=-1,o=Da(e)?r(e.length):[];return tr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Pr(e){var t=ei(e);return 1==t.length&&t[0][2]?mi(t[0][0],t[0][1]):function(n){return n===e||Sr(n,e,t)}}function Ir(e,t){return ci(e)&&pi(t)?mi(Ci(e),t):function(n){var r=vs(n,e);return void 0===r&&r===t?gs(n,e):wr(t,r,3)}}function Ar(e,t,n,r,o){e!==t&&sr(t,(function(i,a){if(o||(o=new Fn),Wa(i))!function(e,t,n,r,o,i,a){var s=bi(e,n),l=bi(t,n),u=a.get(l);if(u)return void Gn(e,n,u);var c=i?i(s,l,n+"",e,t,a):void 0,f=void 0===c;if(f){var h=Na(l),d=!h&&Fa(l),p=!h&&!d&&Za(l);c=l,h||d||p?Na(s)?c=s:La(s)?c=bo(s):d?(f=!1,c=ho(l,!0)):p?(f=!1,c=mo(l,!0)):c=[]:Ka(l)||Ma(l)?(c=s,Ma(s)?c=ss(s):Wa(s)&&!Ba(s)||(c=ai(l))):f=!1}f&&(a.set(l,c),o(c,l,r,i,a),a.delete(l));Gn(e,n,c)}(e,t,a,n,Ar,r,o);else{var s=r?r(bi(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),Gn(e,a,s)}}),Ss)}function Rr(e,t){var n=e.length;if(n)return li(t+=t<0?n:0,n)?e[t]:void 0}function Mr(e,t,n){t=t.length?dt(t,(function(e){return Na(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e})):[$s];var r=-1;return t=dt(t,At(Jo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Or(e,(function(e,n,o){return{criteria:dt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var l=vo(o[r],i[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function Nr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=hr(e,a);n(s,a)&&Vr(i,lo(a,e),s)}return i}function jr(e,t,n,r){var o=r?St:wt,i=-1,a=t.length,s=e;for(e===t&&(t=bo(t)),n&&(s=dt(e,At(n)));++i<a;)for(var l=0,u=t[i],c=n?n(u):u;(l=o(s,c,l,r))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Dr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;li(o)?Ke.call(e,o,1):eo(e,o)}}return e}function Lr(e,t){return e+en(fn()*(t-e+1))}function Fr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function zr(e,t){return Si(vi(e,t,$s),e+"")}function Ur(e){return Un(Is(e))}function Br(e,t){var n=Is(e);return ki(n,Yn(t,0,n.length))}function Vr(e,t,n,r){if(!Wa(e))return e;for(var o=-1,i=(t=lo(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var l=Ci(t[o]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=Wa(c)?c:li(t[o+1])?[]:{})}Wn(s,l,u),s=s[l]}return e}var Gr=bn?function(e,t){return bn.set(e,t),e}:$s,Wr=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:Ws(t),writable:!0})}:$s;function Hr(e){return ki(Is(e))}function qr(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function $r(e,t){var n;return tr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function Kr(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!Ja(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Xr(e,t,$s,n)}function Xr(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var a=(t=n(t))!=t,s=null===t,l=Ja(t),u=void 0===t;o<i;){var c=en((o+i)/2),f=n(e[c]),h=void 0!==f,d=null===f,p=f==f,m=Ja(f);if(a)var v=r||p;else v=u?p&&(r||h):s?p&&h&&(r||!d):l?p&&h&&!d&&(r||!m):!d&&!m&&(r?f<=t:f<t);v?o=c+1:i=c}return ln(i,4294967294)}function Yr(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ia(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function Qr(e){return"number"==typeof e?e:Ja(e)?NaN:+e}function Jr(e){if("string"==typeof e)return e;if(Na(e))return dt(e,Jr)+"";if(Ja(e))return On?On.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zr(e,t,n){var r=-1,o=ft,i=e.length,a=!0,s=[],l=s;if(n)a=!1,o=ht;else if(i>=200){var u=t?null:zo(e);if(u)return Wt(u);a=!1,o=Mt,l=new Ln}else l=t?[]:s;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else o(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function eo(e,t){return null==(e=gi(e,t=lo(t,e)))||delete e[Ci(Ui(t))]}function to(e,t,n,r){return Vr(e,t,n(hr(e,t)),r)}function no(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?qr(e,r?0:i,r?i+1:o):qr(e,r?i+1:0,r?o:i)}function ro(e,t){var n=e;return n instanceof Mn&&(n=n.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function oo(e,t,n){var o=e.length;if(o<2)return o?Zr(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],l=-1;++l<o;)l!=i&&(a[i]=er(a[i]||s,e[l],t,n));return Zr(ar(a,1),t,n)}function io(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}function ao(e){return La(e)?e:[]}function so(e){return"function"==typeof e?e:$s}function lo(e,t){return Na(e)?e:ci(e,t)?[e]:xi(ls(e))}var uo=zr;function co(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:qr(e,t,n)}var fo=xt||function(e){return $e.clearTimeout(e)};function ho(e,t){if(t)return e.slice();var n=e.length,r=De?De(n):new e.constructor(n);return e.copy(r),r}function po(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function mo(e,t){var n=t?po(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function vo(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=Ja(e),a=void 0!==t,s=null===t,l=t==t,u=Ja(t);if(!s&&!u&&!i&&e>t||i&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}function go(e,t,n,o){for(var i=-1,a=e.length,s=n.length,l=-1,u=t.length,c=sn(a-s,0),f=r(u+c),h=!o;++l<u;)f[l]=t[l];for(;++i<s;)(h||i<a)&&(f[n[i]]=e[i]);for(;c--;)f[l++]=e[i++];return f}function yo(e,t,n,o){for(var i=-1,a=e.length,s=-1,l=n.length,u=-1,c=t.length,f=sn(a-l,0),h=r(f+c),d=!o;++i<f;)h[i]=e[i];for(var p=i;++u<c;)h[p+u]=t[u];for(;++s<l;)(d||i<a)&&(h[p+n[s]]=e[i++]);return h}function bo(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function _o(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?Kn(n,s,l):Wn(n,s,l)}return n}function wo(e,t){return function(n,r){var o=Na(n)?at:qn,i=t?t():{};return o(n,e,Jo(r,2),i)}}function So(e){return zr((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&ui(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=pe(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}function Eo(e,t){return function(n,r){if(null==n)return n;if(!Da(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=pe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function To(e){return function(t,n,r){for(var o=-1,i=pe(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}function ko(e){return function(t){var n=Ut(t=ls(t))?$t(t):void 0,r=n?n[0]:t.charAt(0),o=n?co(n,1).join(""):t.slice(1);return r[e]()+o}}function xo(e){return function(t){return mt(Bs(Ms(t).replace(Re,"")),e,"")}}function Co(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=In(e.prototype),r=e.apply(n,t);return Wa(r)?r:n}}function Oo(e){return function(t,n,r){var o=pe(t);if(!Da(t)){var i=Jo(n,3);t=ws(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}function Po(e){return qo((function(t){var n=t.length,r=n,o=Rn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ge(i);if(o&&!s&&"wrapper"==Yo(a))var s=new Rn([],!0)}for(r=s?r:n;++r<n;){var l=Yo(a=t[r]),u="wrapper"==l?Xo(a):void 0;s=u&&fi(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[Yo(u[0])].apply(s,u[3]):1==a.length&&fi(a)?s[l]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Na(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Io(e,t,n,o,i,a,s,l,u,c){var f=128&t,h=1&t,d=2&t,p=24&t,m=512&t,v=d?void 0:Co(e);return function g(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(p)var w=Qo(g),S=Dt(b,w);if(o&&(b=go(b,o,i,p)),a&&(b=yo(b,a,s,p)),y-=S,p&&y<c){var E=Gt(b,w);return Lo(e,t,Io,g.placeholder,n,b,E,l,u,c-y)}var T=h?n:this,k=d?T[e]:e;return y=b.length,l?b=yi(b,l):m&&y>1&&b.reverse(),f&&u<y&&(b.length=u),this&&this!==$e&&this instanceof g&&(k=v||Co(k)),k.apply(T,b)}}function Ao(e,t){return function(n,r){return function(e,t,n,r){return ur(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Ro(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Qr(n),r=Qr(r)),o=e(n,r)}return o}}function Mo(e){return qo((function(t){return t=dt(t,At(Jo())),zr((function(n){var r=this;return e(t,(function(e){return it(e,r,n)}))}))}))}function No(e,t){var n=(t=void 0===t?" ":Jr(t)).length;if(n<2)return n?Fr(t,e):t;var r=Fr(t,Zt(e/qt(t)));return Ut(t)?co($t(r),0,e).join(""):r.slice(0,e)}function jo(e){return function(t,n,o){return o&&"number"!=typeof o&&ui(t,n,o)&&(n=o=void 0),t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n,o){for(var i=-1,a=sn(Zt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,o=void 0===o?t<n?1:-1:rs(o),e)}}function Do(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Lo(e,t,n,r,o,i,a,s,l,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var f=[e,t,o,c?i:void 0,c?a:void 0,c?void 0:i,c?void 0:a,s,l,u],h=n.apply(void 0,f);return fi(e)&&_i(h,f),h.placeholder=r,Ei(h,e,t)}function Fo(e){var t=de[e];return function(e,n){if(e=as(e),(n=null==n?0:ln(os(n),292))&&rn(e)){var r=(ls(e)+"e").split("e");return+((r=(ls(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var zo=vn&&1/Wt(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Js;function Uo(e){return function(t){var n=oi(t);return n==m?Bt(t):n==b?Ht(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Bo(e,t,n,o,s,l,u,c){var f=2&t;if(!f&&"function"!=typeof e)throw new ge(i);var h=o?o.length:0;if(h||(t&=-97,o=s=void 0),u=void 0===u?u:sn(os(u),0),c=void 0===c?c:os(c),h-=s?s.length:0,64&t){var d=o,p=s;o=s=void 0}var m=f?void 0:Xo(e),v=[e,t,n,o,s,d,p,l,u,c];if(m&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?go(u,l,t[4]):l,e[4]=u?Gt(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?yo(u,l,t[6]):l,e[6]=u?Gt(e[5],a):t[6]);(l=t[7])&&(e[7]=l);128&r&&(e[8]=null==e[8]?t[8]:ln(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(v,m),e=v[0],t=v[1],n=v[2],o=v[3],s=v[4],!(c=v[9]=void 0===v[9]?f?0:e.length:sn(v[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var o=Co(e);return function i(){for(var a=arguments.length,s=r(a),l=a,u=Qo(i);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:Gt(s,u);if((a-=c.length)<n)return Lo(e,t,Io,i.placeholder,void 0,s,c,void 0,void 0,n-a);var f=this&&this!==$e&&this instanceof i?o:e;return it(f,this,s)}}(e,t,c):32!=t&&33!=t||s.length?Io.apply(void 0,v):function(e,t,n,o){var i=1&t,a=Co(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=o.length,f=r(c+l),h=this&&this!==$e&&this instanceof t?a:e;++u<c;)f[u]=o[u];for(;l--;)f[u++]=arguments[++s];return it(h,i?n:this,f)}}(e,t,n,o);else var g=function(e,t,n){var r=1&t,o=Co(e);return function t(){var i=this&&this!==$e&&this instanceof t?o:e;return i.apply(r?n:this,arguments)}}(e,t,n);return Ei((m?Gr:_i)(g,v),e,t)}function Vo(e,t,n,r){return void 0===e||Ia(e,_e[n])&&!Ee.call(r,n)?t:e}function Go(e,t,n,r,o,i){return Wa(e)&&Wa(t)&&(i.set(t,e),Ar(e,t,void 0,Go,i),i.delete(t)),e}function Wo(e){return Ka(e)?void 0:e}function Ho(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,d=2&n?new Ln:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var p=e[f],m=t[f];if(r)var v=a?r(m,p,f,t,e,i):r(p,m,f,e,t,i);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!gt(t,(function(e,t){if(!Mt(d,t)&&(p===e||o(p,e,n,r,i)))return d.push(t)}))){h=!1;break}}else if(p!==m&&!o(p,m,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function qo(e){return Si(vi(e,void 0,ji),e+"")}function $o(e){return dr(e,ws,ni)}function Ko(e){return dr(e,Ss,ri)}var Xo=bn?function(e){return bn.get(e)}:Js;function Yo(e){for(var t=e.name+"",n=_n[t],r=Ee.call(_n,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Qo(e){return(Ee.call(Pn,"placeholder")?Pn:e).placeholder}function Jo(){var e=Pn.iteratee||Ks;return e=e===Ks?Tr:e,arguments.length?e(arguments[0],arguments[1]):e}function Zo(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ei(e){for(var t=ws(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,pi(o)]}return t}function ti(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var ni=tn?function(e){return null==e?[]:(e=pe(e),ct(tn(e),(function(t){return qe.call(e,t)})))}:il,ri=tn?function(e){for(var t=[];e;)pt(t,ni(e)),e=Ve(e);return t}:il,oi=pr;function ii(e,t,n){for(var r=-1,o=(t=lo(t,e)).length,i=!1;++r<o;){var a=Ci(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ga(o)&&li(a,o)&&(Na(e)||Ma(e))}function ai(e){return"function"!=typeof e.constructor||di(e)?{}:In(Ve(e))}function si(e){return Na(e)||Ma(e)||!!(Xe&&e&&e[Xe])}function li(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&le.test(e))&&e>-1&&e%1==0&&e<t}function ui(e,t,n){if(!Wa(n))return!1;var r=typeof t;return!!("number"==r?Da(n)&&li(t,n.length):"string"==r&&t in n)&&Ia(n[t],e)}function ci(e,t){if(Na(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ja(e))||(W.test(e)||!G.test(e)||null!=t&&e in pe(t))}function fi(e){var t=Yo(e),n=Pn[t];if("function"!=typeof n||!(t in Mn.prototype))return!1;if(e===n)return!0;var r=Xo(n);return!!r&&e===r[0]}(dn&&oi(new dn(new ArrayBuffer(1)))!=T||pn&&oi(new pn)!=m||mn&&"[object Promise]"!=oi(mn.resolve())||vn&&oi(new vn)!=b||gn&&oi(new gn)!=S)&&(oi=function(e){var t=pr(e),n=t==g?e.constructor:void 0,r=n?Oi(n):"";if(r)switch(r){case wn:return T;case Sn:return m;case En:return"[object Promise]";case Tn:return b;case kn:return S}return t});var hi=we?Ba:al;function di(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function pi(e){return e==e&&!Wa(e)}function mi(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in pe(n)))}}function vi(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=sn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var l=r(t+1);++i<t;)l[i]=o[i];return l[t]=n(s),it(e,this,l)}}function gi(e,t){return t.length<2?e:hr(e,qr(t,0,-1))}function yi(e,t){for(var n=e.length,r=ln(t.length,n),o=bo(e);r--;){var i=t[r];e[r]=li(i,n)?o[i]:void 0}return e}function bi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _i=Ti(Gr),wi=Jt||function(e,t){return $e.setTimeout(e,t)},Si=Ti(Wr);function Ei(e,t,n){var r=t+"";return Si(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(J):[]}(r),n)))}function Ti(e){var t=0,n=0;return function(){var r=un(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ki(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var i=Lr(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}var xi=function(e){var t=Ta(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(H,(function(e,n,r,o){t.push(r?o.replace(te,"$1"):n||e)})),t}));function Ci(e){if("string"==typeof e||Ja(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Oi(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Pi(e){if(e instanceof Mn)return e.clone();var t=new Rn(e.__wrapped__,e.__chain__);return t.__actions__=bo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ii=zr((function(e,t){return La(e)?er(e,ar(t,1,La,!0)):[]})),Ai=zr((function(e,t){var n=Ui(t);return La(n)&&(n=void 0),La(e)?er(e,ar(t,1,La,!0),Jo(n,2)):[]})),Ri=zr((function(e,t){var n=Ui(t);return La(n)&&(n=void 0),La(e)?er(e,ar(t,1,La,!0),void 0,n):[]}));function Mi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:os(n);return o<0&&(o=sn(r+o,0)),_t(e,Jo(t,3),o)}function Ni(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=os(n),o=n<0?sn(r+o,0):ln(o,r-1)),_t(e,Jo(t,3),o,!0)}function ji(e){return(null==e?0:e.length)?ar(e,1):[]}function Di(e){return e&&e.length?e[0]:void 0}var Li=zr((function(e){var t=dt(e,ao);return t.length&&t[0]===e[0]?yr(t):[]})),Fi=zr((function(e){var t=Ui(e),n=dt(e,ao);return t===Ui(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Jo(t,2)):[]})),zi=zr((function(e){var t=Ui(e),n=dt(e,ao);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Ui(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Bi=zr(Vi);function Vi(e,t){return e&&e.length&&t&&t.length?jr(e,t):e}var Gi=qo((function(e,t){var n=null==e?0:e.length,r=Xn(e,t);return Dr(e,dt(t,(function(e){return li(e,n)?+e:e})).sort(vo)),r}));function Wi(e){return null==e?e:hn.call(e)}var Hi=zr((function(e){return Zr(ar(e,1,La,!0))})),qi=zr((function(e){var t=Ui(e);return La(t)&&(t=void 0),Zr(ar(e,1,La,!0),Jo(t,2))})),$i=zr((function(e){var t=Ui(e);return t="function"==typeof t?t:void 0,Zr(ar(e,1,La,!0),void 0,t)}));function Ki(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(La(e))return t=sn(e.length,t),!0})),Pt(t,(function(t){return dt(e,kt(t))}))}function Xi(e,t){if(!e||!e.length)return[];var n=Ki(e);return null==t?n:dt(n,(function(e){return it(t,void 0,e)}))}var Yi=zr((function(e,t){return La(e)?er(e,t):[]})),Qi=zr((function(e){return oo(ct(e,La))})),Ji=zr((function(e){var t=Ui(e);return La(t)&&(t=void 0),oo(ct(e,La),Jo(t,2))})),Zi=zr((function(e){var t=Ui(e);return t="function"==typeof t?t:void 0,oo(ct(e,La),void 0,t)})),ea=zr(Ki);var ta=zr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Xi(e,n)}));function na(e){var t=Pn(e);return t.__chain__=!0,t}function ra(e,t){return t(e)}var oa=qo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Xn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Mn&&li(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ra,args:[o],thisArg:void 0}),new Rn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)}));var ia=wo((function(e,t,n){Ee.call(e,n)?++e[n]:Kn(e,n,1)}));var aa=Oo(Mi),sa=Oo(Ni);function la(e,t){return(Na(e)?st:tr)(e,Jo(t,3))}function ua(e,t){return(Na(e)?lt:nr)(e,Jo(t,3))}var ca=wo((function(e,t,n){Ee.call(e,n)?e[n].push(t):Kn(e,n,[t])}));var fa=zr((function(e,t,n){var o=-1,i="function"==typeof t,a=Da(e)?r(e.length):[];return tr(e,(function(e){a[++o]=i?it(t,e,n):br(e,t,n)})),a})),ha=wo((function(e,t,n){Kn(e,n,t)}));function da(e,t){return(Na(e)?dt:Or)(e,Jo(t,3))}var pa=wo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ma=zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ui(e,t[0],t[1])?t=[]:n>2&&ui(t[0],t[1],t[2])&&(t=[t[0]]),Mr(e,ar(t,1),[])})),va=Qt||function(){return $e.Date.now()};function ga(e,t,n){return t=n?void 0:t,Bo(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ya(e,t){var n;if("function"!=typeof t)throw new ge(i);return e=os(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ba=zr((function(e,t,n){var r=1;if(n.length){var o=Gt(n,Qo(ba));r|=32}return Bo(e,r,t,n,o)})),_a=zr((function(e,t,n){var r=3;if(n.length){var o=Gt(n,Qo(_a));r|=32}return Bo(t,r,e,n,o)}));function wa(e,t,n){var r,o,a,s,l,u,c=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new ge(i);function p(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function m(e){return c=e,l=wi(g,t),f?p(e):s}function v(e){var n=e-u;return void 0===u||n>=t||n<0||h&&e-c>=a}function g(){var e=va();if(v(e))return y(e);l=wi(g,function(e){var n=t-(e-u);return h?ln(n,a-(e-c)):n}(e))}function y(e){return l=void 0,d&&r?p(e):(r=o=void 0,s)}function b(){var e=va(),n=v(e);if(r=arguments,o=this,u=e,n){if(void 0===l)return m(u);if(h)return fo(l),l=wi(g,t),p(u)}return void 0===l&&(l=wi(g,t)),s}return t=as(t)||0,Wa(n)&&(f=!!n.leading,a=(h="maxWait"in n)?sn(as(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==l&&fo(l),c=0,r=u=o=l=void 0},b.flush=function(){return void 0===l?s:y(va())},b}var Sa=zr((function(e,t){return Zn(e,1,t)})),Ea=zr((function(e,t,n){return Zn(e,as(t)||0,n)}));function Ta(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ge(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ta.Cache||Dn),n}function ka(e){if("function"!=typeof e)throw new ge(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ta.Cache=Dn;var xa=uo((function(e,t){var n=(t=1==t.length&&Na(t[0])?dt(t[0],At(Jo())):dt(ar(t,1),At(Jo()))).length;return zr((function(r){for(var o=-1,i=ln(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return it(e,this,r)}))})),Ca=zr((function(e,t){return Bo(e,32,void 0,t,Gt(t,Qo(Ca)))})),Oa=zr((function(e,t){return Bo(e,64,void 0,t,Gt(t,Qo(Oa)))})),Pa=qo((function(e,t){return Bo(e,256,void 0,void 0,void 0,t)}));function Ia(e,t){return e===t||e!=e&&t!=t}var Aa=Do(mr),Ra=Do((function(e,t){return e>=t})),Ma=_r(function(){return arguments}())?_r:function(e){return Ha(e)&&Ee.call(e,"callee")&&!qe.call(e,"callee")},Na=r.isArray,ja=Ze?At(Ze):function(e){return Ha(e)&&pr(e)==E};function Da(e){return null!=e&&Ga(e.length)&&!Ba(e)}function La(e){return Ha(e)&&Da(e)}var Fa=nn||al,za=et?At(et):function(e){return Ha(e)&&pr(e)==f};function Ua(e){if(!Ha(e))return!1;var t=pr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ka(e)}function Ba(e){if(!Wa(e))return!1;var t=pr(e);return t==d||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Va(e){return"number"==typeof e&&e==os(e)}function Ga(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Wa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ha(e){return null!=e&&"object"==typeof e}var qa=tt?At(tt):function(e){return Ha(e)&&oi(e)==m};function $a(e){return"number"==typeof e||Ha(e)&&pr(e)==v}function Ka(e){if(!Ha(e)||pr(e)!=g)return!1;var t=Ve(e);if(null===t)return!0;var n=Ee.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Se.call(n)==Ce}var Xa=nt?At(nt):function(e){return Ha(e)&&pr(e)==y};var Ya=rt?At(rt):function(e){return Ha(e)&&oi(e)==b};function Qa(e){return"string"==typeof e||!Na(e)&&Ha(e)&&pr(e)==_}function Ja(e){return"symbol"==typeof e||Ha(e)&&pr(e)==w}var Za=ot?At(ot):function(e){return Ha(e)&&Ga(e.length)&&!!Ue[pr(e)]};var es=Do(Cr),ts=Do((function(e,t){return e<=t}));function ns(e){if(!e)return[];if(Da(e))return Qa(e)?$t(e):bo(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=oi(e);return(t==m?Bt:t==b?Wt:Is)(e)}function rs(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function os(e){var t=rs(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?Yn(os(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Ja(e))return NaN;if(Wa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Wa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=It(e);var n=ie.test(e);return n||se.test(e)?We(e.slice(2),n?2:8):oe.test(e)?NaN:+e}function ss(e){return _o(e,Ss(e))}function ls(e){return null==e?"":Jr(e)}var us=So((function(e,t){if(di(t)||Da(t))_o(t,ws(t),e);else for(var n in t)Ee.call(t,n)&&Wn(e,n,t[n])})),cs=So((function(e,t){_o(t,Ss(t),e)})),fs=So((function(e,t,n,r){_o(t,Ss(t),e,r)})),hs=So((function(e,t,n,r){_o(t,ws(t),e,r)})),ds=qo(Xn);var ps=zr((function(e,t){e=pe(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&ui(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=Ss(i),s=-1,l=a.length;++s<l;){var u=a[s],c=e[u];(void 0===c||Ia(c,_e[u])&&!Ee.call(e,u))&&(e[u]=i[u])}return e})),ms=zr((function(e){return e.push(void 0,Go),it(Ts,void 0,e)}));function vs(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function gs(e,t){return null!=e&&ii(e,t,gr)}var ys=Ao((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=xe.call(t)),e[t]=n}),Ws($s)),bs=Ao((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=xe.call(t)),Ee.call(e,t)?e[t].push(n):e[t]=[n]}),Jo),_s=zr(br);function ws(e){return Da(e)?zn(e):kr(e)}function Ss(e){return Da(e)?zn(e,!0):xr(e)}var Es=So((function(e,t,n){Ar(e,t,n)})),Ts=So((function(e,t,n,r){Ar(e,t,n,r)})),ks=qo((function(e,t){var n={};if(null==e)return n;var r=!1;t=dt(t,(function(t){return t=lo(t,e),r||(r=t.length>1),t})),_o(e,Ko(e),n),r&&(n=Qn(n,7,Wo));for(var o=t.length;o--;)eo(n,t[o]);return n}));var xs=qo((function(e,t){return null==e?{}:function(e,t){return Nr(e,t,(function(t,n){return gs(e,n)}))}(e,t)}));function Cs(e,t){if(null==e)return{};var n=dt(Ko(e),(function(e){return[e]}));return t=Jo(t),Nr(e,n,(function(e,n){return t(e,n[0])}))}var Os=Uo(ws),Ps=Uo(Ss);function Is(e){return null==e?[]:Rt(e,ws(e))}var As=xo((function(e,t,n){return t=t.toLowerCase(),e+(n?Rs(t):t)}));function Rs(e){return Us(ls(e).toLowerCase())}function Ms(e){return(e=ls(e))&&e.replace(ue,Lt).replace(Me,"")}var Ns=xo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),js=xo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ds=ko("toLowerCase");var Ls=xo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Fs=xo((function(e,t,n){return e+(n?" ":"")+Us(t)}));var zs=xo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Us=ko("toUpperCase");function Bs(e,t,n){return e=ls(e),void 0===(t=n?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(je)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Vs=zr((function(e,t){try{return it(e,void 0,t)}catch(e){return Ua(e)?e:new X(e)}})),Gs=qo((function(e,t){return st(t,(function(t){t=Ci(t),Kn(e,t,ba(e[t],e))})),e}));function Ws(e){return function(){return e}}var Hs=Po(),qs=Po(!0);function $s(e){return e}function Ks(e){return Tr("function"==typeof e?e:Qn(e,1))}var Xs=zr((function(e,t){return function(n){return br(n,e,t)}})),Ys=zr((function(e,t){return function(n){return br(e,n,t)}}));function Qs(e,t,n){var r=ws(t),o=fr(t,r);null!=n||Wa(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=fr(t,ws(t)));var i=!(Wa(n)&&"chain"in n&&!n.chain),a=Ba(e);return st(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=bo(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Js(){}var Zs=Mo(dt),el=Mo(ut),tl=Mo(gt);function nl(e){return ci(e)?kt(Ci(e)):function(e){return function(t){return hr(t,e)}}(e)}var rl=jo(),ol=jo(!0);function il(){return[]}function al(){return!1}var sl=Ro((function(e,t){return e+t}),0),ll=Fo("ceil"),ul=Ro((function(e,t){return e/t}),1),cl=Fo("floor");var fl,hl=Ro((function(e,t){return e*t}),1),dl=Fo("round"),pl=Ro((function(e,t){return e-t}),0);return Pn.after=function(e,t){if("function"!=typeof t)throw new ge(i);return e=os(e),function(){if(--e<1)return t.apply(this,arguments)}},Pn.ary=ga,Pn.assign=us,Pn.assignIn=cs,Pn.assignInWith=fs,Pn.assignWith=hs,Pn.at=ds,Pn.before=ya,Pn.bind=ba,Pn.bindAll=Gs,Pn.bindKey=_a,Pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Na(e)?e:[e]},Pn.chain=na,Pn.chunk=function(e,t,n){t=(n?ui(e,t,n):void 0===t)?1:sn(os(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,a=0,s=r(Zt(o/t));i<o;)s[a++]=qr(e,i,i+=t);return s},Pn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return pt(Na(n)?bo(n):[n],ar(t,1))},Pn.cond=function(e){var t=null==e?0:e.length,n=Jo();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new ge(i);return[n(e[0]),e[1]]})):[],zr((function(n){for(var r=-1;++r<t;){var o=e[r];if(it(o[0],this,n))return it(o[1],this,n)}}))},Pn.conforms=function(e){return function(e){var t=ws(e);return function(n){return Jn(n,e,t)}}(Qn(e,1))},Pn.constant=Ws,Pn.countBy=ia,Pn.create=function(e,t){var n=In(e);return null==t?n:$n(n,t)},Pn.curry=function e(t,n,r){var o=Bo(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=e.placeholder,o},Pn.curryRight=function e(t,n,r){var o=Bo(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=e.placeholder,o},Pn.debounce=wa,Pn.defaults=ps,Pn.defaultsDeep=ms,Pn.defer=Sa,Pn.delay=Ea,Pn.difference=Ii,Pn.differenceBy=Ai,Pn.differenceWith=Ri,Pn.drop=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=n||void 0===t?1:os(t))<0?0:t,r):[]},Pn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,0,(t=r-(t=n||void 0===t?1:os(t)))<0?0:t):[]},Pn.dropRightWhile=function(e,t){return e&&e.length?no(e,Jo(t,3),!0,!0):[]},Pn.dropWhile=function(e,t){return e&&e.length?no(e,Jo(t,3),!0):[]},Pn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&ui(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=os(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:os(r))<0&&(r+=o),r=n>r?0:is(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Pn.filter=function(e,t){return(Na(e)?ct:ir)(e,Jo(t,3))},Pn.flatMap=function(e,t){return ar(da(e,t),1)},Pn.flatMapDeep=function(e,t){return ar(da(e,t),1/0)},Pn.flatMapDepth=function(e,t,n){return n=void 0===n?1:os(n),ar(da(e,t),n)},Pn.flatten=ji,Pn.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},Pn.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:os(t)):[]},Pn.flip=function(e){return Bo(e,512)},Pn.flow=Hs,Pn.flowRight=qs,Pn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Pn.functions=function(e){return null==e?[]:fr(e,ws(e))},Pn.functionsIn=function(e){return null==e?[]:fr(e,Ss(e))},Pn.groupBy=ca,Pn.initial=function(e){return(null==e?0:e.length)?qr(e,0,-1):[]},Pn.intersection=Li,Pn.intersectionBy=Fi,Pn.intersectionWith=zi,Pn.invert=ys,Pn.invertBy=bs,Pn.invokeMap=fa,Pn.iteratee=Ks,Pn.keyBy=ha,Pn.keys=ws,Pn.keysIn=Ss,Pn.map=da,Pn.mapKeys=function(e,t){var n={};return t=Jo(t,3),ur(e,(function(e,r,o){Kn(n,t(e,r,o),e)})),n},Pn.mapValues=function(e,t){var n={};return t=Jo(t,3),ur(e,(function(e,r,o){Kn(n,r,t(e,r,o))})),n},Pn.matches=function(e){return Pr(Qn(e,1))},Pn.matchesProperty=function(e,t){return Ir(e,Qn(t,1))},Pn.memoize=Ta,Pn.merge=Es,Pn.mergeWith=Ts,Pn.method=Xs,Pn.methodOf=Ys,Pn.mixin=Qs,Pn.negate=ka,Pn.nthArg=function(e){return e=os(e),zr((function(t){return Rr(t,e)}))},Pn.omit=ks,Pn.omitBy=function(e,t){return Cs(e,ka(Jo(t)))},Pn.once=function(e){return ya(2,e)},Pn.orderBy=function(e,t,n,r){return null==e?[]:(Na(t)||(t=null==t?[]:[t]),Na(n=r?void 0:n)||(n=null==n?[]:[n]),Mr(e,t,n))},Pn.over=Zs,Pn.overArgs=xa,Pn.overEvery=el,Pn.overSome=tl,Pn.partial=Ca,Pn.partialRight=Oa,Pn.partition=pa,Pn.pick=xs,Pn.pickBy=Cs,Pn.property=nl,Pn.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},Pn.pull=Bi,Pn.pullAll=Vi,Pn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?jr(e,t,Jo(n,2)):e},Pn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?jr(e,t,void 0,n):e},Pn.pullAt=Gi,Pn.range=rl,Pn.rangeRight=ol,Pn.rearg=Pa,Pn.reject=function(e,t){return(Na(e)?ct:ir)(e,ka(Jo(t,3)))},Pn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Jo(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Dr(e,o),n},Pn.rest=function(e,t){if("function"!=typeof e)throw new ge(i);return zr(e,t=void 0===t?t:os(t))},Pn.reverse=Wi,Pn.sampleSize=function(e,t,n){return t=(n?ui(e,t,n):void 0===t)?1:os(t),(Na(e)?Bn:Br)(e,t)},Pn.set=function(e,t,n){return null==e?e:Vr(e,t,n)},Pn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Vr(e,t,n,r)},Pn.shuffle=function(e){return(Na(e)?Vn:Hr)(e)},Pn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ui(e,t,n)?(t=0,n=r):(t=null==t?0:os(t),n=void 0===n?r:os(n)),qr(e,t,n)):[]},Pn.sortBy=ma,Pn.sortedUniq=function(e){return e&&e.length?Yr(e):[]},Pn.sortedUniqBy=function(e,t){return e&&e.length?Yr(e,Jo(t,2)):[]},Pn.split=function(e,t,n){return n&&"number"!=typeof n&&ui(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ls(e))&&("string"==typeof t||null!=t&&!Xa(t))&&!(t=Jr(t))&&Ut(e)?co($t(e),0,n):e.split(t,n):[]},Pn.spread=function(e,t){if("function"!=typeof e)throw new ge(i);return t=null==t?0:sn(os(t),0),zr((function(n){var r=n[t],o=co(n,0,t);return r&&pt(o,r),it(e,this,o)}))},Pn.tail=function(e){var t=null==e?0:e.length;return t?qr(e,1,t):[]},Pn.take=function(e,t,n){return e&&e.length?qr(e,0,(t=n||void 0===t?1:os(t))<0?0:t):[]},Pn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=r-(t=n||void 0===t?1:os(t)))<0?0:t,r):[]},Pn.takeRightWhile=function(e,t){return e&&e.length?no(e,Jo(t,3),!1,!0):[]},Pn.takeWhile=function(e,t){return e&&e.length?no(e,Jo(t,3)):[]},Pn.tap=function(e,t){return t(e),e},Pn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ge(i);return Wa(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),wa(e,t,{leading:r,maxWait:t,trailing:o})},Pn.thru=ra,Pn.toArray=ns,Pn.toPairs=Os,Pn.toPairsIn=Ps,Pn.toPath=function(e){return Na(e)?dt(e,Ci):Ja(e)?[e]:bo(xi(ls(e)))},Pn.toPlainObject=ss,Pn.transform=function(e,t,n){var r=Na(e),o=r||Fa(e)||Za(e);if(t=Jo(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Wa(e)&&Ba(i)?In(Ve(e)):{}}return(o?st:ur)(e,(function(e,r,o){return t(n,e,r,o)})),n},Pn.unary=function(e){return ga(e,1)},Pn.union=Hi,Pn.unionBy=qi,Pn.unionWith=$i,Pn.uniq=function(e){return e&&e.length?Zr(e):[]},Pn.uniqBy=function(e,t){return e&&e.length?Zr(e,Jo(t,2)):[]},Pn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zr(e,void 0,t):[]},Pn.unset=function(e,t){return null==e||eo(e,t)},Pn.unzip=Ki,Pn.unzipWith=Xi,Pn.update=function(e,t,n){return null==e?e:to(e,t,so(n))},Pn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:to(e,t,so(n),r)},Pn.values=Is,Pn.valuesIn=function(e){return null==e?[]:Rt(e,Ss(e))},Pn.without=Yi,Pn.words=Bs,Pn.wrap=function(e,t){return Ca(so(t),e)},Pn.xor=Qi,Pn.xorBy=Ji,Pn.xorWith=Zi,Pn.zip=ea,Pn.zipObject=function(e,t){return io(e||[],t||[],Wn)},Pn.zipObjectDeep=function(e,t){return io(e||[],t||[],Vr)},Pn.zipWith=ta,Pn.entries=Os,Pn.entriesIn=Ps,Pn.extend=cs,Pn.extendWith=fs,Qs(Pn,Pn),Pn.add=sl,Pn.attempt=Vs,Pn.camelCase=As,Pn.capitalize=Rs,Pn.ceil=ll,Pn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Yn(as(e),t,n)},Pn.clone=function(e){return Qn(e,4)},Pn.cloneDeep=function(e){return Qn(e,5)},Pn.cloneDeepWith=function(e,t){return Qn(e,5,t="function"==typeof t?t:void 0)},Pn.cloneWith=function(e,t){return Qn(e,4,t="function"==typeof t?t:void 0)},Pn.conformsTo=function(e,t){return null==t||Jn(e,t,ws(t))},Pn.deburr=Ms,Pn.defaultTo=function(e,t){return null==e||e!=e?t:e},Pn.divide=ul,Pn.endsWith=function(e,t,n){e=ls(e),t=Jr(t);var r=e.length,o=n=void 0===n?r:Yn(os(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Pn.eq=Ia,Pn.escape=function(e){return(e=ls(e))&&z.test(e)?e.replace(L,Ft):e},Pn.escapeRegExp=function(e){return(e=ls(e))&&$.test(e)?e.replace(q,"\\$&"):e},Pn.every=function(e,t,n){var r=Na(e)?ut:rr;return n&&ui(e,t,n)&&(t=void 0),r(e,Jo(t,3))},Pn.find=aa,Pn.findIndex=Mi,Pn.findKey=function(e,t){return bt(e,Jo(t,3),ur)},Pn.findLast=sa,Pn.findLastIndex=Ni,Pn.findLastKey=function(e,t){return bt(e,Jo(t,3),cr)},Pn.floor=cl,Pn.forEach=la,Pn.forEachRight=ua,Pn.forIn=function(e,t){return null==e?e:sr(e,Jo(t,3),Ss)},Pn.forInRight=function(e,t){return null==e?e:lr(e,Jo(t,3),Ss)},Pn.forOwn=function(e,t){return e&&ur(e,Jo(t,3))},Pn.forOwnRight=function(e,t){return e&&cr(e,Jo(t,3))},Pn.get=vs,Pn.gt=Aa,Pn.gte=Ra,Pn.has=function(e,t){return null!=e&&ii(e,t,vr)},Pn.hasIn=gs,Pn.head=Di,Pn.identity=$s,Pn.includes=function(e,t,n,r){e=Da(e)?e:Is(e),n=n&&!r?os(n):0;var o=e.length;return n<0&&(n=sn(o+n,0)),Qa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&wt(e,t,n)>-1},Pn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:os(n);return o<0&&(o=sn(r+o,0)),wt(e,t,o)},Pn.inRange=function(e,t,n){return t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n){return e>=ln(t,n)&&e<sn(t,n)}(e=as(e),t,n)},Pn.invoke=_s,Pn.isArguments=Ma,Pn.isArray=Na,Pn.isArrayBuffer=ja,Pn.isArrayLike=Da,Pn.isArrayLikeObject=La,Pn.isBoolean=function(e){return!0===e||!1===e||Ha(e)&&pr(e)==c},Pn.isBuffer=Fa,Pn.isDate=za,Pn.isElement=function(e){return Ha(e)&&1===e.nodeType&&!Ka(e)},Pn.isEmpty=function(e){if(null==e)return!0;if(Da(e)&&(Na(e)||"string"==typeof e||"function"==typeof e.splice||Fa(e)||Za(e)||Ma(e)))return!e.length;var t=oi(e);if(t==m||t==b)return!e.size;if(di(e))return!kr(e).length;for(var n in e)if(Ee.call(e,n))return!1;return!0},Pn.isEqual=function(e,t){return wr(e,t)},Pn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?wr(e,t,void 0,n):!!r},Pn.isError=Ua,Pn.isFinite=function(e){return"number"==typeof e&&rn(e)},Pn.isFunction=Ba,Pn.isInteger=Va,Pn.isLength=Ga,Pn.isMap=qa,Pn.isMatch=function(e,t){return e===t||Sr(e,t,ei(t))},Pn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Sr(e,t,ei(t),n)},Pn.isNaN=function(e){return $a(e)&&e!=+e},Pn.isNative=function(e){if(hi(e))throw new X("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},Pn.isNil=function(e){return null==e},Pn.isNull=function(e){return null===e},Pn.isNumber=$a,Pn.isObject=Wa,Pn.isObjectLike=Ha,Pn.isPlainObject=Ka,Pn.isRegExp=Xa,Pn.isSafeInteger=function(e){return Va(e)&&e>=-9007199254740991&&e<=9007199254740991},Pn.isSet=Ya,Pn.isString=Qa,Pn.isSymbol=Ja,Pn.isTypedArray=Za,Pn.isUndefined=function(e){return void 0===e},Pn.isWeakMap=function(e){return Ha(e)&&oi(e)==S},Pn.isWeakSet=function(e){return Ha(e)&&"[object WeakSet]"==pr(e)},Pn.join=function(e,t){return null==e?"":on.call(e,t)},Pn.kebabCase=Ns,Pn.last=Ui,Pn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=os(n))<0?sn(r+o,0):ln(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):_t(e,Et,o,!0)},Pn.lowerCase=js,Pn.lowerFirst=Ds,Pn.lt=es,Pn.lte=ts,Pn.max=function(e){return e&&e.length?or(e,$s,mr):void 0},Pn.maxBy=function(e,t){return e&&e.length?or(e,Jo(t,2),mr):void 0},Pn.mean=function(e){return Tt(e,$s)},Pn.meanBy=function(e,t){return Tt(e,Jo(t,2))},Pn.min=function(e){return e&&e.length?or(e,$s,Cr):void 0},Pn.minBy=function(e,t){return e&&e.length?or(e,Jo(t,2),Cr):void 0},Pn.stubArray=il,Pn.stubFalse=al,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=hl,Pn.nth=function(e,t){return e&&e.length?Rr(e,os(t)):void 0},Pn.noConflict=function(){return $e._===this&&($e._=Oe),this},Pn.noop=Js,Pn.now=va,Pn.pad=function(e,t,n){e=ls(e);var r=(t=os(t))?qt(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return No(en(o),n)+e+No(Zt(o),n)},Pn.padEnd=function(e,t,n){e=ls(e);var r=(t=os(t))?qt(e):0;return t&&r<t?e+No(t-r,n):e},Pn.padStart=function(e,t,n){e=ls(e);var r=(t=os(t))?qt(e):0;return t&&r<t?No(t-r,n)+e:e},Pn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(ls(e).replace(K,""),t||0)},Pn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ui(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=rs(e),void 0===t?(t=e,e=0):t=rs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=fn();return ln(e+o*(t-e+Ge("1e-"+((o+"").length-1))),t)}return Lr(e,t)},Pn.reduce=function(e,t,n){var r=Na(e)?mt:Ct,o=arguments.length<3;return r(e,Jo(t,4),n,o,tr)},Pn.reduceRight=function(e,t,n){var r=Na(e)?vt:Ct,o=arguments.length<3;return r(e,Jo(t,4),n,o,nr)},Pn.repeat=function(e,t,n){return t=(n?ui(e,t,n):void 0===t)?1:os(t),Fr(ls(e),t)},Pn.replace=function(){var e=arguments,t=ls(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Pn.result=function(e,t,n){var r=-1,o=(t=lo(t,e)).length;for(o||(o=1,e=void 0);++r<o;){var i=null==e?void 0:e[Ci(t[r])];void 0===i&&(r=o,i=n),e=Ba(i)?i.call(e):i}return e},Pn.round=dl,Pn.runInContext=e,Pn.sample=function(e){return(Na(e)?Un:Ur)(e)},Pn.size=function(e){if(null==e)return 0;if(Da(e))return Qa(e)?qt(e):e.length;var t=oi(e);return t==m||t==b?e.size:kr(e).length},Pn.snakeCase=Ls,Pn.some=function(e,t,n){var r=Na(e)?gt:$r;return n&&ui(e,t,n)&&(t=void 0),r(e,Jo(t,3))},Pn.sortedIndex=function(e,t){return Kr(e,t)},Pn.sortedIndexBy=function(e,t,n){return Xr(e,t,Jo(n,2))},Pn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Kr(e,t);if(r<n&&Ia(e[r],t))return r}return-1},Pn.sortedLastIndex=function(e,t){return Kr(e,t,!0)},Pn.sortedLastIndexBy=function(e,t,n){return Xr(e,t,Jo(n,2),!0)},Pn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Kr(e,t,!0)-1;if(Ia(e[n],t))return n}return-1},Pn.startCase=Fs,Pn.startsWith=function(e,t,n){return e=ls(e),n=null==n?0:Yn(os(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t},Pn.subtract=pl,Pn.sum=function(e){return e&&e.length?Ot(e,$s):0},Pn.sumBy=function(e,t){return e&&e.length?Ot(e,Jo(t,2)):0},Pn.template=function(e,t,n){var r=Pn.templateSettings;n&&ui(e,t,n)&&(t=void 0),e=ls(e),t=fs({},t,r,Vo);var o,i,a=fs({},t.imports,r.imports,Vo),s=ws(a),l=Rt(a,s),u=0,c=t.interpolate||ce,f="__p += '",h=me((t.escape||ce).source+"|"+c.source+"|"+(c===V?ne:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),d="//# sourceURL="+(Ee.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ze+"]")+"\n";e.replace(h,(function(t,n,r,a,s,l){return r||(r=a),f+=e.slice(u,l).replace(fe,zt),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),f+="';\n";var p=Ee.call(t,"variable")&&t.variable;if(p){if(ee.test(p))throw new X("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(M,""):f).replace(N,"$1").replace(j,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Vs((function(){return he(s,d+"return "+f).apply(void 0,l)}));if(m.source=f,Ua(m))throw m;return m},Pn.times=function(e,t){if((e=os(e))<1||e>9007199254740991)return[];var n=4294967295,r=ln(e,4294967295);e-=4294967295;for(var o=Pt(r,t=Jo(t));++n<e;)t(n);return o},Pn.toFinite=rs,Pn.toInteger=os,Pn.toLength=is,Pn.toLower=function(e){return ls(e).toLowerCase()},Pn.toNumber=as,Pn.toSafeInteger=function(e){return e?Yn(os(e),-9007199254740991,9007199254740991):0===e?e:0},Pn.toString=ls,Pn.toUpper=function(e){return ls(e).toUpperCase()},Pn.trim=function(e,t,n){if((e=ls(e))&&(n||void 0===t))return It(e);if(!e||!(t=Jr(t)))return e;var r=$t(e),o=$t(t);return co(r,Nt(r,o),jt(r,o)+1).join("")},Pn.trimEnd=function(e,t,n){if((e=ls(e))&&(n||void 0===t))return e.slice(0,Kt(e)+1);if(!e||!(t=Jr(t)))return e;var r=$t(e);return co(r,0,jt(r,$t(t))+1).join("")},Pn.trimStart=function(e,t,n){if((e=ls(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=Jr(t)))return e;var r=$t(e);return co(r,Nt(r,$t(t))).join("")},Pn.truncate=function(e,t){var n=30,r="...";if(Wa(t)){var o="separator"in t?t.separator:o;n="length"in t?os(t.length):n,r="omission"in t?Jr(t.omission):r}var i=(e=ls(e)).length;if(Ut(e)){var a=$t(e);i=a.length}if(n>=i)return e;var s=n-qt(r);if(s<1)return r;var l=a?co(a,0,s).join(""):e.slice(0,s);if(void 0===o)return l+r;if(a&&(s+=l.length-s),Xa(o)){if(e.slice(s).search(o)){var u,c=l;for(o.global||(o=me(o.source,ls(re.exec(o))+"g")),o.lastIndex=0;u=o.exec(c);)var f=u.index;l=l.slice(0,void 0===f?s:f)}}else if(e.indexOf(Jr(o),s)!=s){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+r},Pn.unescape=function(e){return(e=ls(e))&&F.test(e)?e.replace(D,Xt):e},Pn.uniqueId=function(e){var t=++Te;return ls(e)+t},Pn.upperCase=zs,Pn.upperFirst=Us,Pn.each=la,Pn.eachRight=ua,Pn.first=Di,Qs(Pn,(fl={},ur(Pn,(function(e,t){Ee.call(Pn.prototype,t)||(fl[t]=e)})),fl),{chain:!1}),Pn.VERSION="4.17.21",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Pn[e].placeholder=Pn})),st(["drop","take"],(function(e,t){Mn.prototype[e]=function(n){n=void 0===n?1:sn(os(n),0);var r=this.__filtered__&&!t?new Mn(this):this.clone();return r.__filtered__?r.__takeCount__=ln(n,r.__takeCount__):r.__views__.push({size:ln(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Mn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Mn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Jo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Mn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Mn.prototype[e]=function(){return this.__filtered__?new Mn(this):this[n](1)}})),Mn.prototype.compact=function(){return this.filter($s)},Mn.prototype.find=function(e){return this.filter(e).head()},Mn.prototype.findLast=function(e){return this.reverse().find(e)},Mn.prototype.invokeMap=zr((function(e,t){return"function"==typeof e?new Mn(this):this.map((function(n){return br(n,e,t)}))})),Mn.prototype.reject=function(e){return this.filter(ka(Jo(e)))},Mn.prototype.slice=function(e,t){e=os(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Mn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=os(t))<0?n.dropRight(-t):n.take(t-e)),n)},Mn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Mn.prototype.toArray=function(){return this.take(4294967295)},ur(Mn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Pn[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(Pn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Mn,l=a[0],u=s||Na(t),c=function(e){var t=o.apply(Pn,pt([e],a));return r&&f?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var f=this.__chain__,h=!!this.__actions__.length,d=i&&!f,p=s&&!h;if(!i&&u){t=p?t:new Mn(this);var m=e.apply(t,a);return m.__actions__.push({func:ra,args:[c],thisArg:void 0}),new Rn(m,f)}return d&&p?e.apply(this,a):(m=this.thru(c),d?r?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Pn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Na(o)?o:[],e)}return this[n]((function(n){return t.apply(Na(n)?n:[],e)}))}})),ur(Mn.prototype,(function(e,t){var n=Pn[t];if(n){var r=n.name+"";Ee.call(_n,r)||(_n[r]=[]),_n[r].push({name:t,func:n})}})),_n[Io(void 0,2).name]=[{name:"wrapper",func:void 0}],Mn.prototype.clone=function(){var e=new Mn(this.__wrapped__);return e.__actions__=bo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=bo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=bo(this.__views__),e},Mn.prototype.reverse=function(){if(this.__filtered__){var e=new Mn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Mn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Na(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ln(t,e+a);break;case"takeRight":e=sn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=ln(l,this.__takeCount__);if(!n||!r&&o==l&&d==l)return ro(e,this.__actions__);var p=[];e:for(;l--&&h<d;){for(var m=-1,v=e[u+=t];++m<f;){var g=c[m],y=g.iteratee,b=g.type,_=y(v);if(2==b)v=_;else if(!_){if(1==b)continue e;break e}}p[h++]=v}return p},Pn.prototype.at=oa,Pn.prototype.chain=function(){return na(this)},Pn.prototype.commit=function(){return new Rn(this.value(),this.__chain__)},Pn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Pn.prototype.plant=function(e){for(var t,n=this;n instanceof An;){var r=Pi(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Pn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Mn){var t=e;return this.__actions__.length&&(t=new Mn(this)),(t=t.reverse()).__actions__.push({func:ra,args:[Wi],thisArg:void 0}),new Rn(t,this.__chain__)}return this.thru(Wi)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return ro(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,Qe&&(Pn.prototype[Qe]=function(){return this}),Pn}();$e._=Yt,void 0===(o=function(){return Yt}.call(t,n,t,r))||(r.exports=o)}).call(this)}).call(this,n(22),n(35)(e))},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Error}).call(this,n(22),n(26))},function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure "+e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(132),o=n(133),i=n(62),a=n(134);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(135),o=n(136),i=n(62),a=n(137);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcAAAAA3CAYAAACbxZpmAAAACXBIWXMAAAsSAAALEgHS3X78AAAClElEQVR42u3c7W2jMAAGYLdikq6QCW6ZssUpui2Y5jpAs8LtcBP4fkXq0SQYsB0MzyNValIgvLj0rd2PlxhjCCGEvr+ch+F0DiN9f/kZQvgzevptGE6/Rtt923/Gvlt6DXnllVdeeXeW99bHXwMAHJACBEABAoACBAAFCAAKEAAUIAAoQABQgACgAAFAAQKAAgQABQgAChAAFCAAKEAAUIAAoAABQAECgAIEAAUIgAIEAAUIAAoQAHarS9jmbwjh7cZzIeO+W3oNeeWVV15595f3uxhjiDGG9/fP8/X9W2/P/nitY9Q6F3nllVdeeZ+b1xIoAIekAAFQgACgAAFAAQKAAgQABQgAChAAFCAAbFdX4qB9f/l9fX8YTj/2fhHllVdeeeVtL2/3aKdbF2fq4t3bb87+Xx8v3SZ1oHOc75r9U/LUylvjem0pb0vjm/pFq4W8OTO7f43vmryLZoDXA04dfOn+Kcec2mbpuT0jb0qeWnnXZm0tbwvjmzPrVvLWzHyk+9f4zjvm66OTG7f4HqfGR8gpr7zyyitvphng9YRKrR/PnYaXXscunTd1Kl8jb42sW8p7tPHdSt69fU4b3zbHt0sJmHuKvWbqPPeCTl2clO8uSufNsYSSK2+NrFvK29L4ptzoreTNldn9a3zX5O3uTTvvPW7NvSn03nLKu/+8j5aDjK+88s6XfQl0HOjRckDJqXPOtePSeXNkzpV36lz3lreF8c39c5AjfT7LK++sP4MYbzD1eO7UN8dSQeoFn3MepX7bKUeeWnlLvM6W87Y0vnOPseW8Jc7D/Wt8l7yO/wQDwCG9xBi/TiXPLgkAO/cxDKeP/woQAI7CEigAChAAFCAAKEAAUIAAoAABQAECQCP+AX8PMLpfoKkaAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(10),o=n(74);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var u,c=new(n.n(o).a.scale)(["#000000","#0000a0","#6000a0","#962761","#dd1440","#f0b000","#ffffa0","#ffffff"]).domain([0,255]),f=-1!==window.location.search.indexOf("debug=true"),h=0,d=0,p=0,m=0;function v(e){var t=e*e;return 281061254.916*t*t/((t+424.36)*Math.sqrt((t+11599.29)*(t+544496.41))*(t+14884e4))}var g=function(){return e=function e(t,n,o,i,s,l){var c=this,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-90,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-30;a(this,e),Object(r.a)(this),this.core=t;var d=32,p=0,m=i.width,g=25.95,y=4504,b=this.core._cqt_init(n.sampleRate,m,d,g,y,p);b?(this.cqtFreqs=Array(m).fill().map((function(e,t){return c.core._cqt_bin_to_freq(t)})),u=this.cqtFreqs.map((function(e){return.5+.5*v(e)}))):console.error("Error initializing constant Q transform. Constant Q will be disabled."),this.cqtSize=b,this.dataPtr=this.core._malloc(4*b),this.paused=!0,this.mode=0,this.weighting=0,this.analyserNode=n.createAnalyser(),o.connect(this.analyserNode),this.analyserNode.minDecibels=f,this.analyserNode.maxDecibels=h,this.analyserNode.smoothingTimeConstant=0,this.analyserNode.fftSize=this.fftSize=2048,this.byteFrequencyData=new Uint8Array(this.analyserNode.frequencyBinCount),this.freqCanvas=i,this.specCanvas=s,this.tempCanvas=document.createElement("canvas"),this.tempCanvas.width=this.specCanvas.width,this.tempCanvas.height=this.specCanvas.height,this.freqCtx=this.freqCanvas.getContext("2d",{alpha:!1}),this.specCtx=this.specCanvas.getContext("2d",{alpha:!1}),this.tempCtx=this.tempCanvas.getContext("2d",{alpha:!1}),this.pianoKeysImage=l,this.lastData=[],this.updateFrame()},(t=[{key:"setPaused",value:function(e){this.paused&&!e&&requestAnimationFrame(this.updateFrame),this.paused=e}},{key:"setMode",value:function(e){this.mode=e,this.analyserNode.fftSize=2===e?this.cqtSize||2048:this.fftSize}},{key:"setFFTSize",value:function(e){this.fftSize=e,this.analyserNode.fftSize=e}},{key:"isRepeatedFrequencyData",value:function(e){for(var t=!0,n=0;n<40;n+=2)e[n]!==this.lastData[n]&&(t=!1),this.lastData[n]=e[n];return t}},{key:"setWeighting",value:function(e){this.weighting=e}},{key:"setSpeed",value:function(e){this.specSpeed=e}},{key:"updateFrame",value:function(){if(!this.paused){requestAnimationFrame(this.updateFrame);var e=this.freqCanvas.height,t=this.freqCanvas.width,n=e/256,r=this.specSpeed,o=this.byteFrequencyData,i=this.analyserNode,a=this.freqCtx,s=this.tempCtx;a.fillStyle="black",a.fillRect(0,0,this.freqCanvas.width,this.freqCanvas.height),s.fillStyle="#000033",s.fillRect(0,0,this.tempCanvas.width,r);var l=performance.now(),v=new Float32Array(this.core.HEAPF32.buffer,this.dataPtr,this.cqtSize),g=this.fftSize/2,y=!1;if(0===this.mode){i.getByteFrequencyData(o),y=this.isRepeatedFrequencyData(o);for(var b=0;b<g&&b<t;++b){var _=c(o[b]).hex(),w=o[b]*n|0;a.fillStyle=_,a.fillRect(b,e-w,1,w),s.fillStyle=_,s.fillRect(b,0,1,r)}}else if(1===this.mode){i.getByteFrequencyData(o),y=this.isRepeatedFrequencyData(o);for(var S=Math.log(g),E=0;E<g;E++){var T=Math.log(E+1)/S*t|0,k=Math.log(E+2)/S*t-T|0,x=o[E]*n|0,C=c(o[E]||0).hex();a.fillStyle=C,a.fillRect(T,e-x,k,x),s.fillStyle=C,s.fillRect(T,0,k,r)}}else if(2===this.mode&&(i.getFloatTimeDomainData(v),!v.every((function(e){return 0===e})))){this.core._cqt_calc(this.dataPtr,this.dataPtr),this.core._cqt_render_line(this.dataPtr);for(var O=0;O<t;O++){var P=255*(1===this.weighting?u[O]:1)*v[O]|0,I=P*n|0,A=c(P).hex();a.fillStyle=A,a.fillRect(O,e-I,1,I),s.fillStyle=A,s.fillRect(O,0,1,r)}}var R=performance.now();y||(s.translate(0,r),s.drawImage(this.tempCanvas,0,0),s.setTransform(1,0,0,1,0,0),this.specCtx.drawImage(this.tempCanvas,0,0));var M=performance.now();f&&(h+=R-l,d+=M-l,++p>=200&&(console.log("[Viz] %s ms analysis, %s ms total (%s fps) (%s% utilization)",(h/p).toFixed(2),(d/p).toFixed(2),(1e3*p/(l-m)).toFixed(1),(100*d/(M-m)).toFixed(1)),h=0,p=0,d=0,m=l))}}}])&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();if(e.AnalyserNode&&!e.AnalyserNode.prototype.getFloatTimeDomainData){var y=new Uint8Array(32768);e.AnalyserNode.prototype.getFloatTimeDomainData=function(e){this.getByteTimeDomainData(y);for(var t=0,n=e.length;t<n;t++)e[t]=.0078125*(y[t]-128)}}}).call(this,n(22))},function(e,t,n){(function(e){var n;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var r,o,i,a,s,l,u,c,f,h,d,p,m,v,g,y,b,_,w,S,E,T,k,x,C,O,P,I,A,R,M,N,j,D,L,F,z,U,B,V,G,W,H,q,$,K,X,Y,Q,J,Z,ee,te,ne,re,oe,ie,ae,se,le,ue,ce,fe,he,de,pe,me,ve,ge,ye,be,_e,we,Se,Ee,Te,ke,xe,Ce,Oe,Pe=[].slice;Te=function(){var e,t,n,r,o;for(e={},r=0,t=(o="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=o[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),X=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},ke=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},E=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},a=Math.PI,be=Math.round,k=Math.cos,I=Math.floor,re=Math.pow,Y=Math.log,we=Math.sin,Se=Math.sqrt,v=Math.atan2,Z=Math.max,m=Math.abs,u=2*a,s=a/3,o=a/180,l=180/a,(S=function(){return arguments[0]instanceof r?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,arguments,(function(){}))}).default=S,p=[],null!==e&&null!=e.exports&&(e.exports=S),void 0===(n=function(){return S}.apply(t,[]))||(e.exports=n),S.version="1.4.1",d={},f=[],h=!1,r=function(){function e(){var e,t,n,r,o,i,a,s,l;for(i=this,t=[],s=0,r=arguments.length;s<r;s++)null!=(e=arguments[s])&&t.push(e);if(t.length>1&&(a=t[t.length-1]),null!=d[a])i._rgb=E(d[a](ke(t.slice(0,-1))));else{for(h||(f=f.sort((function(e,t){return t.p-e.p})),h=!0),l=0,o=f.length;l<o&&!(a=(n=f[l]).test.apply(n,t));l++);a&&(i._rgb=E(d[a].apply(d,t)))}null==i._rgb&&console.warn("unknown format: "+t),null==i._rgb&&(i._rgb=[0,0,0]),3===i._rgb.length&&i._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),S._input=d,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
S.brewer=_={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],_)t.push(_[e.toLowerCase()]=_[e])}(),S.colors=xe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},W=function(){var e,t,n,r,o,a,s;return r=(t=ke(arguments))[0],e=t[1],n=t[2],a=(r+16)/116,o=isNaN(e)?a:a+e/500,s=isNaN(n)?a:a-n/200,a=i.Yn*H(a),o=i.Xn*H(o),s=i.Zn*H(s),[Oe(3.2404542*o-1.5371385*a-.4985314*s),Oe(-.969266*o+1.8760108*a+.041556*s),n=Oe(.0556434*o-.2040259*a+1.0572252*s),t.length>3?t[3]:1]},Oe=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},H=function(e){return e>i.t1?e*e*e:i.t2*(e-i.t0)},i={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},fe=function(){var e,t,n,r,o,i,a;return n=(r=ke(arguments))[0],t=r[1],e=r[2],i=(o=ve(n,t,e))[0],[116*(a=o[1])-16,500*(i-a),200*(a-o[2])]},ge=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Ce=function(e){return e>i.t3?re(e,1/3):e/i.t2+i.t0},ve=function(){var e,t,n,r;return n=(r=ke(arguments))[0],t=r[1],e=r[2],n=ge(n),t=ge(t),e=ge(e),[Ce((.4124564*n+.3575761*t+.1804375*e)/i.Xn),Ce((.2126729*n+.7151522*t+.072175*e)/i.Yn),Ce((.0193339*n+.119192*t+.9503041*e)/i.Zn)]},S.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["lab"]),(function(){}))},d.lab=W,r.prototype.lab=function(){return fe(this._rgb)},g=function(e){var t,n,r,o,i,a,s,l,u,c,f;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(S(o));return r}()).length?(u=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=u[0],a=u[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(i[t]+e*(a[t]-i[t]));return r}(),S.lab.apply(S,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=c[0],a=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*i[t]+2*(1-e)*e*a[t]+e*e*s[t]);return r}(),S.lab.apply(S,n)}):4===e.length?(f=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=f[0],a=f[1],s=f[2],l=f[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*i[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]);return r}(),S.lab.apply(S,n)}):5===e.length&&(n=g(e.slice(0,3)),r=g(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},S.bezier=function(e){var t;return(t=g(e)).scale=function(){return S.scale(t)},t},S.cubehelix=function(e,t,n,r,o){var i,a,s;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==o&&(o=[0,1]),i=0,"array"===Te(o)?a=o[1]-o[0]:(a=0,o=[o,o]),(s=function(s){var l,c,f,h,d;return l=u*((e+120)/360+t*s),h=re(o[0]+a*s,r),c=(0!==i?n[0]+s*i:n)*h*(1-h)/2,f=k(l),d=we(l),S(E([255*(h+c*(-.14861*f+1.78277*d)),255*(h+c*(-.29227*f-.90649*d)),255*(h+c*(1.97294*f)),1]))}).start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===Te(n=e)?0===(i=n[1]-n[0])&&(n=n[1]):i=0,s)},s.lightness=function(e){return null==e?o:("array"===Te(e)?(o=e,a=e[1]-e[0]):(o=[e,e],a=0),s)},s.scale=function(){return S.scale(s)},s.hue(n),s},S.random=function(){var e,t;for("0123456789abcdef",e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(I(16*Math.random()));return new r(e)},p=[],L=function(e,t,n,r){var o,i,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Te(e)&&(e=S(e)),"object"!==Te(t)&&(t=S(t)),a=0,i=p.length;a<i;a++)if(r===(o=p[a])[0]){s=o[1](e,t,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},S.interpolate=L,r.prototype.interpolate=function(e,t,n){return L(this,e,t,n)},S.mix=L,r.prototype.mix=r.prototype.interpolate,d.rgb=function(){var e,t,n,r;for(e in n=[],t=ke(arguments))r=t[e],n.push(r);return n},S.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["rgb"]),(function(){}))},r.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(e){var t;return t=ke(arguments),"array"===Te(t)&&3===t.length||4===t.length&&"number"===Te(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),d.lrgb=d.rgb,U=function(e,t,n,o){var i,a;return i=e._rgb,a=t._rgb,new r(Se(re(i[0],2)*(1-n)+re(a[0],2)*n),Se(re(i[1],2)*(1-n)+re(a[1],2)*n),Se(re(i[2],2)*(1-n)+re(a[2],2)*n),o)},c=function(e){var t,n,o,i,a;for(t=1/e.length,a=[0,0,0,0],o=0,n=e.length;o<n;o++)i=e[o]._rgb,a[0]+=re(i[0],2)*t,a[1]+=re(i[1],2)*t,a[2]+=re(i[2],2)*t,a[3]+=i[3]*t;return a[0]=Se(a[0]),a[1]=Se(a[1]),a[2]=Se(a[2]),a[3]>1&&(a[3]=1),new r(E(a))},p.push(["lrgb",U]),S.average=function(e,t){var n,r,o,i,s,l,u,f,h,d,p,m,g;if(null==t&&(t="rgb"),h=e.length,u=(e=e.map((function(e){return S(e)}))).splice(0,1)[0],"lrgb"===t)return c(e);for(f in i=[],s=0,l=0,m=u.get(t))m[f]=m[f]||0,i.push(isNaN(m[f])?0:1),"h"!==t.charAt(f)||isNaN(m[f])||(n=m[f]/180*a,s+=k(n),l+=we(n));for(r=u.alpha(),p=0,d=e.length;p<d;p++)for(f in g=(o=e[p]).get(t),r+=o.alpha(),m)isNaN(g[f])||(i[f]+=1,"h"===t.charAt(f)?(n=g[f]/180*a,s+=k(n),l+=we(n)):m[f]+=g[f]);for(f in m)if("h"===t.charAt(f)){for(n=v(l/i[f],s/i[f])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;m[f]=n}else m[f]=m[f]/i[f];return S(m,t).alpha(r/h)},R=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,be((255&n)/255*100)/100];if(null!=d.css&&(t=d.css(e)))return t;throw"unknown color: "+e},se=function(e,t){var n,r,o,i,a,s;return null==t&&(t="auto"),a=e[0],o=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),a=Math.round(a),o=Math.round(o),r=Math.round(r),s=(s="000000"+(a<<16|o<<8|r).toString(16)).substr(s.length-6),i=(i="0"+be(255*n).toString(16)).substr(i.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+i;case"argb":return i+s;default:return s}}()},d.hex=function(e){return R(e)},S.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["hex"]),(function(){}))},r.prototype.hex=function(e){return null==e&&(e="auto"),se(this._rgb,e)},f.push({p:4,test:function(e){if(1===arguments.length&&"string"===Te(e))return"hex"}}),j=function(){var e,t,n,r,o,i,a,s,l,u,c,f,h,d;if(o=(e=ke(arguments))[0],c=e[1],a=e[2],0===c)l=r=t=255*a;else{for(n=[0,0,0],f=2*a-(h=a<.5?a*(1+c):a+c-a*c),(d=[0,0,0])[0]=(o/=360)+1/3,d[1]=o,d[2]=o-1/3,i=s=0;s<=2;i=++s)d[i]<0&&(d[i]+=1),d[i]>1&&(d[i]-=1),6*d[i]<1?n[i]=f+6*(h-f)*d[i]:2*d[i]<1?n[i]=h:3*d[i]<2?n[i]=f+(h-f)*(2/3-d[i])*6:n[i]=f;l=(u=[be(255*n[0]),be(255*n[1]),be(255*n[2])])[0],r=u[1],t=u[2]}return e.length>3?[l,r,t,e[3]]:[l,r,t]},ue=function(e,t,n){var r,o,i,a,s;return void 0!==e&&e.length>=3&&(e=(a=e)[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,i=Math.min(e,t,n),o=((Z=Math.max(e,t,n))+i)/2,Z===i?(s=0,r=Number.NaN):s=o<.5?(Z-i)/(Z+i):(Z-i)/(2-Z-i),e===Z?r=(t-n)/(Z-i):t===Z?r=2+(n-e)/(Z-i):n===Z&&(r=4+(e-t)/(Z-i)),(r*=60)<0&&(r+=360),[r,s,o]},S.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["hsl"]),(function(){}))},d.hsl=j,r.prototype.hsl=function(){return ue(this._rgb)},D=function(){var e,t,n,r,o,i,a,s,l,u,c,f,h,d,p,m,v,g;if(o=(e=ke(arguments))[0],m=e[1],g=e[2],g*=255,0===m)l=r=t=g;else switch(360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360),a=g*(1-m),s=g*(1-m*(n=(o/=60)-(i=I(o)))),v=g*(1-m*(1-n)),i){case 0:l=(u=[g,v,a])[0],r=u[1],t=u[2];break;case 1:l=(c=[s,g,a])[0],r=c[1],t=c[2];break;case 2:l=(f=[a,g,v])[0],r=f[1],t=f[2];break;case 3:l=(h=[a,s,g])[0],r=h[1],t=h[2];break;case 4:l=(d=[v,a,g])[0],r=d[1],t=d[2];break;case 5:l=(p=[g,a,s])[0],r=p[1],t=p[2]}return[l,r,t,e.length>3?e[3]:1]},ce=function(){var e,t,n,r,o,i,a,s,l;return i=(a=ke(arguments))[0],n=a[1],e=a[2],o=Math.min(i,n,e),t=(Z=Math.max(i,n,e))-o,l=Z/255,0===Z?(r=Number.NaN,s=0):(s=t/Z,i===Z&&(r=(n-e)/t),n===Z&&(r=2+(e-i)/t),e===Z&&(r=4+(i-n)/t),(r*=60)<0&&(r+=360)),[r,s,l]},S.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["hsv"]),(function(){}))},d.hsv=D,r.prototype.hsv=function(){return ce(this._rgb)},te=function(e){return"number"===Te(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},pe=function(){var e;return((e=ke(arguments))[0]<<16)+(e[1]<<8)+e[2]},S.num=function(e){return new r(e,"num")},r.prototype.num=function(e){return null==e&&(e="rgb"),pe(this._rgb,e)},d.num=te,f.push({p:1,test:function(e){if(1===arguments.length&&"number"===Te(e)&&e>=0&&e<=16777215)return"num"}}),A=function(){var e,t,n,r,o,i,a,s,l,u,c,f,h,d,p,m,v,g,y,b;if(s=(n=ke(arguments))[0],o=n[1],t=n[2],a=a/100*255,e=255*(o/=100),0===o)f=a=r=t;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),c=(u=t*(1-o))+e*(1-(i=(s/=60)-(l=I(s)))),y=u+e*i,b=u+e,l){case 0:f=(h=[b,y,u])[0],a=h[1],r=h[2];break;case 1:f=(d=[c,b,u])[0],a=d[1],r=d[2];break;case 2:f=(p=[u,b,y])[0],a=p[1],r=p[2];break;case 3:f=(m=[u,c,b])[0],a=m[1],r=m[2];break;case 4:f=(v=[y,u,b])[0],a=v[1],r=v[2];break;case 5:f=(g=[b,u,c])[0],a=g[1],r=g[2]}return[f,a,r,n.length>3?n[3]:1]},ae=function(){var e,t,n,r,o,i,a,s,l;return s=(l=ke(arguments))[0],o=l[1],t=l[2],a=Math.min(s,o,t),n=100*(r=(Z=Math.max(s,o,t))-a)/255,e=a/(255-r)*100,0===r?i=Number.NaN:(s===Z&&(i=(o-t)/r),o===Z&&(i=2+(t-s)/r),t===Z&&(i=4+(s-o)/r),(i*=60)<0&&(i+=360)),[i,n,e]},S.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["hcg"]),(function(){}))},d.hcg=A,r.prototype.hcg=function(){return ae(this._rgb)},x=function(e){var t,n,r,o,i,a,s,l;if(e=e.toLowerCase(),null!=S.colors&&S.colors[e])return R(S.colors[e]);if(i=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=i.slice(1,4),o=a=0;a<=2;o=++a)s[o]=+s[o];s[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=i.slice(1,5),o=l=0;l<=3;o=++l)s[o]=+s[o];else if(i=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=i.slice(1,4),o=t=0;t<=2;o=++t)s[o]=be(2.55*s[o]);s[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=i.slice(1,5),o=n=0;n<=2;o=++n)s[o]=be(2.55*s[o]);s[3]=+s[3]}else(i=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=i.slice(1,4))[1]*=.01,r[2]*=.01,(s=j(r))[3]=1):(i=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=i.slice(1,4))[1]*=.01,r[2]*=.01,(s=j(r))[3]=+i[4]);return s},ie=function(e){var t;return"rgb"===(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(be).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(be).join(",")+","+e[3]+")":void 0},ye=function(e){return be(100*e)/100},N=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=ye(e[0]||0),e[1]=ye(100*e[1])+"%",e[2]=ye(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},d.css=function(e){return x(e)},S.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["css"]),(function(){}))},r.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?ie(this._rgb):"hsl"===e.slice(0,3)?N(this.hsl(),this.alpha()):void 0},d.named=function(e){return R(xe[e])},f.push({p:5,test:function(e){if(1===arguments.length&&null!=xe[e])return"named"}}),r.prototype.name=function(e){var t,n;for(n in arguments.length&&(xe[e]&&(this._rgb=R(xe[e])),this._rgb[3]=1),t=this.hex("rgb"),xe)if(t===xe[n])return n;return t},q=function(){var e,t,n,r;return n=(r=ke(arguments))[0],e=r[1],t=r[2],[n,k(t*=o)*e,we(t)*e]},$=function(){var e,t,n,r,o,i,a,s,l;return a=(n=ke(arguments))[0],o=n[1],i=n[2],e=(s=q(a,o,i))[0],t=s[1],r=s[2],[(l=W(e,t,r))[0],l[1],r=l[2],n.length>3?n[3]:1]},G=function(){var e,t,n,r,o,i;return o=(i=ke(arguments))[0],e=i[1],t=i[2],n=Se(e*e+t*t),r=(v(t,e)*l+360)%360,0===be(1e4*n)&&(r=Number.NaN),[o,n,r]},he=function(){var e,t,n,r,o,i,a;return o=(i=ke(arguments))[0],n=i[1],t=i[2],r=(a=fe(o,n,t))[0],e=a[1],t=a[2],G(r,e,t)},S.lch=function(){var e;return e=ke(arguments),new r(e,"lch")},S.hcl=function(){var e;return e=ke(arguments),new r(e,"hcl")},d.lch=$,d.hcl=function(){var e,t,n,r;return t=(r=ke(arguments))[0],e=r[1],n=r[2],$([n,e,t])},r.prototype.lch=function(){return he(this._rgb)},r.prototype.hcl=function(){return he(this._rgb).reverse()},oe=function(e){var t,n,r,o,i,a;return null==e&&(e="rgb"),i=(a=ke(arguments))[0],r=a[1],t=a[2],r/=255,t/=255,[(1-(i/=255)-(o=1-Math.max(i,Math.max(r,t))))*(n=o<1?1/(1-o):0),(1-r-o)*n,(1-t-o)*n,o]},T=function(){var e,t,n,r,o,i;return n=(t=ke(arguments))[0],o=t[1],i=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),o>=1?0:255*(1-o)*(1-r),i>=1?0:255*(1-i)*(1-r),e]},d.cmyk=function(){return T(ke(arguments))},S.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["cmyk"]),(function(){}))},r.prototype.cmyk=function(){return oe(this._rgb)},d.gl=function(){var e,t,n,r,o;for(r=function(){var e,n;for(t in n=[],e=ke(arguments))o=e[t],n.push(o);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},S.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["gl"]),(function(){}))},r.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},de=function(e,t,n){var r;return e=(r=ke(arguments))[0],t=r[1],n=r[2],.2126*(e=Q(e))+.7152*(t=Q(t))+.0722*(n=Q(n))},Q=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},V=function(e,t,n,o){var i,a;return i=e._rgb,a=t._rgb,new r(i[0]+n*(a[0]-i[0]),i[1]+n*(a[1]-i[1]),i[2]+n*(a[2]-i[2]),o)},p.push(["rgb",V]),r.prototype.luminance=function(e,t){var n,r,o,i,a;return null==t&&(t="rgb"),arguments.length?(i=this._rgb,0===e?i=[0,0,0,this._rgb[3]]:1===e?i=[255,255,255,this[3]]:(n=de(this._rgb),r=1e-7,o=20,a=function(n,i){var s,l;return s=(l=n.interpolate(i,.5,t)).luminance(),Math.abs(e-s)<r||!o--?l:s>e?a(n,l):a(l,i)},i=n>e?a(S("black"),this).rgba():a(this,S("white")).rgba()),S(i).alpha(this.alpha())):de(this._rgb)},Ee=function(e){var t,n,r,o;return(o=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*Y(n),t=o<20?0:.8274096064007395*(t=o-10)-254.76935184120902+115.67994401066147*Y(t)):(r=351.97690566805693+.114206453784165*(r=o-55)-40.25366309332127*Y(r),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*Y(n),t=255),[r,n,t]},me=function(){var e,t,n,r,o,i,a,s;for(o=(i=ke(arguments))[0],i[1],e=i[2],r=1e3,n=4e4,t=.4;n-r>t;)(a=Ee(s=.5*(n+r)))[2]/a[0]>=e/o?n=s:r=s;return be(s)},S.temperature=S.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["temperature"]),(function(){}))},d.temperature=d.kelvin=d.K=Ee,r.prototype.temperature=function(){return me(this._rgb)},r.prototype.kelvin=r.prototype.temperature,S.contrast=function(e,t){var n,o,i,a;return"string"!==(i=Te(e))&&"number"!==i||(e=new r(e)),"string"!==(a=Te(t))&&"number"!==a||(t=new r(t)),(n=e.luminance())>(o=t.luminance())?(n+.05)/(o+.05):(o+.05)/(n+.05)},S.distance=function(e,t,n){var o,i,a,s,l,u,c;for(i in null==n&&(n="lab"),"string"!==(l=Te(e))&&"number"!==l||(e=new r(e)),"string"!==(u=Te(t))&&"number"!==u||(t=new r(t)),a=e.get(n),s=t.get(n),c=0,a)c+=(o=(a[i]||0)-(s[i]||0))*o;return Math.sqrt(c)},S.deltaE=function(e,t,n,o){var i,s,l,u,c,f,h,d,p,g,y,b,_,w,S,E,T,x,C,O,P,I,A,R;for(null==n&&(n=1),null==o&&(o=1),"string"!==(S=Te(e))&&"number"!==S||(e=new r(e)),"string"!==(E=Te(t))&&"number"!==E||(t=new r(t)),i=(T=e.lab())[0],l=T[1],c=T[2],s=(x=t.lab())[0],u=x[1],f=x[2],h=Se(l*l+c*c),d=Se(u*u+f*f),O=i<16?.511:.040975*i/(1+.01765*i),C=.0638*h/(1+.0131*h)+.638,w=h<1e-6?0:180*v(c,l)/a;w<0;)w+=360;for(;w>=360;)w-=360;return P=w>=164&&w<=345?.56+m(.2*k(a*(w+168)/180)):.36+m(.4*k(a*(w+35)/180)),_=Se((p=h*h*h*h)/(p+1900)),Se((I=(i-s)/(n*O))*I+(A=(b=h-d)/(o*C))*A+((g=l-u)*g+(y=c-f)*y-b*b)/((R=C*(_*P+1-_))*R))},r.prototype.get=function(e){var t,n,r,o,i;return this,r=(o=e.split("."))[0],t=o[1],i=this[r](),t?(n=r.indexOf(t))>-1?i[n]:console.warn("unknown channel "+t+" in mode "+r):i},r.prototype.set=function(e,t){var n,r,o,i,a;if(this,o=(i=e.split("."))[0],n=i[1])if(a=this[o](),(r=o.indexOf(n))>-1)if("string"===Te(t))switch(t.charAt(0)){case"+":case"-":a[r]+=+t;break;case"*":a[r]*=+t.substr(1);break;case"/":a[r]/=+t.substr(1);break;default:a[r]=+t}else a[r]=t;else console.warn("unknown channel "+n+" in mode "+o);else a=t;return S(a,o).alpha(this.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(e){return arguments.length?S.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},r.prototype.darken=function(e){var t;return null==e&&(e=1),this,(t=this.lab())[0]-=i.Kn*e,S.lab(t).alpha(this.alpha())},r.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(e){var t;return null==e&&(e=1),this,(t=this.lch())[1]+=e*i.Kn,t[1]<0&&(t[1]=0),S.lch(t).alpha(this.alpha())},r.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},r.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),S(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},C=function(e,t){return e>t?t:e},K=function(e,t){return e>t?e:t},_e=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},w=function(e,t){return 255*(1-(1-t/255)/(e/255))},O=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(y=function(e,t,n){if(!y[n])throw"unknown blend mode "+n;return y[n](e,t)}).normal=(b=function(e){return function(t,n){var r,o;return r=S(n).rgb(),o=S(t).rgb(),S(e(r,o),"rgb")}})((P=function(e){return function(t,n){var r,o,i;for(i=[],r=o=0;o<=3;r=++o)i[r]=e(t[r],n[r]);return i}})((function(e,t){return e}))),y.multiply=b(P(ee)),y.screen=b(P(_e)),y.overlay=b(P(ne)),y.darken=b(P(C)),y.lighten=b(P(K)),y.dodge=b(P(O)),y.burn=b(P(w)),S.blend=y,S.analyze=function(e){var t,n,r,o;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(o=e[n])||isNaN(o)||(r.values.push(o),r.sum+=o,o<r.min&&(r.min=o),o>r.max&&(r.max=o),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return S.limits(r,e,t)},r},S.scale=function(e,t){var n,r,o,i,a,s,l,u,c,f,h,d,p,m,v,g,y,b,_,w,E;return c="rgb",f=S("#ccc"),m=0,!1,a=[0,1],p=[],d=[0,0],n=!1,o=[],h=!1,u=0,l=1,i=!1,r={},v=!0,s=1,w=function(e){var t,n,r,i,a,s;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Te(e)&&null!=S.brewer&&(e=S.brewer[e]||S.brewer[e.toLowerCase()]||e),"array"===Te(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,i=(e=e.slice(0)).length-1;0<=i?r<=i:r>=i;t=0<=i?++r:--r)n=e[t],"string"===Te(n)&&(e[t]=S(n));for(p.length=0,t=s=0,a=e.length-1;0<=a?s<=a:s>=a;t=0<=a?++s:--s)p.push(t/(e.length-1))}return _(),o=e},y=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},E=function(e){return e},function(e){var t,r,o,i,a;return a=e,n.length>2&&(i=n.length-1,t=y(e),o=n[0]+(n[1]-n[0])*(0+.5*m),r=n[i-1]+(n[i]-n[i-1])*(1-.5*m),a=u+(n[t]+.5*(n[t+1]-n[t])-o)/(r-o)*(l-u)),a},b=function(e,t){var i,a,h,m,g,b,_;if(null==t&&(t=!1),isNaN(e)||null===e)return f;if(_=t?e:n&&n.length>2?y(e)/(n.length-2):l!==u?(e-u)/(l-u):1,t||(_=E(_)),1!==s&&(_=re(_,s)),_=d[0]+_*(1-d[0]-d[1]),_=Math.min(1,Math.max(0,_)),h=Math.floor(1e4*_),v&&r[h])i=r[h];else{if("array"===Te(o))for(a=m=0,b=p.length-1;0<=b?m<=b:m>=b;a=0<=b?++m:--m){if(_<=(g=p[a])){i=o[a];break}if(_>=g&&a===p.length-1){i=o[a];break}if(_>g&&_<p[a+1]){_=(_-g)/(p[a+1]-g),i=S.interpolate(o[a],o[a+1],_,c);break}}else"function"===Te(o)&&(i=o(_));v&&(r[h]=i)}return i},_=function(){return r={}},w(e),(g=function(e){var t;return t=S(b(e)),h&&t[h]?t[h]():t}).classes=function(e){var t;return null!=e?("array"===Te(e)?(n=e,a=[e[0],e[e.length-1]]):(t=S.analyze(a),n=0===e?[t.min,t.max]:S.limits(t,"e",e)),g):n},g.domain=function(e){var t,n,r,i,s,c,f;if(!arguments.length)return a;if(u=e[0],l=e[e.length-1],p=[],r=o.length,e.length===r&&u!==l)for(s=0,i=e.length;s<i;s++)n=e[s],p.push((n-u)/(l-u));else for(t=f=0,c=r-1;0<=c?f<=c:f>=c;t=0<=c?++f:--f)p.push(t/(r-1));return a=[u,l],g},g.mode=function(e){return arguments.length?(c=e,_(),g):c},g.range=function(e,t){return w(e),g},g.out=function(e){return h=e,g},g.spread=function(e){return arguments.length?(m=e,g):m},g.correctLightness=function(e){return null==e&&(e=!0),i=e,_(),E=i?function(e){var t,n,r,o,i,a,s,l,u;for(t=b(0,!0).lab()[0],n=b(1,!0).lab()[0],s=t>n,r=b(e,!0).lab()[0],o=r-(i=t+(n-t)*e),l=0,u=1,a=20;Math.abs(o)>.01&&a-- >0;)s&&(o*=-1),o<0?(l=e,e+=.5*(u-e)):(u=e,e+=.5*(l-e)),r=b(e,!0).lab()[0],o=r-i;return e}:function(e){return e},g},g.padding=function(e){return null!=e?("number"===Te(e)&&(e=[e,e]),d=e,g):d},g.colors=function(t,r){var i,s,l,u,c,f,h,d;if(arguments.length<2&&(r="hex"),c=[],0===arguments.length)c=o.slice(0);else if(1===t)c=[g(.5)];else if(t>1)s=a[0],i=a[1]-s,c=function(){f=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)f.push(e);return f}.apply(this).map((function(e){return g(s+e/(t-1)*i)}));else{if(e=[],h=[],n&&n.length>2)for(l=d=1,u=n.length;1<=u?d<u:d>u;l=1<=u?++d:--d)h.push(.5*(n[l-1]+n[l]));else h=a;c=h.map((function(e){return g(e)}))}return S[r]&&(c=c.map((function(e){return e[r]()}))),c},g.cache=function(e){return null!=e?(v=e,g):v},g.gamma=function(e){return null!=e?(s=e,g):s},g.nodata=function(e){return null!=e?(f=S(e),g):f},g},null==S.scales&&(S.scales={}),S.scales.cool=function(){return S.scale([S.hsl(180,1,.9),S.hsl(250,.7,.4)])},S.scales.hot=function(){return S.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},S.analyze=function(e,t,n){var r,o,i,a,s,l;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},l=function(e,o){if(n(e,o))return null!=t&&"function"===Te(t)?r(t(e)):null!=t&&"string"===Te(t)||"number"===Te(t)?r(e[t]):r(e)},"array"===Te(e))for(a=0,i=e.length;a<i;a++)l(e[a]);else for(o in e)l(e[o],o);return s.domain=[s.min,s.max],s.limits=function(e,t){return S.limits(s,e,t)},s},S.limits=function(e,t,n){var r,o,i,a,s,l,u,c,f,h,d,p,v,g,y,b,_,w,E,T,k,x,C,O,P,A,R,M,N,j,D,L,F,z,U,B,V,G,W,H,q,$,K,X,Q,J,ee,te,ne,oe,ie,ae,se,le,ue;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Te(e)&&(e=S.analyze(e)),P=e.min,Z=e.max,e.sum,le=e.values.sort((function(e,t){return e-t})),1===n)return[P,Z];if(C=[],"c"===t.substr(0,1)&&(C.push(P),C.push(Z)),"e"===t.substr(0,1)){for(C.push(P),T=D=1,U=n-1;1<=U?D<=U:D>=U;T=1<=U?++D:--D)C.push(P+T/n*(Z-P));C.push(Z)}else if("l"===t.substr(0,1)){if(P<=0)throw"Logarithmic scales are only possible for values > 0";for(A=Math.LOG10E*Y(P),O=Math.LOG10E*Y(Z),C.push(P),T=ue=1,B=n-1;1<=B?ue<=B:ue>=B;T=1<=B?++ue:--ue)C.push(re(10,A+T/n*(O-A)));C.push(Z)}else if("q"===t.substr(0,1)){for(C.push(P),T=r=1,$=n-1;1<=$?r<=$:r>=$;T=1<=$?++r:--r)L=(le.length-1)*T/n,(F=I(L))===L?C.push(le[F]):(z=L-F,C.push(le[F]*(1-z)+le[F+1]*z));C.push(Z)}else if("k"===t.substr(0,1)){for(M=le.length,g=new Array(M),w=new Array(n),oe=!0,N=0,b=null,(b=[]).push(P),T=o=1,K=n-1;1<=K?o<=K:o>=K;T=1<=K?++o:--o)b.push(P+T/n*(Z-P));for(b.push(Z);oe;){for(k=i=0,X=n-1;0<=X?i<=X:i>=X;k=0<=X?++i:--i)w[k]=0;for(T=a=0,Q=M-1;0<=Q?a<=Q:a>=Q;T=0<=Q?++a:--a){for(se=le[T],R=Number.MAX_VALUE,k=s=0,J=n-1;0<=J?s<=J:s>=J;k=0<=J?++s:--s)(E=m(b[k]-se))<R&&(R=E,y=k);w[y]++,g[T]=y}for(j=new Array(n),k=l=0,ee=n-1;0<=ee?l<=ee:l>=ee;k=0<=ee?++l:--l)j[k]=null;for(T=u=0,te=M-1;0<=te?u<=te:u>=te;T=0<=te?++u:--u)null===j[_=g[T]]?j[_]=le[T]:j[_]+=le[T];for(k=c=0,ne=n-1;0<=ne?c<=ne:c>=ne;k=0<=ne?++c:--c)j[k]*=1/w[k];for(oe=!1,k=f=0,V=n-1;0<=V?f<=V:f>=V;k=0<=V?++f:--f)if(j[k]!==b[T]){oe=!0;break}b=j,++N>200&&(oe=!1)}for(x={},k=h=0,G=n-1;0<=G?h<=G:h>=G;k=0<=G?++h:--h)x[k]=[];for(T=d=0,W=M-1;0<=W?d<=W:d>=W;T=0<=W?++d:--d)x[_=g[T]].push(le[T]);for(ie=[],k=p=0,H=n-1;0<=H?p<=H:p>=H;k=0<=H?++p:--p)ie.push(x[k][0]),ie.push(x[k][x[k].length-1]);for(ie=ie.sort((function(e,t){return e-t})),C.push(ie[0]),T=v=1,q=ie.length-1;v<=q;T=v+=2)ae=ie[T],isNaN(ae)||-1!==C.indexOf(ae)||C.push(ae)}return C},M=function(e,t,n){var r,o,i,a;return e=(r=ke(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?i=1-((o=(1-t)/3)+(a=(1+t*k(u*e)/k(s-u*e))/3)):e<2/3?o=1-((a=(1-t)/3)+(i=(1+t*k(u*(e-=1/3))/k(s-u*e))/3)):a=1-((i=(1-t)/3)+(o=(1+t*k(u*(e-=2/3))/k(s-u*e))/3)),[255*(a=X(n*a*3)),255*(i=X(n*i*3)),255*(o=X(n*o*3)),r.length>3?r[3]:1]},le=function(){var e,t,n,r,o,i,a;return o=(i=ke(arguments))[0],t=i[1],e=i[2],u=2*Math.PI,o/=255,t/=255,e/=255,0===(a=1-Math.min(o,t,e)/(r=(o+t+e)/3))?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=u-n),n/=u),[360*n,a,r]},S.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Pe.call(arguments).concat(["hsi"]),(function(){}))},d.hsi=M,r.prototype.hsi=function(){return le(this._rgb)},F=function(e,t,n,r){var o,i,a,s,l,u,c,f,h,d;return"hsl"===r?(h=e.hsl(),d=t.hsl()):"hsv"===r?(h=e.hsv(),d=t.hsv()):"hcg"===r?(h=e.hcg(),d=t.hcg()):"hsi"===r?(h=e.hsi(),d=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",h=e.hcl(),d=t.hcl()),"h"===r.substr(0,1)&&(i=h[0],c=h[1],s=h[2],a=d[0],f=d[1],l=d[2]),isNaN(i)||isNaN(a)?isNaN(i)?isNaN(a)?o=Number.NaN:(o=a,1!==s&&0!==s||"hsv"===r||(u=f)):(o=i,1!==l&&0!==l||"hsv"===r||(u=c)):o=i+n*(a>i&&a-i>180?a-(i+360):a<i&&i-a>180?a+360-i:a-i),null==u&&(u=c+n*(f-c)),S[r](o,u,s+n*(l-s))},B=function(e,t,n,r){var o,i;return o=e.num(),i=t.num(),S.num(o+(i-o)*n,"num")},(p=p.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)J=n[t],r.push([J,F]);return r}())).push(["num",B]),z=function(e,t,n,o){var i,a;return i=e.lab(),a=t.lab(),new r(i[0]+n*(a[0]-i[0]),i[1]+n*(a[1]-i[1]),i[2]+n*(a[2]-i[2]),o)},p.push(["lab",z])}).call(this)}).call(this,n(35)(e))},function(e,t,n){n(76),e.exports=n(151)},function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(77).enable(),window.Promise=n(79)),n(80),Object.assign=n(39)},function(e,t,n){"use strict";var r=n(50),o=[ReferenceError,TypeError,RangeError],i=!1;function a(){i=!1,r._47=null,r._71=null}function s(e,t){return t.some((function(t){return e instanceof t}))}t.disable=a,t.enable=function(e){e=e||{},i&&a();i=!0;var t=0,n=0,l={};function u(t){(e.allRejections||s(l[t].error,e.whitelist||o))&&(l[t].displayId=n++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach((function(e){console.warn("  "+e)}))}(l[t].displayId,l[t].error)))}r._47=function(t){2===t._83&&l[t._56]&&(l[t._56].logged?function(t){l[t].logged&&(e.onHandled?e.onHandled(l[t].displayId,l[t].error):l[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[t].displayId+".")))}(t._56):clearTimeout(l[t._56].timeout),delete l[t._56])},r._71=function(e,n){0===e._75&&(e._56=t++,l[e._56]={displayId:null,error:n,timeout:setTimeout(u.bind(null,e._56),s(n,o)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],i=0;function a(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>1024){for(var t=0,n=o.length-i;t<n;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var s,l,u,c=void 0!==t?t:self,f=c.MutationObserver||c.WebKitMutationObserver;function h(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof f?(s=1,l=new f(a),u=document.createTextNode(""),l.observe(u,{characterData:!0}),r=function(){s=-s,u.data=s}):r=h(a),n.requestFlush=r,n.makeRequestCallFromTimer=h}).call(this,n(22))},function(e,t,n){"use strict";var r=n(50);e.exports=r;var o=c(!0),i=c(!1),a=c(null),s=c(void 0),l=c(0),u=c("");function c(e){var t=new r(r._44);return t._83=1,t._18=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return o;if(!1===e)return i;if(0===e)return l;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r((function(t,n){n(e)}))}return c(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);var o=t.length;function i(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?i(a,s._18):(2===s._83&&n(s._18),void s.then((function(e){i(a,e)}),n))}var l=s.then;if("function"==typeof l)return void new r(l.bind(s)).then((function(e){i(a,e)}),n)}t[a]=s,0==--o&&e(t)}for(var a=0;a<t.length;a++)i(a,t[a])}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){e.forEach((function(e){r.resolve(e).then(t,n)}))}))},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};p.prototype.append=function(e,t){e=f(e),t=h(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=h(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];S.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=_,e.Response=S,e.fetch=function(e,t){return new Promise((function(n,o){var i=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new S(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&r&&s(e))this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=v(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r,o=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),u.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function S(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(39),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,p=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var E=S.prototype=new w;E.constructor=S,r(E,_.prototype),E.isPureReactComponent=!0;var T={current:null},k=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:T.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var P=/\/+/g,I=[];function A(e,t,n,r){if(I.length){var o=I.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return r(o,t,""===n?"."+N(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+N(s=t[u],u);l+=e(s,c,r,o)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+N(s,u++),r,o);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(P,"$&/")+"/"),M(e,D,t=A(t,i,r,o)),R(t)}var F={current:null};function z(){var e=F.current;if(null===e)throw Error(g(321));return e}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,j,t=A(null,null,t,n)),R(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw Error(g(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=u,t.PureComponent=S,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return z().useCallback(e,t)},t.useContext=function(e,t){return z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return z().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return z().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return z().useMemo(e,t)},t.useReducer=function(e,t,n){return z().useReducer(e,t,n)},t.useRef=function(e){return z().useRef(e)},t.useState=function(e){return z().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(39),i=n(83);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,f=null,h={onError:function(e){l=!0,u=e}};function d(e,t,n,r,o,i,a,c,f){l=!1,u=null,s.apply(h,arguments)}var p=null,m=null,v=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,o,i,s,h,p){if(d.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!S[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in S[n]=t,n=t.eventTypes){var o=void 0,i=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&w(u[o],s,l);o=!0}else i.registrationName?(w(i.registrationName,s,l),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function w(e,t,n){if(T[e])throw Error(a(100,e));T[e]=t,k[e]=t.eventTypes[n].dependencies}var S=[],E={},T={},k={};function x(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&_()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),O=null,P=null,I=null;function A(e){if(e=m(e)){if("function"!=typeof O)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),O(e.stateNode,e.type,t))}}function R(e){P?I?I.push(e):I=[e]:P=e}function M(){if(P){var e=P,t=I;if(I=P=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function N(e,t){return e(t)}function j(e,t,n,r,o){return e(t,n,r,o)}function D(){}var L=N,F=!1,z=!1;function U(){null===P&&null===I||(D(),M())}function B(e,t,n){if(z)return e(t,n);z=!0;try{return L(e,t,n)}finally{z=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,W={},H={};function q(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,X);$[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,X);$[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,X);$[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var o=$.hasOwnProperty(t)?$[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!G.call(H,e)||!G.call(W,e)&&(V.test(e)?H[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,oe=Z?Symbol.for("react.profiler"):60114,ie=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ue=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case ie:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case de:return ve(e.render);case he:if(e=1===e._status?e._result:null)return ve(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=ve(e.type);n=null,r&&(n=ve(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(J,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function ke(e,t){Te(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Oe(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Pe(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Re(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ne="http://www.w3.org/1999/xhtml",je="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,ze=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==je||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},Ge={},We={};function He(e){if(Ge[e])return Ge[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return Ge[e]=n[t];return e}C&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var qe=He("animationend"),$e=He("animationiteration"),Ke=He("animationstart"),Xe=He("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return tt(o),e;if(i===r)return tt(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var it=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(it=rt(it,e)),e=it,it=null,e){if(ot(e,at),it)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ht(e,t,n,r){if(ct.length){var o=ct.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Cn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=lt(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<S.length;l++){var u=S[l];u&&(u=u.extractEvents(r,t,i,o,a))&&(s=rt(s,u))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}n.set(e,null)}}var mt,vt,gt,yt=!1,bt=[],_t=null,wt=null,St=null,Et=new Map,Tt=new Map,kt=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ot(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function Pt(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=Ot(t,n,r,o,i),null!==t&&(null!==(t=On(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function At(e){var t=Cn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=On(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Rt(e)&&n.delete(t)}function Nt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=On(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&Rt(_t)&&(_t=null),null!==wt&&Rt(wt)&&(wt=null),null!==St&&Rt(St)&&(St=null),Et.forEach(Mt),Tt.forEach(Mt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Nt)))}function Dt(e){function t(t){return jt(t,e)}if(0<bt.length){jt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&jt(_t,e),null!==wt&&jt(wt,e),null!==St&&jt(St,e),Et.forEach(t),Tt.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)At(n),null===n.blockedOn&&kt.shift()}var Lt={},Ft=new Map,zt=new Map,Ut=["abort","abort",qe,"animationEnd",$e,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},zt.set(r,t),Ft.set(r,i),Lt[o]=i}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Ut,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<Vt.length;Gt++)zt.set(Vt[Gt],0);var Wt=i.unstable_UserBlockingPriority,Ht=i.unstable_runWithPriority,qt=!0;function $t(e,t){Kt(t,e,!1)}function Kt(e,t,n){var r=zt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Yt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){F||D();var o=Qt,i=F;F=!0;try{j(o,e,t,n,r)}finally{(F=i)||U()}}function Yt(e,t,n,r){Ht(Wt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(qt)if(0<bt.length&&-1<xt.indexOf(e))e=Ot(null,e,t,n,r),bt.push(e);else{var o=Jt(e,t,n,r);if(null===o)Pt(e,r);else if(-1<xt.indexOf(e))e=Ot(o,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return _t=It(_t,e,t,n,r,o),!0;case"dragenter":return wt=It(wt,e,t,n,r,o),!0;case"mouseover":return St=It(St,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Et.set(i,It(Et.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Tt.set(i,It(Tt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){Pt(e,r),e=ht(e,r,null,t);try{B(dt,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=Cn(n=lt(r)))){var o=Ze(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=et(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=ht(e,r,n,t);try{B(dt,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ne;function ln(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function un(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function dn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,vn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,_n="function"==typeof clearTimeout?clearTimeout:void 0;function wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+En,kn="__reactEventHandlers$"+En,xn="__reactContainere$"+En;function Cn(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[Tn])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function On(e){return!(e=e[Tn]||e[xn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function In(e){return e[kn]||null}function An(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Rn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Mn(e,t,n){(t=Rn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Nn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=An(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Rn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){e&&e.dispatchConfig.registrationName&&jn(e._targetInst,null,e)}function Ln(e){ot(e,Nn)}var Fn=null,zn=null,Un=null;function Bn(){if(Un)return Un;var e,t,n=zn,r=n.length,o="value"in Fn?Fn.value:Fn.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Un=o.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Gn(){return!1}function Wn(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Gn,this.isPropagationStopped=Gn,this}function Hn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function qn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Hn,e.release=qn}o(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Gn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Wn);var Kn=Wn.extend({data:null}),Xn=Wn.extend({data:null}),Yn=[9,13,27,32],Qn=C&&"CompositionEvent"in window,Jn=null;C&&"documentMode"in document&&(Jn=document.documentMode);var Zn=C&&"TextEvent"in window&&!Jn,er=C&&(!Qn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ir(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var o;if(Qn)e:{switch(e){case"compositionstart":var i=nr.compositionStart;break e;case"compositionend":i=nr.compositionEnd;break e;case"compositionupdate":i=nr.compositionUpdate;break e}i=void 0}else ar?or(e,n)&&(i=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=nr.compositionStart);return i?(er&&"ko"!==n.locale&&(ar||i!==nr.compositionStart?i===nr.compositionEnd&&ar&&(o=Bn()):(zn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),i=Kn.getPooled(i,t,n,r),o?i.data=o:null!==(o=ir(n))&&(i.data=o),Ln(i),o=i):o=null,(e=Zn?function(e,t){switch(e){case"compositionend":return ir(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Qn&&or(e,t)?(e=Bn(),Un=zn=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(nr.beforeInput,t,n,r)).data=e,Ln(t)):t=null,null===o?t:null===t?o:[o,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Wn.getPooled(cr.change,e,t,n)).type="change",R(n),Ln(e),e}var hr=null,dr=null;function pr(e){st(e)}function mr(e){if(we(Pn(e)))return e}function vr(e,t){if("change"===e)return t}var gr=!1;function yr(){hr&&(hr.detachEvent("onpropertychange",br),dr=hr=null)}function br(e){if("value"===e.propertyName&&mr(dr))if(e=fr(dr,e,lt(e)),F)st(e);else{F=!0;try{N(pr,e)}finally{F=!1,U()}}}function _r(e,t,n){"focus"===e?(yr(),dr=n,(hr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(dr)}function Sr(e,t){if("click"===e)return mr(t)}function Er(e,t){if("input"===e||"change"===e)return mr(t)}C&&(gr=ut("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:cr,_isInputEventSupported:gr,extractEvents:function(e,t,n,r){var o=t?Pn(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=vr;else if(ur(o))if(gr)a=Er;else{a=wr;var s=_r}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Sr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Ce(o,"number",o.value)}},kr=Wn.extend({view:null,detail:null}),xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function Or(){return Cr}var Pr=0,Ir=0,Ar=!1,Rr=!1,Mr=kr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Or,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pr;return Pr=e.screenX,Ar?"mousemove"===e.type?e.screenX-t:0:(Ar=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ir;return Ir=e.screenY,Rr?"mousemove"===e.type?e.screenY-t:0:(Rr=!0,0)}}),Nr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Dr={eventTypes:jr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Cn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Mr,l=jr.mouseLeave,u=jr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Nr,l=jr.pointerLeave,u=jr.pointerEnter,c="pointer");if(e=null==a?i:Pn(a),i=null==t?i:Pn(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=i,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=s=r;e;e=An(e))a++;for(e=0,t=u;t;t=An(t))e++;for(;0<a-e;)s=An(s),a--;for(;0<e-a;)u=An(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=An(s),u=An(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=An(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=An(c);for(c=0;c<s.length;c++)jn(s[c],"bubbled",l);for(c=r.length;0<c--;)jn(r[c],"captured",n);return 0==(64&o)?[l]:[l,n]}};var Lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function zr(e,t){if(Lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Lr(e[n[r]],t[n[r]]))return!1;return!0}var Ur=C&&"documentMode"in document&&11>=document.documentMode,Br={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vr=null,Gr=null,Wr=null,Hr=!1;function qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hr||null==Vr||Vr!==cn(n)?null:("selectionStart"in(n=Vr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&zr(Wr,n)?null:(Wr=n,(e=Wn.getPooled(Br.select,Gr,e,t)).type="select",e.target=Vr,Ln(e),e))}var $r={eventTypes:Br,extractEvents:function(e,t,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=Je(o),i=k.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?Pn(t):window,e){case"focus":(ur(o)||"true"===o.contentEditable)&&(Vr=o,Gr=t,Wr=null);break;case"blur":Wr=Gr=Vr=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hr=!1,qr(n,r);case"selectionchange":if(Ur)break;case"keydown":case"keyup":return qr(n,r)}return null}},Kr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yr=kr.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eo=kr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Or,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),to=Mr.extend({dataTransfer:null}),no=kr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Or}),ro=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),io={eventTypes:Lt,extractEvents:function(e,t,n,r){var o=Ft.get(e);if(!o)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=eo;break;case"blur":case"focus":e=Yr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=to;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=no;break;case qe:case $e:case Ke:e=Kr;break;case Xe:e=ro;break;case"scroll":e=kr;break;case"wheel":e=oo;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Nr;break;default:e=Wn}return Ln(t=e.getPooled(o,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=In,m=On,v=Pn,x({SimpleEventPlugin:io,EnterLeaveEventPlugin:Dr,ChangeEventPlugin:Tr,SelectEventPlugin:$r,BeforeInputEventPlugin:sr});var ao=[],so=-1;function lo(e){0>so||(e.current=ao[so],ao[so]=null,so--)}function uo(e,t){so++,ao[so]=e.current,e.current=t}var co={},fo={current:co},ho={current:!1},po=co;function mo(e,t){var n=e.type.contextTypes;if(!n)return co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vo(e){return null!=(e=e.childContextTypes)}function go(){lo(ho),lo(fo)}function yo(e,t,n){if(fo.current!==co)throw Error(a(168));uo(fo,t),uo(ho,n)}function bo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,ve(t)||"Unknown",i));return o({},n,{},r)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,po=fo.current,uo(fo,e),uo(ho,ho.current),!0}function wo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bo(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,lo(ho),lo(fo),uo(fo,e)):lo(ho),uo(ho,n)}var So=i.unstable_runWithPriority,Eo=i.unstable_scheduleCallback,To=i.unstable_cancelCallback,ko=i.unstable_requestPaint,xo=i.unstable_now,Co=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,Po=i.unstable_UserBlockingPriority,Io=i.unstable_NormalPriority,Ao=i.unstable_LowPriority,Ro=i.unstable_IdlePriority,Mo={},No=i.unstable_shouldYield,jo=void 0!==ko?ko:function(){},Do=null,Lo=null,Fo=!1,zo=xo(),Uo=1e4>zo?xo:function(){return xo()-zo};function Bo(){switch(Co()){case Oo:return 99;case Po:return 98;case Io:return 97;case Ao:return 96;case Ro:return 95;default:throw Error(a(332))}}function Vo(e){switch(e){case 99:return Oo;case 98:return Po;case 97:return Io;case 96:return Ao;case 95:return Ro;default:throw Error(a(332))}}function Go(e,t){return e=Vo(e),So(e,t)}function Wo(e,t,n){return e=Vo(e),Eo(e,t,n)}function Ho(e){return null===Do?(Do=[e],Lo=Eo(Oo,$o)):Do.push(e),Mo}function qo(){if(null!==Lo){var e=Lo;Lo=null,To(e)}$o()}function $o(){if(!Fo&&null!==Do){Fo=!0;var e=0;try{var t=Do;Go(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Do=null}catch(t){throw null!==Do&&(Do=Do.slice(e+1)),Eo(Oo,qo),t}finally{Fo=!1}}}function Ko(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yo={current:null},Qo=null,Jo=null,Zo=null;function ei(){Zo=Jo=Qo=null}function ti(e){var t=Yo.current;lo(Yo),e.type._context._currentValue=t}function ni(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ri(e,t){Qo=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ia=!0),e.firstContext=null)}function oi(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Qo)throw Error(a(308));Jo=t,Qo.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var ii=!1;function ai(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function si(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function li(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ui(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ci(e,t){var n=e.alternate;null!==n&&si(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function fi(e,t,n,r){var i=e.updateQueue;ii=!1;var a=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,i.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=i.baseState,c=0,f=null,h=null,d=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=m,f=u):d=d.next=m,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),il(s,p.suspenseConfig);e:{var v=e,g=p;switch(s=t,m=n,g.tag){case 1:if("function"==typeof(v=g.payload)){u=v.call(m,u,s);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(s="function"==typeof(v=g.payload)?v.call(m,u,s):v))break e;u=o({},u,s);break e;case 2:ii=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=i.shared.pending))break;p=a.next=s.next,s.next=l,i.baseQueue=a=s,i.shared.pending=null}}null===d?f=u:d.next=h,i.baseState=f,i.baseQueue=d,al(c),e.expirationTime=c,e.memoizedState=u}}function hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!=typeof r)throw Error(a(191,r));r.call(o)}}}var di=Y.ReactCurrentBatchConfig,pi=(new r.Component).refs;function mi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var vi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),o=di.suspense;(o=li(r=$s(r,e,o),o)).payload=t,null!=n&&(o.callback=n),ui(e,o),Ks(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),o=di.suspense;(o=li(r=$s(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),ui(e,o),Ks(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),r=di.suspense;(r=li(n=$s(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ui(e,r),Ks(e,n)}};function gi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!zr(n,r)||!zr(o,i))}function yi(e,t,n){var r=!1,o=co,i=t.contextType;return"object"==typeof i&&null!==i?i=oi(i):(o=vo(t)?po:fo.current,i=(r=null!=(r=t.contextTypes))?mo(e,o):co),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function bi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function _i(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=pi,ai(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=oi(i):(i=vo(t)?po:fo.current,o.context=mo(e,i)),fi(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(mi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&vi.enqueueReplaceState(o,o.state,null),fi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var wi=Array.isArray;function Si(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===pi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ei(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ti(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=xl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Si(e,t,n),r.return=e,r):((r=Cl(n.type,n.key,n.props,null,e.mode,r)).ref=Si(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Il(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Ol(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Pl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Cl(t.type,t.key,t.props,null,e.mode,n)).ref=Si(e,null,t),n.return=e,n;case te:return(t=Il(t,e.mode,n)).return=e,t}if(wi(t)||me(t))return(t=Ol(t,e.mode,n,null)).return=e,t;Ei(e,t)}return null}function d(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?f(e,t,n.props.children,r,o):u(e,t,n,r):null;case te:return n.key===o?c(e,t,n,r):null}if(wi(n)||me(n))return null!==o?null:f(e,t,n,r,null);Ei(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,o,r.key):u(t,e,r,o);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(wi(r)||me(r))return f(t,e=e.get(n)||null,r,o,null);Ei(t,r)}return null}function m(o,a,s,l){for(var u=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=d(o,f,s[m],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(o,f),a=i(g,a,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(o,f),u;if(null===f){for(;m<s.length;m++)null!==(f=h(o,s[m],l))&&(a=i(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(o,f);m<s.length;m++)null!==(v=p(f,o,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=i(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(o,e)})),u}function v(o,s,l,u){var c=me(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=d(o,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,v),null===f?c=b:f.sibling=b,f=b,m=g}if(y.done)return n(o,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(o,y.value,u))&&(s=i(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(o,m);!y.done;v++,y=l.next())null!==(y=p(m,o,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=i(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(o,e)})),c}return function(e,r,i,l){var u="object"==typeof i&&null!==i&&i.type===ne&&null===i.key;u&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case ee:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(i.type===ne){n(e,u.sibling),(r=o(u,i.props.children)).return=e,e=r;break e}break;default:if(u.elementType===i.type){n(e,u.sibling),(r=o(u,i.props)).ref=Si(e,u,i),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}i.type===ne?((r=Ol(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Cl(i.type,i.key,i.props,null,e.mode,l)).ref=Si(e,r,i),l.return=e,e=l)}return s(e);case te:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Il(i,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Pl(i,e.mode,l)).return=e,e=r),s(e);if(wi(i))return m(e,r,i,l);if(me(i))return v(e,r,i,l);if(c&&Ei(e,i),void 0===i&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ki=Ti(!0),xi=Ti(!1),Ci={},Oi={current:Ci},Pi={current:Ci},Ii={current:Ci};function Ai(e){if(e===Ci)throw Error(a(174));return e}function Ri(e,t){switch(uo(Ii,t),uo(Pi,e),uo(Oi,Ci),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lo(Oi),uo(Oi,t)}function Mi(){lo(Oi),lo(Pi),lo(Ii)}function Ni(e){Ai(Ii.current);var t=Ai(Oi.current),n=Le(t,e.type);t!==n&&(uo(Pi,e),uo(Oi,n))}function ji(e){Pi.current===e&&(lo(Oi),lo(Pi))}var Di={current:0};function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fi(e,t){return{responder:e,props:t}}var zi=Y.ReactCurrentDispatcher,Ui=Y.ReactCurrentBatchConfig,Bi=0,Vi=null,Gi=null,Wi=null,Hi=!1;function qi(){throw Error(a(321))}function $i(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function Ki(e,t,n,r,o,i){if(Bi=i,Vi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,zi.current=null===e||null===e.memoizedState?ga:ya,e=n(r,o),t.expirationTime===Bi){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(a(301));i+=1,Wi=Gi=null,t.updateQueue=null,zi.current=ba,e=n(r,o)}while(t.expirationTime===Bi)}if(zi.current=va,t=null!==Gi&&null!==Gi.next,Bi=0,Wi=Gi=Vi=null,Hi=!1,t)throw Error(a(300));return e}function Xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wi?Vi.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function Yi(){if(null===Gi){var e=Vi.alternate;e=null!==e?e.memoizedState:null}else e=Gi.next;var t=null===Wi?Vi.memoizedState:Wi.next;if(null!==t)Wi=t,Gi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Gi=e).memoizedState,baseState:Gi.baseState,baseQueue:Gi.baseQueue,queue:Gi.queue,next:null},null===Wi?Vi.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function Qi(e,t){return"function"==typeof t?t(e):t}function Ji(e){var t=Yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Gi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var l=s=i=null,u=o;do{var c=u.expirationTime;if(c<Bi){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,i=r):l=l.next=f,c>Vi.expirationTime&&(Vi.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),il(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==o);null===l?i=r:l.next=s,Lr(r,t.memoizedState)||(Ia=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zi(e){var t=Yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Lr(i,t.memoizedState)||(Ia=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ea(e){var t=Xi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e}).dispatch=ma.bind(null,Vi,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Vi.updateQueue)?(t={lastEffect:null},Vi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Yi().memoizedState}function ra(e,t,n,r){var o=Xi();Vi.effectTag|=e,o.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function oa(e,t,n,r){var o=Yi();r=void 0===r?null:r;var i=void 0;if(null!==Gi){var a=Gi.memoizedState;if(i=a.destroy,null!==r&&$i(r,a.deps))return void ta(t,n,i,r)}Vi.effectTag|=e,o.memoizedState=ta(1|t,n,i,r)}function ia(e,t){return ra(516,4,e,t)}function aa(e,t){return oa(516,4,e,t)}function sa(e,t){return oa(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!=n?n.concat([e]):null,oa(4,2,la.bind(null,t,e),n)}function ca(){}function fa(e,t){return Xi().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function da(e,t){var n=Yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Bo();Go(98>r?98:r,(function(){e(!0)})),Go(97<r?97:r,(function(){var r=Ui.suspense;Ui.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ui.suspense=r}}))}function ma(e,t,n){var r=qs(),o=di.suspense;o={expirationTime:r=$s(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Vi||null!==i&&i===Vi)Hi=!0,o.expirationTime=Bi,Vi.expirationTime=Bi;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.eagerReducer=i,o.eagerState=s,Lr(s,a))return}catch(e){}Ks(e,r)}}var va={readContext:oi,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useResponder:qi,useDeferredValue:qi,useTransition:qi},ga={readContext:oi,useCallback:fa,useContext:oi,useEffect:ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Vi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xi().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fi,useDeferredValue:function(e,t){var n=ea(e),r=n[0],o=n[1];return ia((function(){var n=Ui.suspense;Ui.suspense=void 0===t?null:t;try{o(e)}finally{Ui.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:oi,useCallback:ha,useContext:oi,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:da,useReducer:Ji,useRef:na,useState:function(){return Ji(Qi)},useDebugValue:ca,useResponder:Fi,useDeferredValue:function(e,t){var n=Ji(Qi),r=n[0],o=n[1];return aa((function(){var n=Ui.suspense;Ui.suspense=void 0===t?null:t;try{o(e)}finally{Ui.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ji(Qi),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:oi,useCallback:ha,useContext:oi,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:da,useReducer:Zi,useRef:na,useState:function(){return Zi(Qi)},useDebugValue:ca,useResponder:Fi,useDeferredValue:function(e,t){var n=Zi(Qi),r=n[0],o=n[1];return aa((function(){var n=Ui.suspense;Ui.suspense=void 0===t?null:t;try{o(e)}finally{Ui.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zi(Qi),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},_a=null,wa=null,Sa=!1;function Ea(e,t){var n=Tl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ka(e){if(Sa){var t=wa;if(t){var n=t;if(!Ta(e,t)){if(!(t=wn(n.nextSibling))||!Ta(e,t))return e.effectTag=-1025&e.effectTag|2,Sa=!1,void(_a=e);Ea(_a,n)}_a=e,wa=wn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Sa=!1,_a=e}}function xa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Ca(e){if(e!==_a)return!1;if(!Sa)return xa(e),Sa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=wa;t;)Ea(e,t),t=wn(t.nextSibling);if(xa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){wa=wn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}wa=null}}else wa=_a?wn(e.stateNode.nextSibling):null;return!0}function Oa(){wa=_a=null,Sa=!1}var Pa=Y.ReactCurrentOwner,Ia=!1;function Aa(e,t,n,r){t.child=null===e?xi(t,null,n,r):ki(t,e.child,n,r)}function Ra(e,t,n,r,o){n=n.render;var i=t.ref;return ri(t,o),r=Ki(e,t,n,r,i,o),null===e||Ia?(t.effectTag|=1,Aa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ka(e,t,o))}function Ma(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||kl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Cl(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:zr)(o,r)&&e.ref===t.ref)?Ka(e,t,i):(t.effectTag|=1,(e=xl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,n,r,o,i){return null!==e&&zr(e.memoizedProps,r)&&e.ref===t.ref&&(Ia=!1,o<i)?(t.expirationTime=e.expirationTime,Ka(e,t,i)):Da(e,t,n,r,i)}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Da(e,t,n,r,o){var i=vo(n)?po:fo.current;return i=mo(t,i),ri(t,o),n=Ki(e,t,n,r,i,o),null===e||Ia?(t.effectTag|=1,Aa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ka(e,t,o))}function La(e,t,n,r,o){if(vo(n)){var i=!0;_o(t)}else i=!1;if(ri(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yi(t,n,r),_i(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=oi(u):u=mo(t,u=vo(n)?po:fo.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bi(t,a,r,u),ii=!1;var h=t.memoizedState;a.state=h,fi(t,r,a,o),l=t.memoizedState,s!==r||h!==l||ho.current||ii?("function"==typeof c&&(mi(t,n,c,r),l=t.memoizedState),(s=ii||gi(t,n,s,r,h,l,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,si(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xo(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=oi(u):u=mo(t,u=vo(n)?po:fo.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bi(t,a,r,u),ii=!1,l=t.memoizedState,a.state=l,fi(t,r,a,o),h=t.memoizedState,s!==r||l!==h||ho.current||ii?("function"==typeof c&&(mi(t,n,c,r),h=t.memoizedState),(c=ii||gi(t,n,s,r,l,h,u))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,i,o)}function Fa(e,t,n,r,o,i){ja(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&wo(t,n,!1),Ka(e,t,i);r=t.stateNode,Pa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,s,i)):Aa(e,t,s,i),t.memoizedState=r.state,o&&wo(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?yo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yo(0,t.context,!1),Ri(e,t.containerInfo)}var Ua,Ba,Va,Ga={dehydrated:null,retryTime:0};function Wa(e,t,n){var r,o=t.mode,i=t.pendingProps,a=Di.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),uo(Di,1&a),null===e){if(void 0!==i.fallback&&ka(t),s){if(s=i.fallback,(i=Ol(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Ol(s,o,n,null)).return=t,i.sibling=n,t.memoizedState=Ga,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=xi(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(i=i.fallback,(n=xl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=xl(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Ga,t.child=n,o}return n=ki(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=Ol(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Ol(s,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Ga,t.child=i,n}return t.memoizedState=null,t.child=ki(t,e,i.children,n)}function Ha(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ni(e.return,t)}function qa(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function $a(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Aa(e,t,r.children,n),0!=(2&(r=Di.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,n);else if(19===e.tag)Ha(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(Di,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),qa(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Li(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}qa(t,!0,n,null,i,t.lastEffect);break;case"together":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ka(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vo(t.type)&&go(),null;case 3:return Mi(),lo(ho),lo(fo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ca(t)||(t.effectTag|=4),null;case 5:ji(t),n=Ai(Ii.current);var i=t.type;if(null!==e&&null!=t.stateNode)Ba(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ai(Oi.current),Ca(t)){r=t.stateNode,i=t.type;var s=t.memoizedProps;switch(r[Tn]=t,r[kn]=s,i){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":Ee(r,s),$t("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r),ln(n,"onChange");break;case"textarea":Ae(r,s),$t("invalid",r),ln(n,"onChange")}for(var l in on(i,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):T.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(i){case"input":_e(r),xe(r,s,!0);break;case"textarea":_e(r),Me(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=De(i)),e===sn?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),"select"===i&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[Tn]=t,e[kn]=r,Ua(e,t),t.stateNode=e,l=an(i,r),i){case"iframe":case"object":case"embed":$t("load",e),u=r;break;case"video":case"audio":for(u=0;u<Ye.length;u++)$t(Ye[u],e);u=r;break;case"source":$t("error",e),u=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),u=r;break;case"form":$t("reset",e),$t("submit",e),u=r;break;case"details":$t("toggle",e),u=r;break;case"input":Ee(e,r),u=Se(e,r),$t("invalid",e),ln(n,"onChange");break;case"option":u=Oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=o({},r,{value:void 0}),$t("invalid",e),ln(n,"onChange");break;case"textarea":Ae(e,r),u=Ie(e,r),$t("invalid",e),ln(n,"onChange");break;default:u=r}on(i,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ze(e,f):"children"===s?"string"==typeof f?("textarea"!==i||""!==f)&&Ue(e,f):"number"==typeof f&&Ue(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=f&&ln(n,s):null!=f&&Q(e,s,f,l))}switch(i){case"input":_e(e),xe(e,r,!1);break;case"textarea":_e(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Pe(e,!!r.multiple,n,!1):null!=r.defaultValue&&Pe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=un)}gn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Ai(Ii.current),Ai(Oi.current),Ca(t)?(n=t.stateNode,r=t.memoizedProps,n[Tn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=t,t.stateNode=n)}return null;case 13:return lo(Di),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ca(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=i,i.nextEffect=s):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Di.current)?Cs===_s&&(Cs=ws):(Cs!==_s&&Cs!==ws||(Cs=Ss),0!==Rs&&null!==Ts&&(Ml(Ts,xs),Nl(Ts,Rs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Mi(),null;case 10:return ti(t),null;case 17:return vo(t.type)&&go(),null;case 19:if(lo(Di),null===(r=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(s=r.rendering)){if(i)Xa(r,!1);else if(Cs!==_s||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Li(s))){for(t.effectTag|=64,Xa(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=s,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return uo(Di,1&Di.current|2),t.child}s=s.sibling}}else{if(!i)if(null!==(e=Li(s))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Uo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Xa(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Uo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Uo(),n.sibling=null,t=Di.current,uo(Di,i?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:vo(e.type)&&go();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Mi(),lo(ho),lo(fo),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return ji(e),null;case 13:return lo(Di),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lo(Di),null;case 4:return Mi(),null;case 10:return ti(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ge(t)}}Ua=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(Ai(Oi.current),e=null,n){case"input":a=Se(u,a),r=Se(u,r),e=[];break;case"option":a=Oe(u,a),r=Oe(u,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Ie(u,a),r=Ie(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=un)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=c&&ln(i,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Va=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){yl(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void os(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&hi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}hi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof Sl&&Sl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Go(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){yl(o,e)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yl(e,t)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,o,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var l=e,u=i,c=n,f=u;;)if(as(l,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break e;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(l=r,u=i.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(as(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[kn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),an(e,o),t=an(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?ze(n,l):"children"===s?Ue(n,l):Q(n,s,l,t)}switch(e){case"input":ke(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Pe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Pe(n,!!r.multiple,r.defaultValue,!0):Pe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ns=Uo()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,i.style.display=tn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=li(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ds||(Ds=!0,Ls=r),es(e,t)},n}function ms(e,t,n){(n=li(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return es(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vs,gs=Math.ceil,ys=Y.ReactCurrentDispatcher,bs=Y.ReactCurrentOwner,_s=0,ws=3,Ss=4,Es=0,Ts=null,ks=null,xs=0,Cs=_s,Os=null,Ps=1073741823,Is=1073741823,As=null,Rs=0,Ms=!1,Ns=0,js=null,Ds=!1,Ls=null,Fs=null,zs=!1,Us=null,Bs=90,Vs=null,Gs=0,Ws=null,Hs=0;function qs(){return 0!=(48&Es)?1073741821-(Uo()/10|0):0!==Hs?Hs:Hs=1073741821-(Uo()/10|0)}function $s(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Bo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Es))return xs;if(null!==n)e=Ko(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ko(e,150,100);break;case 97:case 96:e=Ko(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ts&&e===xs&&--e,e}function Ks(e,t){if(50<Gs)throw Gs=0,Ws=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=Bo();1073741823===t?0!=(8&Es)&&0==(48&Es)?Zs(e):(Qs(e),0===Es&&qo()):Qs(e),0==(4&Es)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(Ts===o&&(al(t),Cs===Ss&&Ml(o,xs)),Nl(o,t)),o}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Rl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ho(Zs.bind(null,e));else{var t=Ys(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=qs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Mo&&To(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ho(Zs.bind(null,e)):Wo(r,Js.bind(null,e),{timeout:10*(1073741821-t)-Uo()}),e.callbackNode=t}}}function Js(e,t){if(Hs=0,t)return jl(e,t=qs()),Qs(e),null;var n=Ys(e);if(0!==n){if(t=e.callbackNode,0!=(48&Es))throw Error(a(327));if(ml(),e===Ts&&n===xs||nl(e,n),null!==ks){var r=Es;Es|=16;for(var o=ol();;)try{ll();break}catch(t){rl(e,t)}if(ei(),Es=r,ys.current=o,1===Cs)throw t=Os,nl(e,n),Ml(e,n),Qs(e),t;if(null===ks)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Cs,Ts=null,r){case _s:case 1:throw Error(a(345));case 2:jl(e,2<n?2:n);break;case ws:if(Ml(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(o)),1073741823===Ps&&10<(o=Ns+500-Uo())){if(Ms){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(i=Ys(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(hl.bind(null,e),o);break}hl(e);break;case Ss:if(Ml(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(o)),Ms&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(o=Ys(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Is?r=10*(1073741821-Is)-Uo():1073741823===Ps?r=0:(r=10*(1073741821-Ps)-5e3,0>(r=(o=Uo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(hl.bind(null,e),r);break}hl(e);break;case 5:if(1073741823!==Ps&&null!==As){i=Ps;var s=As;if(0>=(r=0|s.busyMinDurationMs)?r=0:(o=0|s.busyDelayMs,r=(i=Uo()-(10*(1073741821-i)-(0|s.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Ml(e,n),e.timeoutHandle=bn(hl.bind(null,e),r);break}}hl(e);break;default:throw Error(a(329))}if(Qs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Es))throw Error(a(327));if(ml(),e===Ts&&t===xs||nl(e,t),null!==ks){var n=Es;Es|=16;for(var r=ol();;)try{sl();break}catch(t){rl(e,t)}if(ei(),Es=n,ys.current=r,1===Cs)throw n=Os,nl(e,t),Ml(e,t),Qs(e),n;if(null!==ks)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ts=null,hl(e),Qs(e)}return null}function el(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&qo()}}function tl(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&qo()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&go();break;case 3:Mi(),lo(ho),lo(fo);break;case 5:ji(r);break;case 4:Mi();break;case 13:case 19:lo(Di);break;case 10:ti(r)}n=n.return}Ts=e,ks=xl(e.current,null),xs=t,Cs=_s,Os=null,Is=Ps=1073741823,As=null,Rs=0,Ms=!1}function rl(e,t){for(;;){try{if(ei(),zi.current=va,Hi)for(var n=Vi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Bi=0,Wi=Gi=Vi=null,Hi=!1,null===ks||null===ks.return)return Cs=1,Os=t,ks=null;e:{var o=e,i=ks.return,a=ks,s=t;if(t=xs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Di.current),f=i;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var m=f.updateQueue;if(null===m){var v=new Set;v.add(l),f.updateQueue=v}else m.add(l);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=li(1073741823,null);g.tag=2,ui(a,g)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new ds,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,o,l,a);l.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}5!==Cs&&(Cs=2),s=Ja(s,a),f=i;do{switch(f.tag){case 3:l=s,f.effectTag|=4096,f.expirationTime=t,ci(f,ps(f,l,t));break e;case 1:l=s;var _=f.type,w=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof _.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Fs||!Fs.has(w)))){f.effectTag|=4096,f.expirationTime=t,ci(f,ms(f,l,t));break e}}f=f.return}while(null!==f)}ks=cl(ks)}catch(e){t=e;continue}break}}function ol(){var e=ys.current;return ys.current=va,null===e?va:e}function il(e,t){e<Ps&&2<e&&(Ps=e),null!==t&&e<Is&&2<e&&(Is=e,As=t)}function al(e){e>Rs&&(Rs=e)}function sl(){for(;null!==ks;)ks=ul(ks)}function ll(){for(;null!==ks&&!No();)ks=ul(ks)}function ul(e){var t=vs(e.alternate,e,xs);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){ks=e;do{var t=ks.alternate;if(e=ks.return,0==(2048&ks.effectTag)){if(t=Ya(t,ks,xs),1===xs||1!==ks.childExpirationTime){for(var n=0,r=ks.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}ks.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ks.firstEffect),null!==ks.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ks.firstEffect),e.lastEffect=ks.lastEffect),1<ks.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ks:e.firstEffect=ks,e.lastEffect=ks))}else{if(null!==(t=Qa(ks)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ks.sibling))return t;ks=e}while(null!==ks);return Cs===_s&&(Cs=5),null}function fl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hl(e){var t=Bo();return Go(99,dl.bind(null,e,t)),null}function dl(e,t){do{ml()}while(null!==Us);if(0!=(48&Es))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=fl(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ts&&(ks=Ts=null,xs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Es;Es|=32,bs.current=null,mn=qt;var s=dn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(e){l=null;break e}var h=0,d=-1,p=-1,m=0,v=0,g=s,y=null;t:for(;;){for(var b;g!==l||0!==c&&3!==g.nodeType||(d=h+c),g!==f||0!==u&&3!==g.nodeType||(p=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===l&&++m===c&&(d=h),y===f&&++v===u&&(p=h),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}l=-1===d||-1===p?null:{start:d,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;vn={activeElementDetached:null,focusedElem:s,selectionRange:l},qt=!1,js=o;do{try{pl()}catch(e){if(null===js)throw Error(a(330));yl(js,e),js=js.nextEffect}}while(null!==js);js=o;do{try{for(s=e,l=t;null!==js;){var _=js.effectTag;if(16&_&&Ue(js.stateNode,""),128&_){var w=js.alternate;if(null!==w){var S=w.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&_){case 2:us(js),js.effectTag&=-3;break;case 6:us(js),js.effectTag&=-3,fs(js.alternate,js);break;case 1024:js.effectTag&=-1025;break;case 1028:js.effectTag&=-1025,fs(js.alternate,js);break;case 4:fs(js.alternate,js);break;case 8:cs(s,c=js,l),ss(c)}js=js.nextEffect}}catch(e){if(null===js)throw Error(a(330));yl(js,e),js=js.nextEffect}}while(null!==js);if(S=vn,w=dn(),_=S.focusedElem,l=S.selectionRange,w!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==l&&pn(_)&&(w=l.start,void 0===(S=l.end)&&(S=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(S,_.value.length)):(S=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),c=_.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!S.extend&&s>l&&(c=l,l=s,s=c),c=hn(_,s),f=hn(_,l),c&&f&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==f.node||S.focusOffset!==f.offset)&&((w=w.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),s>l?(S.addRange(w),S.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),S.addRange(w))))),w=[];for(S=_;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<w.length;_++)(S=w[_]).element.scrollLeft=S.left,S.element.scrollTop=S.top}qt=!!mn,vn=mn=null,e.current=n,js=o;do{try{for(_=e;null!==js;){var E=js.effectTag;if(36&E&&is(_,js.alternate,js),128&E){w=void 0;var T=js.ref;if(null!==T){var k=js.stateNode;switch(js.tag){case 5:w=k;break;default:w=k}"function"==typeof T?T(w):T.current=w}}js=js.nextEffect}}catch(e){if(null===js)throw Error(a(330));yl(js,e),js=js.nextEffect}}while(null!==js);js=null,jo(),Es=i}else e.current=n;if(zs)zs=!1,Us=e,Bs=t;else for(js=o;null!==js;)t=js.nextEffect,js.nextEffect=null,js=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===Ws?Gs++:(Gs=0,Ws=e):Gs=0,"function"==typeof wl&&wl(n.stateNode,r),Qs(e),Ds)throw Ds=!1,e=Ls,Ls=null,e;return 0!=(8&Es)||qo(),null}function pl(){for(;null!==js;){var e=js.effectTag;0!=(256&e)&&ns(js.alternate,js),0==(512&e)||zs||(zs=!0,Wo(97,(function(){return ml(),null}))),js=js.nextEffect}}function ml(){if(90!==Bs){var e=97<Bs?97:Bs;return Bs=90,Go(e,vl)}}function vl(){if(null===Us)return!1;var e=Us;if(Us=null,0!=(48&Es))throw Error(a(331));var t=Es;for(Es|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),os(5,n)}}catch(t){if(null===e)throw Error(a(330));yl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Es=t,qo(),!0}function gl(e,t,n){ui(e,t=ps(e,t=Ja(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Qs(e)}function yl(e,t){if(3===e.tag)gl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){ui(n,e=ms(n,e=Ja(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Qs(n);break}}n=n.return}}function bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ts===e&&xs===n?Cs===Ss||Cs===ws&&1073741823===Ps&&Uo()-Ns<500?nl(e,xs):Ms=!0:Rl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qs(e)))}function _l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$s(t=qs(),e,null)),null!==(e=Xs(e,t))&&Qs(e)}vs=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||ho.current)Ia=!0;else{if(r<n){switch(Ia=!1,t.tag){case 3:za(t),Oa();break;case 5:if(Ni(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vo(t.type)&&_o(t);break;case 4:Ri(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,uo(Yo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Wa(e,t,n):(uo(Di,1&Di.current),null!==(t=Ka(e,t,n))?t.sibling:null);uo(Di,1&Di.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return $a(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),uo(Di,Di.current),!r)return null}return Ka(e,t,n)}Ia=!1}}else Ia=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=mo(t,fo.current),ri(t,n),o=Ki(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vo(r)){var i=!0;_o(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ai(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&mi(t,r,s,e),o.updater=vi,t.stateNode=o,o._reactInternalFiber=t,_i(t,r,e,n),t=Fa(null,t,r,!0,i,n)}else t.tag=0,Aa(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"==typeof e)return kl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===fe)return 14}return 2}(o),e=Xo(o,e),i){case 0:t=Da(null,t,o,e,n);break e;case 1:t=La(null,t,o,e,n);break e;case 11:t=Ra(null,t,o,e,n);break e;case 14:t=Ma(null,t,o,Xo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Da(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 1:return r=t.type,o=t.pendingProps,La(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,si(e,t),fi(t,r,null,n),(r=t.memoizedState.element)===o)Oa(),t=Ka(e,t,n);else{if((o=t.stateNode.hydrate)&&(wa=wn(t.stateNode.containerInfo.firstChild),_a=t,o=Sa=!0),o)for(n=xi(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Aa(e,t,r,n),Oa();t=t.child}return t;case 5:return Ni(t),null===e&&ka(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,yn(r,o)?s=null:null!==i&&yn(r,i)&&(t.effectTag|=16),ja(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Aa(e,t,s,n),t=t.child),t;case 6:return null===e&&ka(t),null;case 13:return Wa(e,t,n);case 4:return Ri(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ra(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var l=t.type._context;if(uo(Yo,l._currentValue),l._currentValue=i,null!==s)if(l=s.value,0===(i=Lr(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!ho.current){t=Ka(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&i)){1===l.tag&&((c=li(n,null)).tag=2,ui(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ni(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Aa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ri(t,n),r=r(o=oi(o,i.unstable_observedBits)),t.effectTag|=1,Aa(e,t,r,n),t.child;case 14:return i=Xo(o=t.type,t.pendingProps),Ma(e,t,o,i=Xo(o.type,i),r,n);case 15:return Na(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Xo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vo(r)?(e=!0,_o(t)):e=!1,ri(t,n),yi(t,r,o),_i(t,r,o,n),Fa(null,t,r,!0,e,n);case 19:return $a(e,t,n)}throw Error(a(156,t.tag))};var wl=null,Sl=null;function El(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tl(e,t,n,r){return new El(e,t,n,r)}function kl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xl(e,t){var n=e.alternate;return null===n?((n=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cl(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)kl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Ol(n.children,o,i,t);case se:s=8,o|=7;break;case re:s=8,o|=1;break;case oe:return(e=Tl(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=i,e;case ue:return(e=Tl(13,n,t,o)).type=ue,e.elementType=ue,e.expirationTime=i,e;case ce:return(e=Tl(19,n,t,o)).elementType=ce,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ie:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case fe:s=14;break e;case he:s=16,r=null;break e;case de:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tl(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Ol(e,t,n,r){return(e=Tl(7,e,r,t)).expirationTime=n,e}function Pl(e,t,n){return(e=Tl(6,e,null,t)).expirationTime=n,e}function Il(e,t,n){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Al(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Rl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ml(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Nl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function jl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Dl(e,t,n,r){var o=t.current,i=qs(),s=di.suspense;i=$s(i,o,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(vo(u)){n=bo(n,u,l);break e}}n=l}else n=co;return null===t.context?t.context=n:t.pendingContext=n,(t=li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ui(o,t),Ks(o,i),i}function Ll(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function zl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function Ul(e,t,n){var r=new Al(e,t,n=null!=n&&!0===n.hydrate),o=Tl(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,ai(o),e[xn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);xt.forEach((function(e){pt(e,t,n)})),Ct.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Ll(a);s.call(e)}}Dl(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ul(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Ll(a);l.call(e)}}tl((function(){Dl(t,a,e,o)}))}return Ll(a)}function Gl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bl(t))throw Error(a(200));return Gl(e,t,null,n)}Ul.prototype.render=function(e){Dl(e,this._internalRoot,null,null)},Ul.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Dl(null,e,null,(function(){t[xn]=null}))},mt=function(e){if(13===e.tag){var t=Ko(qs(),150,100);Ks(e,t),zl(e,t)}},vt=function(e){13===e.tag&&(Ks(e,3),zl(e,3))},gt=function(e){if(13===e.tag){var t=qs();Ks(e,t=$s(t,e,null)),zl(e,t)}},O=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=In(r);if(!o)throw Error(a(90));we(r),ke(r,o)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Pe(e,!!n.multiple,t,!1)}},N=el,j=function(e,t,n,r,o){var i=Es;Es|=4;try{return Go(98,e.bind(null,t,n,r,o))}finally{0===(Es=i)&&qo()}},D=function(){0==(49&Es)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){jl(t,e),Qs(t)})),qo()}}(),ml())},L=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&qo()}};var Hl,ql,$l={Events:[On,Pn,In,x,E,Ln,function(e){ot(e,Dn)},R,M,Qt,st,ml,{current:!1}]};ql=(Hl={findFiberByHostInstance:Cn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);wl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Sl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},Hl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return ql?ql(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$l,t.createPortal=Wl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Es))throw Error(a(187));var n=Es;Es|=1;try{return Go(99,e.bind(null,t))}finally{Es=n,qo()}},t.hydrate=function(e,t,n){if(!Bl(t))throw Error(a(200));return Vl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Bl(t))throw Error(a(200));return Vl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[xn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Wl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vl(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(84)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,i,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},o=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,b=null,_=-1,w=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();S=e+w;try{b(!0,e)?T.postMessage(null):(y=!1,b=null)}catch(e){throw T.postMessage(null),e}}else y=!1},r=function(e){b=e,y||(y=!0,T.postMessage(null))},o=function(e,n){_=p((function(){e(t.unstable_now())}),n)},i=function(){m(_),_=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<O(o,t)))break e;e[r]=t,e[n]=o,n=r}}function x(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>O(a,n))void 0!==l&&0>O(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>O(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],I=[],A=1,R=null,M=3,N=!1,j=!1,D=!1;function L(e){for(var t=x(I);null!==t;){if(null===t.callback)C(I);else{if(!(t.startTime<=e))break;C(I),t.sortIndex=t.expirationTime,k(P,t)}t=x(I)}}function F(e){if(D=!1,L(e),!j)if(null!==x(P))j=!0,r(z);else{var t=x(I);null!==t&&o(F,t.startTime-e)}}function z(e,n){j=!1,D&&(D=!1,i()),N=!0;var r=M;try{for(L(n),R=x(P);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,M=R.priorityLevel;var l=s(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?R.callback=l:R===x(P)&&C(P),L(n)}else C(P);R=x(P)}if(null!==R)var u=!0;else{var c=x(I);null!==c&&o(F,c.startTime-n),u=!1}return u}finally{R=null,M=r,N=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||N||(j=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return x(P)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:A++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,k(I,e),null===x(P)&&e===x(I)&&(D?i():D=!0,o(F,l-s))):(e.sortIndex=a,k(P,e),j||N||(j=!0,r(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=x(P);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},function(e,t,n){},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(51),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t,n){var r=n(41),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(91),o=n(54);e.exports=function(e){return o(r(e))}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){var n=Math.floor,r=Math.random;e.exports=function(e,t){return e+n(r()*(t-e+1))}},function(e,t,n){var r=n(54),o=n(94);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(95),o=n(96);e.exports=function(e){return null==e?[]:r(e,o(e))}},function(e,t,n){var r=n(55);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(97),o=n(107),i=n(58);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(98),o=n(99),i=n(43),a=n(101),s=n(56),l=n(103),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),f=!n&&!c&&a(e),h=!n&&!c&&!f&&l(e),d=n||c||f||h,p=d?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(100),o=n(34),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(33),o=n(34);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t,n){(function(e){var r=n(42),o=n(102),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l}).call(this,n(35)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(104),o=n(105),i=n(106),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(33),o=n(57),i=n(34),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(53),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(35)(e))},function(e,t,n){var r=n(108),o=n(109),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(110)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(33),o=n(32);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,h,d,p,m=e[c].replace(s,"%20"),v=m.indexOf(n);v>=0?(f=m.substr(0,v),h=m.substr(v+1)):(f=m,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),r(a,d)?o(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(115);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case h:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return S(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||S(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===d},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===v},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===l},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===l||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===y)},t.typeOf=S},function(e,t,n){var r=n(42);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";function r(e){let t;if(e){if(!(e instanceof ArrayBuffer))throw Error("Invalid buffer received.");if(this.datas=new DataView(e,0,r.HEADER_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"h"!==String.fromCharCode(this.datas.getUint8(2))||"d"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileHeader : MThd prefix not found");if(6!==this.datas.getUint32(4))throw new Error("Invalid MIDIFileHeader : Chunk length must be 6")}else t=new Uint8Array(r.HEADER_LENGTH),t[0]=77,t[1]=84,t[2]=104,t[3]=100,t[4]=0,t[5]=0,t[6]=0,t[7]=6,t[8]=0,t[9]=1,t[10]=0,t[11]=1,t[12]=0,t[13]=192,this.datas=new DataView(t.buffer,0,r.HEADER_LENGTH)}r.HEADER_LENGTH=14,r.FRAMES_PER_SECONDS=1,r.TICKS_PER_BEAT=2,r.prototype.getFormat=function(){const e=this.datas.getUint16(8);if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI file : MIDI format ("+e+"), format can be 0, 1 or 2 only.");return e},r.prototype.setFormat=function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI format given ("+e+"), format can be 0, 1 or 2 only.");this.datas.setUint16(8,e)},r.prototype.getTracksCount=function(){return this.datas.getUint16(10)},r.prototype.setTracksCount=function(e){return this.datas.setUint16(10,e)},r.prototype.getTickResolution=function(e){return 32768&this.datas.getUint16(12)?1e6/(this.getSMPTEFrames()*this.getTicksPerFrame()):(e=e||5e5)/this.getTicksPerBeat()},r.prototype.getTimeDivision=function(){return 32768&this.datas.getUint16(12)?r.FRAMES_PER_SECONDS:r.TICKS_PER_BEAT},r.prototype.getTicksPerBeat=function(){var e=this.datas.getUint16(12);if(32768&e)throw new Error("Time division is not expressed as ticks per beat.");return e},r.prototype.setTicksPerBeat=function(e){this.datas.setUint16(12,32767&e)},r.prototype.getSMPTEFrames=function(){const e=this.datas.getUint16(12);let t;if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");if(t=32512&e,-1===[24,25,29,30].indexOf(t))throw new Error("Invalid SMPTE frames value ("+t+").");return 29===t?29.97:t},r.prototype.getTicksPerFrame=function(){const e=this.datas.getUint16(12);if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");return 255&e},r.prototype.setSMTPEDivision=function(e,t){if(29.97===e&&(e=29),-1===[24,25,29,30].indexOf(e))throw new Error("Invalid SMPTE frames value given ("+e+").");if(0>t||255<t)throw new Error("Invalid ticks per frame value given ("+e+").");this.datas.setUint8(12,128|e),this.datas.setUint8(13,t)},e.exports=r},function(e,t,n){"use strict";function r(e,t){let n,o;if(e){if(!(e instanceof ArrayBuffer))throw new Error("Invalid buffer received.");if(12>e.byteLength-t)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : Buffer length must size at least 12bytes");if(this.datas=new DataView(e,t,r.HDR_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"r"!==String.fromCharCode(this.datas.getUint8(2))||"k"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : MTrk prefix not found");if(o=this.getTrackLength(),e.byteLength-t<o)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : The track size exceed the buffer length.");if(this.datas=new DataView(e,t,r.HDR_LENGTH+o),255!==this.datas.getUint8(r.HDR_LENGTH+(o-3))||47!==this.datas.getUint8(r.HDR_LENGTH+(o-2))||0!==this.datas.getUint8(r.HDR_LENGTH+(o-1)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : No track end event found at the expected index ("+(r.HDR_LENGTH+(o-1)).toString(16)+").")}else n=new Uint8Array(12),n[0]=77,n[1]=84,n[2]=114,n[3]=107,n[4]=0,n[5]=0,n[6]=0,n[7]=4,n[8]=0,n[9]=255,n[10]=47,n[11]=0,this.datas=new DataView(n.buffer,0,r.HDR_LENGTH+4)}r.HDR_LENGTH=8,r.prototype.getTrackLength=function(){return this.datas.getUint32(4)},r.prototype.setTrackLength=function(e){return this.datas.setUint32(4,e)},r.prototype.getTrackContent=function(){return new DataView(this.datas.buffer,this.datas.byteOffset+r.HDR_LENGTH,this.datas.byteLength-r.HDR_LENGTH)},r.prototype.setTrackContent=function(e){let t,n,o,i;const a=e.byteLength-e.byteOffset;if(4>a)throw new Error("Invalid track length, must size at least 4bytes");for(this.datas=new DataView(new Uint8Array(r.HDR_LENGTH+a).buffer),this.datas.setUint8(0,77),this.datas.setUint8(1,84),this.datas.setUint8(2,114),this.datas.setUint8(3,107),this.datas.setUint32(4,a),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=new Uint8Array(this.datas.buffer,r.HDR_LENGTH,a),o=0,i=t.length;o<i;o++)n[o]=t[o]},e.exports=r},function(e,t){function n(e){return 240==(240&e)?4:224==(224&e)?3:192==(192&e)?2:e==(127&e)?1:0}function r(e,t,r){var o=0,i="";if(t=t||0,e.length-t<=0)throw new Error("No more characters remaining in array.");if(0==(r=r||n(e[t])))throw new Error(e[t].toString(2)+" is not a significative byte (offset:"+t+").");if(1===r)return e[t];if(e.length-t<r)throw new Error("Expected at least "+r+" bytes remaining in array.");if(i="00000000".slice(0,r)+1+"00000000".slice(r+1),e[t]&parseInt(i,2))throw Error("Index "+t+": A "+r+" bytes encoded char cannot encode the "+(r+1)+"th rank bit to 1.");for(i="0000".slice(0,r+1)+"11111111".slice(r+1),o+=(e[t]&parseInt(i,2))<<6*--r;r;){if(128!=(128&e[t+1])||64==(64&e[t+1]))throw Error("Index "+(t+1)+': Next bytes of encoded char must begin with a "10" bit sequence.');o+=(63&e[++t])<<6*--r}return o}function o(e,t,o,i){var a,s=[];for(t|=0,o="number"==typeof o?o:e.byteLength||e.length;t<o;t++){if(t+(a=n(e[t]))>o){if(i)throw Error("Index "+t+": Found a "+a+" bytes encoded char declaration but only "+(o-t)+" bytes are available.")}else s.push(String.fromCodePoint(r(e,t,a)));t+=a-1}return s.join("")}function i(e){if(e<128)return 1;if(e<2048)return 2;if(e<65536)return 3;if(e<2097152)return 4;throw new Error("CharCode "+e+" cannot be encoded with UTF8.")}function a(e,t,n,r){if(e|=0,t=t||[],n|=0,1==(r=r||i(e)))t[n]=e;else for(t[n++]=(parseInt("1111".slice(0,r),2)<<8-r)+(e>>>6*--r);r>0;)t[n++]=e>>>6*--r&63|128;return t}e.exports={isNotUTF8:function(e,t,n){try{o(e,t,n,!0)}catch(e){return!0}return!1},getCharLength:n,getCharCode:r,getStringFromBytes:o,getBytesForCharCode:i,setBytesFromCharCode:a,setBytesFromString:function(e,t,n,r,o){e=e||"",t=t||[],n|=0,r="number"==typeof r?r:t.byteLength||1/0;for(var s=0,l=e.length;s<l;s++){var u=i(e[s].codePointAt(0));if(o&&n+u>r)throw new Error('Not enought bytes to encode the char "'+e[s]+'" at the offset "'+n+'".');a(e[s].codePointAt(0),t,n,u),n+=u}return t}}},function(e,t,n){"use strict";n.r(t);var r=n(15),o=n.n(r),i=n(37),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var h=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=t,this.curEvent=t[0],this.pos=0,this.loopStartPos=null,this.elapsedLoops=0,this.curTick=0},(t=[{key:"loop",value:function(){this.curTick<1e6&&this.elapsedLoops<1e3&&(this.pos=this.loopStartPos,console.debug("Channel %d looped at tick %d (loop %d completed)",this.curEvent.channel,this.curTick,this.elapsedLoops),this.elapsedLoops++)}},{key:"next",value:function(){var e=this.events[this.pos++];return e?(this.curTick+=e.delta,e.type===r.EVENT_MIDI&&e.subtype===r.EVENT_MIDI_CONTROLLER&&(102===e.param1&&(this.loopStartPos=this.pos),103===e.param1&&this.loop()),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):null}}])&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function d(e){return 102===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function p(e){return 103===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function m(e){return 123===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function v(e,t,n){return{channel:t,track:e,playTime:n,type:r.EVENT_MIDI,subtype:r.EVENT_MIDI_CONTROLLER,param1:123,delta:0}}function g(e,t){for(var n=[],r=0,o=0;o<t.length;o++){var i=t[o];r+=i.delta;var a=Math.floor(r/1e3);m(i)?(n[a]="X",r+=1e3):d(i)?n[a]=">":p(i)?n[a]="<":null==n[a]?n[a]="·":"·"===n[a]?n[a]="-":"-"===n[a]&&(n[a]="=")}e=(""+e).padStart(2,"0");for(var s=[],l=0;l<n.length;l++)s[l]=n[l]||" ";console.debug("Track ".concat(e," |").concat(s.join(""),"|"))}a.a.prototype.getLoopedEvents=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=0,l=[],u=this.header.getFormat(),c=this.header.getTickResolution(),f=!1,d=null,p=null;if(1!==u||1===this.tracks.length)for(n=0,r=this.tracks.length;n<r;n++){s=2===u&&s?s:0;var m=new h(e[n]);for(t=m.next();t;)s+=t.delta?t.delta*c/1e3:0,t.type===o.a.EVENT_META&&t.subtype===o.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),d&&t.type!==d||p&&(!t.subtype||t.subtype!==p)||(t.playTime=s,l.push(t)),t=m.next()}else{i=-1;var y=[];for(n=0,r=e.length;n<r;n++)g(n,e[n]),y[n]=new h(e[n]),y[n].curEvent=y[n].next();do{for(i=-1,n=0,r=y.length;n<r;n++)y[n].curEvent&&(-1===i||y[n].curEvent.delta<y[i].curEvent.delta||y[n].curEvent.delta===y[i].curEvent.delta&&y[n].elapsedLoops<y[i].elapsedLoops)&&(i=n);if(-1!==i){for(n=0,r=y.length;n<r;n++)n!==i&&y[n].curEvent&&(y[n].curEvent.delta-=y[i].curEvent.delta);s+=(t=y[i].curEvent).delta?t.delta*c/1e3:0,t.type===o.a.EVENT_META&&t.subtype===o.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),d&&t.type!==d||p&&(!t.subtype||t.subtype!==p)||(t.playTime=s,t.track=i,l.push(t)),y[i].curEvent=y[i].next(),f=y.every((function(e){return null==e.curEvent||e.elapsedLoops>=a}))}}while(-1!==i&&!1===f);for(var b=0;b<y.length;b++){var _;null!==(_=y[b])&&void 0!==_&&_.curEvent&&l.push(v(b,y[b].curEvent.channel,s))}}return console.debug(l),l}},function(e,t,n){var r=n(124),o=n(125),i=n(127);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,o,i){for(var a=-1,s=r(n((t-e)/(o||1)),0),l=Array(s);s--;)l[i?s:++a]=e,e+=o;return l}},function(e,t,n){var r=n(126),o=n(58),i=n(56),a=n(32);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(40);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(27).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(61);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){},function(e,t,n){var r=n(140);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(142);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(143),o=n(144),i=n(145);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(147),o=n(148),i=n(149);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[i+r+"?",r,a,s,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+c+u,"g");e.exports=function(e){return e.match(f)||[]}},function(e,t,n){var r=n(63);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(28),a=n.n(i),s=(n(85),n(10));const l=["componentWillMount","UNSAFE_componentWillMount","render","getSnapshotBeforeUpdate","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];function u(e,{exclude:t=[],...n}={}){return n.exclude=[...t,...l],Object(s.a)(e,n)}var c=n(44),f=n.n(c),h=n(45),d=n.n(h),p=n(29),m=n.n(p),v=n(16),g=n.n(v),y=n(13),b=n.n(y),_=n(12),w=n(21),S=n(19),E=n(14),T=n(23),k=n(20),x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(S.a)(t.props),t}return Object(w.a)(t,e),t.prototype.render=function(){return o.a.createElement(_.b,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var C=function(e,t){return"function"==typeof e?e(t):e},O=function(e,t){return"string"==typeof e?Object(S.c)(e,null,null,t):e},P=function(e){return e},I=o.a.forwardRef;void 0===I&&(I=P);var A=I((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(T.a)(e,["innerRef","navigate","onClick"]),s=a.target,l=Object(E.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=P!==I&&t||n,o.a.createElement("a",l)}));var R=I((function(e,t){var n=e.component,r=void 0===n?A:n,i=e.replace,a=e.to,s=e.innerRef,l=Object(T.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(_.d.Consumer,null,(function(e){e||Object(k.a)(!1);var n=e.history,u=O(C(a,e.location),e.location),c=u?n.createHref(u):"",f=Object(E.a)({},l,{href:c,navigate:function(){var t=C(a,e.location),r=Object(S.e)(e.location)===Object(S.e)(O(t));(i||r?n.replace:n.push)(t)}});return P!==I?f.ref=t||s:f.innerRef=s,o.a.createElement(r,f)}))})),M=function(e){return e},N=o.a.forwardRef;void 0===N&&(N=M);var j=N((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,a=void 0===i?"active":i,s=e.activeStyle,l=e.className,u=e.exact,c=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,m=e.to,v=e.innerRef,g=Object(T.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(_.d.Consumer,null,(function(e){e||Object(k.a)(!1);var n=f||e.location,i=O(C(m,n),n),y=i.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Object(_.e)(n.pathname,{path:b,exact:u,sensitive:h,strict:d}):null,S=!!(c?c(w,n):w),T="function"==typeof l?l(S):l,x="function"==typeof p?p(S):p;S&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(T,a),x=Object(E.a)({},x,s));var P=Object(E.a)({"aria-current":S&&r||null,className:T,style:x,to:i},g);return M!==N?P.ref=t||v:P.innerRef=v,o.a.createElement(R,P)}))})),D=n(3),L=n.n(D),F=n(64),z=n.n(F),U=("function"==typeof Symbol&&Symbol.iterator,"undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"));function B(e,t){return"application/x-moz-file"===e.type||z()(e,t)}function V(e){return!e.dataTransfer||Array.prototype.every.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e}))}function G(e){e.preventDefault()}function W(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function H(e){return-1!==e.indexOf("Edge/")}var q={borderStyle:"solid",backgroundColor:"#eee"},$={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},K={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},X={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},Y={opacity:.5},Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Z(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ee=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.renderChildren=function(e,t,n,o){return"function"==typeof e?e(Q({},r.state,{isDragActive:t,isDragAccept:n,isDragReject:o,open:r.open})):e},r.composeHandlers=r.composeHandlers.bind(r),r.onClick=r.onClick.bind(r),r.onDocumentDrop=r.onDocumentDrop.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.onInputElementClick=r.onInputElementClick.bind(r),r.open=r.open.bind(r),r.setRef=r.setRef.bind(r),r.setRefs=r.setRefs.bind(r),r.isFileDialogActive=!1,r.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),J(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",G,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),null!=this.fileInputEl&&this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",G),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){e.persist(),this.props.onDragStart&&V(e)&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var t=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),e.persist(),V(e)&&(Promise.resolve(this.props.getDataTransferItems(e)).then((function(n){e.isPropagationStopped()||t.setState({draggedFiles:n,isDragActive:!0})})),this.props.onDragEnter&&this.props.onDragEnter.call(this,e))}},{key:"onDragOver",value:function(e){e.preventDefault(),e.persist();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&V(e)&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),e.persist(),this.dragTargets=this.dragTargets.filter((function(n){return n!==e.target&&t.node.contains(n)})),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&V(e)&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,o=n.onDropAccepted,i=n.onDropRejected,a=n.multiple,s=n.accept,l=n.getDataTransferItems;e.preventDefault(),e.persist(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),V(e)&&Promise.resolve(l(e)).then((function(n){var l=[],u=[];e.isPropagationStopped()||(n.forEach((function(e){B(e,s)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?l.push(e):u.push(e)})),!a&&l.length>1&&u.push.apply(u,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l.splice(0))),t.setState({acceptedFiles:l,rejectedFiles:u},(function(){r&&r.call(t,l,u,e),u.length>0&&i&&i.call(t,u,e),l.length>0&&o&&o.call(t,l,e)})))}))}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick,r=t.disableClick;n&&n.call(this,e),r||e.isDefaultPrevented()||(e.stopPropagation(),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return W(e)||H(e)}()?this.open():setTimeout(this.open,0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick(e)}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout((function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,r=e.activeClassName,i=e.children,a=e.disabled,s=e.disabledClassName,l=e.inputProps,u=e.multiple,c=e.name,f=e.rejectClassName,h=Z(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),d=h.acceptStyle,p=h.activeStyle,m=h.className,v=void 0===m?"":m,g=h.disabledStyle,y=h.rejectStyle,b=h.style,_=Z(h,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),w=this.state,S=w.isDragActive,E=w.draggedFiles,T=E.length,k=u||T<=1,x=T>0&&function(e,t){return e.every((function(e){return B(e,t)}))}(E,this.props.accept),C=T>0&&(!x||!k),O=!(v||b||p||d||y||g);S&&r&&(v+=" "+r),x&&n&&(v+=" "+n),C&&f&&(v+=" "+f),a&&s&&(v+=" "+s),O&&(b=X,p=q,d=$,y=K,g=Y);var P=Q({position:"relative"},b);p&&S&&(P=Q({},P,p)),d&&x&&(P=Q({},P,d)),y&&C&&(P=Q({},P,y)),g&&a&&(P=Q({},P,g));var I={accept:t,disabled:a,type:"file",style:Q({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},l.style),multiple:U&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};c&&c.length&&(I.name=c);_.acceptedFiles,_.preventDropOnDocument,_.disableClick,_.onDropAccepted,_.onDropRejected,_.onFileDialogCancel,_.maxSize,_.minSize,_.getDataTransferItems;var A=Z(_,["acceptedFiles","preventDropOnDocument","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return o.a.createElement("div",Q({className:v,style:P},A,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":a}),this.renderChildren(i,S,x,C),o.a.createElement("input",Q({},l,I)))}}]),t}(o.a.Component),te=ee;function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ee.propTypes={accept:L.a.oneOfType([L.a.string,L.a.arrayOf(L.a.string)]),children:L.a.oneOfType([L.a.node,L.a.func]),disableClick:L.a.bool,disabled:L.a.bool,preventDropOnDocument:L.a.bool,inputProps:L.a.object,multiple:L.a.bool,name:L.a.string,maxSize:L.a.number,minSize:L.a.number,className:L.a.string,activeClassName:L.a.string,acceptClassName:L.a.string,rejectClassName:L.a.string,disabledClassName:L.a.string,style:L.a.object,activeStyle:L.a.object,acceptStyle:L.a.object,rejectStyle:L.a.object,disabledStyle:L.a.object,getDataTransferItems:L.a.func,onClick:L.a.func,onDrop:L.a.func,onDropAccepted:L.a.func,onDropRejected:L.a.func,onDragStart:L.a.func,onDragEnter:L.a.func,onDragOver:L.a.func,onDragLeave:L.a.func,onFileDialogCancel:L.a.func},ee.defaultProps={preventDropOnDocument:!0,disabled:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}};var re,oe=(re="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=void 0!==r?r:{};o.ready=new Promise((function(n,r){e=n,t=r}));var i,a,s,l=Object.assign({},o),u="./this.program",c=!0,f=!1,h="";function d(e){return o.locateFile?o.locateFile(e,h):h+e}(c||f)&&(f?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),re&&(h=re),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var p,m,v=o.print||console.log.bind(console),g=o.printErr||console.error.bind(console);Object.assign(o,l),l=null,o.arguments&&o.arguments,o.thisProgram&&(u=o.thisProgram),o.quit&&o.quit,o.wasmBinary&&(p=o.wasmBinary),o.noExitRuntime,"object"!=("undefined"==typeof WebAssembly?"undefined":ne(WebAssembly))&&H("no native wasm support detected");var y,b,_,w,S,E,T,k,x=!1;function C(e,t){e||H(t)}function O(){var e=m.buffer;o.HEAP8=y=new Int8Array(e),o.HEAP16=_=new Int16Array(e),o.HEAP32=w=new Int32Array(e),o.HEAPU8=b=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=S=new Uint32Array(e),o.HEAPF32=E=new Float32Array(e),o.HEAPF64=k=new Float64Array(e),o.HEAP64=T=new BigInt64Array(e),o.HEAPU64=new BigUint64Array(e)}function P(){var e=Ot();0==e&&(e+=4),S[e>>2]=34821223,S[e+4>>2]=2310721022,S[0]=1668509029}function I(){if(!x){var e=Ot();0==e&&(e+=4);var t=S[e>>2],n=S[e+4>>2];34821223==t&&2310721022==n||H("Stack overflow! Stack cookie has been overwritten at "+ie(e)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ie(n)+" "+ie(t)),1668509029!==S[0]&&H("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var A=[],R=[],M=[];function N(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)L(o.preRun.shift());te(A)}function j(){I(),Mt(Ct(),Ot()),o.noFSInit||Ne.init.initialized||Ne.init(),Ne.ignorePermissions=!1,Se.init(),te(R)}function D(){if(I(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)z(o.postRun.shift());te(M)}function L(e){A.unshift(e)}function F(e){R.unshift(e)}function z(e){M.unshift(e)}var U=0,B=null,V=null;function G(e){U++,o.monitorRunDependencies&&o.monitorRunDependencies(U)}function W(e){if(U--,o.monitorRunDependencies&&o.monitorRunDependencies(U),0==U&&(null!==B&&(clearInterval(B),B=null),V)){var t=V;V=null,t()}}function H(e){o.onAbort&&o.onAbort(e),g(e="Aborted("+e+")"),x=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw t(n),n}var q,$="data:application/octet-stream;base64,";function K(e){return e.startsWith($)}function X(e){try{if(e==q&&p)return new Uint8Array(p);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){H(e)}}function Y(e){return p||!c&&!f||"function"!=typeof fetch?Promise.resolve().then((function(){return X(e)})):fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return X(e)}))}function Q(e,t,n){return Y(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){g("failed to asynchronously prepare wasm: "+e),H(e)}))}function J(e,t,n,r){return e||"function"!=typeof WebAssembly.instantiateStreaming||K(t)||"function"!=typeof fetch?Q(t,n,r):fetch(t,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,n).then(r,(function(e){return g("wasm streaming compile failed: "+e),g("falling back to ArrayBuffer instantiation"),Q(t,n,r)}))}))}function Z(){var e={a:St};function n(e,t){var n=e.exports;return o.asm=n,m=o.asm.t,O(),o.asm.wb,F(o.asm.u),W(),n}if(G(),o.instantiateWasm)try{return o.instantiateWasm(e,n)}catch(e){g("Module.instantiateWasm callback failed with error: "+e),t(e)}return J(p,q,e,(function(e){n(e.instance)})).catch(t),{}}K(q="chip-core.wasm")||(q=d(q));var ee={502796:function(e){console.log("Error during V2M conversion.",e)}};function te(e){for(;e.length>0;)e.shift()(o)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return y[e>>0];case"i16":return _[e>>1];case"i32":return w[e>>2];case"i64":return T[e>>3];case"float":return E[e>>2];case"double":return k[e>>3];case"*":return S[e>>2];default:H("invalid type for getValue: ".concat(t))}}function ie(e){return"0x"+e.toString(16).padStart(8,"0")}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i8";switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":y[e>>0]=t;break;case"i16":_[e>>1]=t;break;case"i32":w[e>>2]=t;break;case"i64":T[e>>3]=BigInt(t);break;case"float":E[e>>2]=t;break;case"double":k[e>>3]=t;break;case"*":S[e>>2]=t;break;default:H("invalid type for setValue: ".concat(n))}}var se="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function le(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&se)return se.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var l=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|l:(7&a)<<18|s<<12|l<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var u=a-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function ue(e,t){return e?le(b,e,t):""}function ce(e,t,n,r){H("Assertion failed: ".concat(ue(e),", at: ")+[t?ue(t):"unknown filename",n,r?ue(r):"unknown function"])}function fe(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){S[this.ptr+4>>2]=e},this.get_type=function(){return S[this.ptr+4>>2]},this.set_destructor=function(e){S[this.ptr+8>>2]=e},this.get_destructor=function(){return S[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,y[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=y[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,y[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=y[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){S[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return S[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Rt(this.get_type()))return S[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function he(e,t,n){throw new fe(e).init(t,n),e}function de(e){e>>>=0;var t=Ct(),n=Ot();H("stack overflow (Attempt to set SP to ".concat(ie(e))+", with stack limits [".concat(ie(n)," - ").concat(ie(t))+"]). If you require more stack space build with -sSTACK_SIZE=<bytes>")}function pe(e){return w[Tt()>>2]=e,e}var me={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t=me.isAbs(e),n="/"===e.substr(-1);return(e=me.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=me.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=me.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return me.normalize(e.join("/"))},join2:function(e,t){return me.normalize(e+"/"+t)}};function ve(){if("object"==("undefined"==typeof crypto?"undefined":ne(crypto))&&"function"==typeof crypto.getRandomValues)return function(e){return crypto.getRandomValues(e)};H("initRandomDevice")}function ge(e){return(ge=ve())(e)}var ye={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:Ne.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=me.isAbs(r)}return(t?"/":"")+(e=me.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=ye.resolve(e).substr(1),t=ye.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),i=Math.min(r.length,o.length),a=i,s=0;s<i;s++)if(r[s]!==o[s]){a=s;break}var l=[];for(s=a;s<r.length;s++)l.push("..");return(l=l.concat(o.slice(a))).join("/")}};function be(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function _e(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function we(e,t,n){var r=n>0?n:be(e)+1,o=new Array(r),i=_e(e,o,0,o.length);return t&&(o.length=i),o}var Se={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Se.ttys[e]={input:[],output:[],ops:t},Ne.registerDevice(e,Se.stream_ops)},stream_ops:{open:function(e){var t=Se.ttys[e.node.rdev];if(!t)throw new Ne.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.get_char)throw new Ne.ErrnoError(60);for(var i=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ne.ErrnoError(29)}if(void 0===s&&0===i)throw new Ne.ErrnoError(6);if(null==s)break;i++,t[n+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.put_char)throw new Ne.ErrnoError(60);try{for(var i=0;i<r;i++)e.tty.ops.put_char(e.tty,t[n+i])}catch(e){throw new Ne.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=we(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(v(le(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(v(le(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(g(le(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(g(le(e.output,0)),e.output=[])}}};function Ee(e,t){return b.fill(0,e,e+t),e}function Te(e,t){return Math.ceil(e/t)*t}function ke(e){e=Te(e,65536);var t=kt(65536,e);return t?Ee(t,e):0}var xe={ops_table:null,mount:function(e){return xe.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Ne.isBlkdev(n)||Ne.isFIFO(n))throw new Ne.ErrnoError(63);xe.ops_table||(xe.ops_table={dir:{node:{getattr:xe.node_ops.getattr,setattr:xe.node_ops.setattr,lookup:xe.node_ops.lookup,mknod:xe.node_ops.mknod,rename:xe.node_ops.rename,unlink:xe.node_ops.unlink,rmdir:xe.node_ops.rmdir,readdir:xe.node_ops.readdir,symlink:xe.node_ops.symlink},stream:{llseek:xe.stream_ops.llseek}},file:{node:{getattr:xe.node_ops.getattr,setattr:xe.node_ops.setattr},stream:{llseek:xe.stream_ops.llseek,read:xe.stream_ops.read,write:xe.stream_ops.write,allocate:xe.stream_ops.allocate,mmap:xe.stream_ops.mmap,msync:xe.stream_ops.msync}},link:{node:{getattr:xe.node_ops.getattr,setattr:xe.node_ops.setattr,readlink:xe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:xe.node_ops.getattr,setattr:xe.node_ops.setattr},stream:Ne.chrdev_stream_ops}});var o=Ne.createNode(e,t,n,r);return Ne.isDir(o.mode)?(o.node_ops=xe.ops_table.dir.node,o.stream_ops=xe.ops_table.dir.stream,o.contents={}):Ne.isFile(o.mode)?(o.node_ops=xe.ops_table.file.node,o.stream_ops=xe.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ne.isLink(o.mode)?(o.node_ops=xe.ops_table.link.node,o.stream_ops=xe.ops_table.link.stream):Ne.isChrdev(o.mode)&&(o.node_ops=xe.ops_table.chrdev.node,o.stream_ops=xe.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ne.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ne.isDir(e.mode)?t.size=4096:Ne.isFile(e.mode)?t.size=e.usedBytes:Ne.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&xe.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ne.genericErrors[44]},mknod:function(e,t,n,r){return xe.createNode(e,t,n,r)},rename:function(e,t,n){if(Ne.isDir(e.mode)){var r;try{r=Ne.lookupNode(t,n)}catch(e){}if(r)for(var o in r.contents)throw new Ne.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=Ne.lookupNode(e,t);for(var r in n.contents)throw new Ne.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=xe.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Ne.isLink(e.mode))throw new Ne.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,r);if(a>8&&i.subarray)t.set(i.subarray(o,o+a),n);else for(var s=0;s<a;s++)t[n+s]=i[o+s];return a},write:function(e,t,n,r,o,i){if(t.buffer===y.buffer&&(i=!1),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===o)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(o+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),o),r}if(xe.expandFileStorage(a,o+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),o);else for(var s=0;s<r;s++)a.contents[o+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,o+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Ne.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Ne.ErrnoError(28);return r},allocate:function(e,t,n){xe.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,o){if(!Ne.isFile(e.node.mode))throw new Ne.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||s.buffer!==y.buffer){if((n>0||n+t<s.length)&&(s=s.subarray?s.subarray(n,n+t):Array.prototype.slice.call(s,n,n+t)),a=!0,!(i=ke(t)))throw new Ne.ErrnoError(48);y.set(s,i)}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync:function(e,t,n,r,o){return xe.stream_ops.write(e,t,0,r,n,!1),0}}};function Ce(e,t,n,r){var o=r?"":"al ".concat(e);a(e,(function(n){C(n,'Loading data file "'.concat(e,'" failed (no arrayBuffer).')),t(new Uint8Array(n)),o&&W()}),(function(t){if(!n)throw'Loading data file "'.concat(e,'" failed.');n()})),o&&G()}var Oe=o.preloadPlugins||[];function Pe(e,t,n,r){"undefined"!=typeof Browser&&Browser.init();var o=!1;return Oe.forEach((function(i){o||i.canHandle(t)&&(i.handle(e,t,n,r),o=!0)})),o}function Ie(e,t,n,r,o,i,a,s,l,u){var c=t?ye.resolve(me.join2(e,t)):e;function f(n){function f(n){u&&u(),s||Ne.createDataFile(e,t,n,r,o,l),i&&i(),W()}Pe(n,c,f,(function(){a&&a(),W()}))||f(n)}"cp ".concat(c),G(),"string"==typeof n?Ce(n,(function(e){return f(e)}),a):f(n)}function Ae(e){var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error("Unknown file open mode: ".concat(e));return t}function Re(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}var Me={dbs:{},indexedDB:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==("undefined"==typeof window?"undefined":ne(window))&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),C(e,"IDBFS used, but indexedDB not supported"),e})),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return xe.mount.apply(null,arguments)},syncfs:function(e,t,n){Me.getLocalSet(e,(function(r,o){if(r)return n(r);Me.getRemoteSet(e,(function(e,r){if(e)return n(e);var i=t?r:o,a=t?o:r;Me.reconcile(i,a,n)}))}))},quit:function(){Object.values(Me.dbs).forEach((function(e){return e.close()})),Me.dbs={}},getDB:function(e,t){var r,o=Me.dbs[e];if(o)return t(null,o);try{r=Me.indexedDB().open(e,Me.DB_VERSION)}catch(e){return t(e)}if(!r)return t("Unable to connect to IndexedDB");r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;(t=n.objectStoreNames.contains(Me.DB_STORE_NAME)?r.objectStore(Me.DB_STORE_NAME):n.createObjectStore(Me.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){o=r.result,Me.dbs[e]=o,t(null,o)},r.onerror=function(e){t(n.error),e.preventDefault()}},getLocalSet:function(e,t){var n={};function r(e){return"."!==e&&".."!==e}function o(e){return function(t){return me.join2(e,t)}}for(var i=Ne.readdir(e.mountpoint).filter(r).map(o(e.mountpoint));i.length;){var a,s=i.pop();try{a=Ne.stat(s)}catch(e){return t(e)}Ne.isDir(a.mode)&&i.push.apply(i,Ne.readdir(s).filter(r).map(o(s))),n[s]={timestamp:a.mtime}}return t(null,{type:"local",entries:n})},getRemoteSet:function(e,t){var r={};Me.getDB(e.mountpoint,(function(e,o){if(e)return t(e);try{var i=o.transaction([Me.DB_STORE_NAME],"readonly");i.onerror=function(e){t(n.error),e.preventDefault()},i.objectStore(Me.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t(null,{type:"remote",db:o,entries:r});r[n.primaryKey]={timestamp:n.key},n.continue()}}catch(e){return t(e)}}))},loadLocalEntry:function(e,t){var n,r;try{r=Ne.lookupPath(e).node,n=Ne.stat(e)}catch(e){return t(e)}return Ne.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):Ne.isFile(n.mode)?(r.contents=xe.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(Ne.isDir(t.mode))Ne.mkdirTree(e,t.mode);else{if(!Ne.isFile(t.mode))return n(new Error("node type not supported"));Ne.writeFile(e,t.contents,{canOwn:!0})}Ne.chmod(e,t.mode),Ne.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=Ne.stat(e);Ne.isDir(n.mode)?Ne.rmdir(e):Ne.isFile(n.mode)&&Ne.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,r){var o=e.get(t);o.onsuccess=function(e){r(null,e.target.result)},o.onerror=function(e){r(n.error),e.preventDefault()}},storeRemoteEntry:function(e,t,r,o){try{var i=e.put(r,t)}catch(e){return void o(e)}i.onsuccess=function(){o(null)},i.onerror=function(e){o(n.error),e.preventDefault()}},removeRemoteEntry:function(e,t,r){var o=e.delete(t);o.onsuccess=function(){r(null)},o.onerror=function(e){r(n.error),e.preventDefault()}},reconcile:function(e,t,r){var o=0,i=[];Object.keys(e.entries).forEach((function(n){var r=e.entries[n],a=t.entries[n];a&&r.timestamp.getTime()==a.timestamp.getTime()||(i.push(n),o++)}));var a=[];if(Object.keys(t.entries).forEach((function(t){e.entries[t]||(a.push(t),o++)})),!o)return r(null);var s=!1,l=("remote"===e.type?e.db:t.db).transaction([Me.DB_STORE_NAME],"readwrite"),u=l.objectStore(Me.DB_STORE_NAME);function c(e){if(e&&!s)return s=!0,r(e)}l.onerror=function(e){c(n.error),e.preventDefault()},l.oncomplete=function(e){s||r(null)},i.sort().forEach((function(e){"local"===t.type?Me.loadRemoteEntry(u,e,(function(t,n){if(t)return c(t);Me.storeLocalEntry(e,n,c)})):Me.loadLocalEntry(e,(function(t,n){if(t)return c(t);Me.storeRemoteEntry(u,e,n,c)}))})),a.sort().reverse().forEach((function(e){"local"===t.type?Me.removeLocalEntry(e,c):Me.removeRemoteEntry(u,e,c)}))}},Ne={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=ye.resolve(e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if((t=Object.assign(n,t)).recurse_count>8)throw new Ne.ErrnoError(32);for(var r=e.split("/").filter((function(e){return!!e})),o=Ne.root,i="/",a=0;a<r.length;a++){var s=a===r.length-1;if(s&&t.parent)break;if(o=Ne.lookupNode(o,r[a]),i=me.join2(i,r[a]),Ne.isMountpoint(o)&&(!s||s&&t.follow_mount)&&(o=o.mounted.root),!s||t.follow)for(var l=0;Ne.isLink(o.mode);){var u=Ne.readlink(i);i=ye.resolve(me.dirname(i),u);var c=Ne.lookupPath(i,{recurse_count:t.recurse_count+1});if(o=c.node,l++>40)throw new Ne.ErrnoError(32)}}return{path:i,node:o}},getPath:function(e){for(var t;;){if(Ne.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?"".concat(n,"/").concat(t):n+t:n}t=t?"".concat(e.name,"/").concat(t):e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Ne.nameTable.length},hashAddNode:function(e){var t=Ne.hashName(e.parent.id,e.name);e.name_next=Ne.nameTable[t],Ne.nameTable[t]=e},hashRemoveNode:function(e){var t=Ne.hashName(e.parent.id,e.name);if(Ne.nameTable[t]===e)Ne.nameTable[t]=e.name_next;else for(var n=Ne.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Ne.mayLookup(e);if(n)throw new Ne.ErrnoError(n,e);for(var r=Ne.hashName(e.id,t),o=Ne.nameTable[r];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return Ne.lookup(e,t)},createNode:function(e,t,n,r){var o=new Ne.FSNode(e,t,n,r);return Ne.hashAddNode(o),o},destroyNode:function(e){Ne.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ne.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Ne.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Ne.lookupNode(e,t),20}catch(e){}return Ne.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Ne.lookupNode(e,t)}catch(e){return e.errno}var o=Ne.nodePermissions(e,"wx");if(o)return o;if(n){if(!Ne.isDir(r.mode))return 54;if(Ne.isRoot(r)||Ne.getPath(r)===Ne.cwd())return 10}else if(Ne.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Ne.isLink(e.mode)?32:Ne.isDir(e.mode)&&("r"!==Ne.flagsToPermissionString(t)||512&t)?31:Ne.nodePermissions(e,Ne.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne.MAX_OPEN_FDS,n=e;n<=t;n++)if(!Ne.streams[n])return n;throw new Ne.ErrnoError(33)},getStream:function(e){return Ne.streams[e]},createStream:function(e,t,n){Ne.FSStream||(Ne.FSStream=function(){this.shared={}},Ne.FSStream.prototype={},Object.defineProperties(Ne.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Ne.FSStream,e);var r=Ne.nextfd(t,n);return e.fd=r,Ne.streams[r]=e,e},closeStream:function(e){Ne.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ne.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ne.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ne.devices[e]={stream_ops:t}},getDevice:function(e){return Ne.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Ne.syncFSRequests++,Ne.syncFSRequests>1&&g("warning: ".concat(Ne.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"));var n=Ne.getMounts(Ne.root.mount),r=0;function o(e){return Ne.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++r>=n.length&&o(null)}n.forEach((function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)}))},mount:function(e,t,n){var r,o="/"===n,i=!n;if(o&&Ne.root)throw new Ne.ErrnoError(10);if(!o&&!i){var a=Ne.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,Ne.isMountpoint(r))throw new Ne.ErrnoError(10);if(!Ne.isDir(r.mode))throw new Ne.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,o?Ne.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var t=Ne.lookupPath(e,{follow_mount:!1});if(!Ne.isMountpoint(t.node))throw new Ne.ErrnoError(28);var n=t.node,r=n.mounted,o=Ne.getMounts(r);Object.keys(Ne.nameTable).forEach((function(e){for(var t=Ne.nameTable[e];t;){var n=t.name_next;o.includes(t.mount)&&Ne.destroyNode(t),t=n}})),n.mounted=null;var i=n.mount.mounts.indexOf(r);n.mount.mounts.splice(i,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Ne.lookupPath(e,{parent:!0}).node,o=me.basename(e);if(!o||"."===o||".."===o)throw new Ne.ErrnoError(28);var i=Ne.mayCreate(r,o);if(i)throw new Ne.ErrnoError(i);if(!r.node_ops.mknod)throw new Ne.ErrnoError(63);return r.node_ops.mknod(r,o,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ne.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ne.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",o=0;o<n.length;++o)if(n[o]){r+="/"+n[o];try{Ne.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,Ne.mknod(e,t,n)},symlink:function(e,t){if(!ye.resolve(e))throw new Ne.ErrnoError(44);var n=Ne.lookupPath(t,{parent:!0}).node;if(!n)throw new Ne.ErrnoError(44);var r=me.basename(t),o=Ne.mayCreate(n,r);if(o)throw new Ne.ErrnoError(o);if(!n.node_ops.symlink)throw new Ne.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,o=me.dirname(e),i=me.dirname(t),a=me.basename(e),s=me.basename(t);if(n=Ne.lookupPath(e,{parent:!0}).node,r=Ne.lookupPath(t,{parent:!0}).node,!n||!r)throw new Ne.ErrnoError(44);if(n.mount!==r.mount)throw new Ne.ErrnoError(75);var l,u=Ne.lookupNode(n,a),c=ye.relative(e,i);if("."!==c.charAt(0))throw new Ne.ErrnoError(28);if("."!==(c=ye.relative(t,o)).charAt(0))throw new Ne.ErrnoError(55);try{l=Ne.lookupNode(r,s)}catch(e){}if(u!==l){var f=Ne.isDir(u.mode),h=Ne.mayDelete(n,a,f);if(h)throw new Ne.ErrnoError(h);if(h=l?Ne.mayDelete(r,s,f):Ne.mayCreate(r,s))throw new Ne.ErrnoError(h);if(!n.node_ops.rename)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(u)||l&&Ne.isMountpoint(l))throw new Ne.ErrnoError(10);if(r!==n&&(h=Ne.nodePermissions(n,"w")))throw new Ne.ErrnoError(h);Ne.hashRemoveNode(u);try{n.node_ops.rename(u,r,s)}catch(e){throw e}finally{Ne.hashAddNode(u)}}},rmdir:function(e){var t=Ne.lookupPath(e,{parent:!0}).node,n=me.basename(e),r=Ne.lookupNode(t,n),o=Ne.mayDelete(t,n,!0);if(o)throw new Ne.ErrnoError(o);if(!t.node_ops.rmdir)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);t.node_ops.rmdir(t,n),Ne.destroyNode(r)},readdir:function(e){var t=Ne.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ne.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ne.lookupPath(e,{parent:!0}).node;if(!t)throw new Ne.ErrnoError(44);var n=me.basename(e),r=Ne.lookupNode(t,n),o=Ne.mayDelete(t,n,!1);if(o)throw new Ne.ErrnoError(o);if(!t.node_ops.unlink)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);t.node_ops.unlink(t,n),Ne.destroyNode(r)},readlink:function(e){var t=Ne.lookupPath(e).node;if(!t)throw new Ne.ErrnoError(44);if(!t.node_ops.readlink)throw new Ne.ErrnoError(28);return ye.resolve(Ne.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Ne.lookupPath(e,{follow:!t}).node;if(!n)throw new Ne.ErrnoError(44);if(!n.node_ops.getattr)throw new Ne.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Ne.stat(e,!0)},chmod:function(e,t,n){var r;if(!(r="string"==typeof e?Ne.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Ne.chmod(e,t,!0)},fchmod:function(e,t){var n=Ne.getStream(e);if(!n)throw new Ne.ErrnoError(8);Ne.chmod(n.node,t)},chown:function(e,t,n,r){var o;if(!(o="string"==typeof e?Ne.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,n){Ne.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Ne.getStream(e);if(!r)throw new Ne.ErrnoError(8);Ne.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Ne.ErrnoError(28);var n;if(!(n="string"==typeof e?Ne.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);if(Ne.isDir(n.mode))throw new Ne.ErrnoError(31);if(!Ne.isFile(n.mode))throw new Ne.ErrnoError(28);var r=Ne.nodePermissions(n,"w");if(r)throw new Ne.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Ne.getStream(e);if(!n)throw new Ne.ErrnoError(8);if(0==(2097155&n.flags))throw new Ne.ErrnoError(28);Ne.truncate(n.node,t)},utime:function(e,t,n){var r=Ne.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n){if(""===e)throw new Ne.ErrnoError(44);var r;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?Ae(t):t)?4095&n|32768:0,"object"==ne(e))r=e;else{e=me.normalize(e);try{r=Ne.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var i=!1;if(64&t)if(r){if(128&t)throw new Ne.ErrnoError(20)}else r=Ne.mknod(e,n,0),i=!0;if(!r)throw new Ne.ErrnoError(44);if(Ne.isChrdev(r.mode)&&(t&=-513),65536&t&&!Ne.isDir(r.mode))throw new Ne.ErrnoError(54);if(!i){var a=Ne.mayOpen(r,t);if(a)throw new Ne.ErrnoError(a)}512&t&&!i&&Ne.truncate(r,0),t&=-131713;var s=Ne.createStream({node:r,path:Ne.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!o.logReadFiles||1&t||(Ne.readFiles||(Ne.readFiles={}),e in Ne.readFiles||(Ne.readFiles[e]=1)),s},close:function(e){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ne.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ne.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Ne.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,o){if(r<0||o<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(1==(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.read)throw new Ne.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new Ne.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,n,r,o);return i||(e.position+=a),a},write:function(e,t,n,r,o,i){if(r<0||o<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(0==(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.write)throw new Ne.ErrnoError(28);e.seekable&&1024&e.flags&&Ne.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Ne.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,n,r,o,i);return a||(e.position+=s),s},allocate:function(e,t,n){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(t<0||n<=0)throw new Ne.ErrnoError(28);if(0==(2097155&e.flags))throw new Ne.ErrnoError(8);if(!Ne.isFile(e.node.mode)&&!Ne.isDir(e.node.mode))throw new Ne.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ne.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,o){if(0!=(2&r)&&0==(2&o)&&2!=(2097155&e.flags))throw new Ne.ErrnoError(2);if(1==(2097155&e.flags))throw new Ne.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ne.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,o)},msync:function(e,t,n,r,o){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,o):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Ne.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'.concat(n.encoding,'"'));var r=Ne.open(e,n.flags),o=Ne.stat(e),i=o.size,a=new Uint8Array(i);return Ne.read(r,a,0,i,0),"utf8"===n.encoding?t=le(a,0):"binary"===n.encoding&&(t=a),Ne.close(r),t},writeFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var r=Ne.open(e,n.flags,n.mode);if("string"==typeof t){var o=new Uint8Array(be(t)+1),i=_e(t,o,0,o.length);Ne.write(r,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ne.write(r,t,0,t.byteLength,void 0,n.canOwn)}Ne.close(r)},cwd:function(){return Ne.currentPath},chdir:function(e){var t=Ne.lookupPath(e,{follow:!0});if(null===t.node)throw new Ne.ErrnoError(44);if(!Ne.isDir(t.node.mode))throw new Ne.ErrnoError(54);var n=Ne.nodePermissions(t.node,"x");if(n)throw new Ne.ErrnoError(n);Ne.currentPath=t.path},createDefaultDirectories:function(){Ne.mkdir("/tmp"),Ne.mkdir("/home"),Ne.mkdir("/home/web_user")},createDefaultDevices:function(){Ne.mkdir("/dev"),Ne.registerDevice(Ne.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,o){return r}}),Ne.mkdev("/dev/null",Ne.makedev(1,3)),Se.register(Ne.makedev(5,0),Se.default_tty_ops),Se.register(Ne.makedev(6,0),Se.default_tty1_ops),Ne.mkdev("/dev/tty",Ne.makedev(5,0)),Ne.mkdev("/dev/tty1",Ne.makedev(6,0));var e=new Uint8Array(1024),t=0,n=function(){return 0===t&&(t=ge(e).byteLength),e[--t]};Ne.createDevice("/dev","random",n),Ne.createDevice("/dev","urandom",n),Ne.mkdir("/dev/shm"),Ne.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ne.mkdir("/proc");var e=Ne.mkdir("/proc/self");Ne.mkdir("/proc/self/fd"),Ne.mount({mount:function(){var t=Ne.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=Ne.getStream(n);if(!r)throw new Ne.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return o.parent=o,o}},t}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?Ne.createDevice("/dev","stdin",o.stdin):Ne.symlink("/dev/tty","/dev/stdin"),o.stdout?Ne.createDevice("/dev","stdout",null,o.stdout):Ne.symlink("/dev/tty","/dev/stdout"),o.stderr?Ne.createDevice("/dev","stderr",null,o.stderr):Ne.symlink("/dev/tty1","/dev/stderr"),Ne.open("/dev/stdin",0),Ne.open("/dev/stdout",1),Ne.open("/dev/stderr",1)},ensureErrnoError:function(){Ne.ErrnoError||(Ne.ErrnoError=function(e,t){this.name="ErrnoError",this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ne.ErrnoError.prototype=new Error,Ne.ErrnoError.prototype.constructor=Ne.ErrnoError,[44].forEach((function(e){Ne.genericErrors[e]=new Ne.ErrnoError(e),Ne.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ne.ensureErrnoError(),Ne.nameTable=new Array(4096),Ne.mount(xe,{},"/"),Ne.createDefaultDirectories(),Ne.createDefaultDevices(),Ne.createSpecialDirectories(),Ne.filesystems={MEMFS:xe,IDBFS:Me}},init:function(e,t,n){Ne.init.initialized=!0,Ne.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=n||o.stderr,Ne.createStandardStreams()},quit:function(){Ne.init.initialized=!1;for(var e=0;e<Ne.streams.length;e++){var t=Ne.streams[e];t&&Ne.close(t)}},findObject:function(e,t){var n=Ne.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(r=Ne.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Ne.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=me.basename(e),r=Ne.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createPath:function(e,t,n,r){e="string"==typeof e?e:Ne.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=me.join2(e,i);try{Ne.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,o){var i=me.join2("string"==typeof e?e:Ne.getPath(e),t),a=Re(r,o);return Ne.create(i,a)},createDataFile:function(e,t,n,r,o,i){var a=t;e&&(e="string"==typeof e?e:Ne.getPath(e),a=t?me.join2(e,t):e);var s=Re(r,o),l=Ne.create(a,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),c=0,f=n.length;c<f;++c)u[c]=n.charCodeAt(c);n=u}Ne.chmod(l,146|s);var h=Ne.open(l,577);Ne.write(h,n,0,n.length,0,i),Ne.close(h),Ne.chmod(l,s)}return l},createDevice:function(e,t,n,r){var o=me.join2("string"==typeof e?e:Ne.getPath(e),t),i=Re(!!n,!!r);Ne.createDevice.major||(Ne.createDevice.major=64);var a=Ne.makedev(Ne.createDevice.major++,0);return Ne.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,o,i){for(var a=0,s=0;s<o;s++){var l;try{l=n()}catch(e){throw new Ne.ErrnoError(29)}if(void 0===l&&0===a)throw new Ne.ErrnoError(6);if(null==l)break;a++,t[r+s]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,o,i){for(var a=0;a<o;a++)try{r(t[n+a])}catch(e){throw new Ne.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Ne.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!i)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=we(i(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ne.ErrnoError(29)}},createLazyFile:function(e,t,n,r,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,i=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=r);var s=this;s.setDataGetter((function(e){var t=e*a,o=(e+1)*a-1;if(o=Math.min(o,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),r!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):we(o.responseText||"",!0)}(t,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&r||(a=r=1,r=this.getter(0).length,a=r,v("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var l=Ne.createFile(e,t,s,r,o);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var u={};function c(e,t,n,r,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,r);if(i.slice)for(var s=0;s<a;s++)t[n+s]=i[o+s];else for(s=0;s<a;s++)t[n+s]=i.get(o+s);return a}return Object.keys(l.stream_ops).forEach((function(e){var t=l.stream_ops[e];u[e]=function(){return Ne.forceLoadFile(l),t.apply(null,arguments)}})),u.read=function(e,t,n,r,o){return Ne.forceLoadFile(l),c(e,t,n,r,o)},u.mmap=function(e,t,n,r,o){Ne.forceLoadFile(l);var i=ke(t);if(!i)throw new Ne.ErrnoError(48);return c(e,y,i,t,n),{ptr:i,allocated:!0}},l.stream_ops=u,l}},je={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(me.isAbs(t))return t;var r;if(r=-100===e?Ne.cwd():je.getStreamFromFD(e).path,0==t.length){if(!n)throw new Ne.ErrnoError(44);return r}return me.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&me.normalize(t)!==me.normalize(Ne.getPath(e.node)))return-54;throw e}w[n>>2]=r.dev,w[n+8>>2]=r.ino,w[n+12>>2]=r.mode,S[n+16>>2]=r.nlink,w[n+20>>2]=r.uid,w[n+24>>2]=r.gid,w[n+28>>2]=r.rdev,T[n+40>>3]=BigInt(r.size),w[n+48>>2]=4096,w[n+52>>2]=r.blocks;var o=r.atime.getTime(),i=r.mtime.getTime(),a=r.ctime.getTime();return T[n+56>>3]=BigInt(Math.floor(o/1e3)),S[n+64>>2]=o%1e3*1e3,T[n+72>>3]=BigInt(Math.floor(i/1e3)),S[n+80>>2]=i%1e3*1e3,T[n+88>>3]=BigInt(Math.floor(a/1e3)),S[n+96>>2]=a%1e3*1e3,T[n+104>>3]=BigInt(r.ino),0},doMsync:function(e,t,n,r,o){if(!Ne.isFile(t.node.mode))throw new Ne.ErrnoError(43);if(2&r)return 0;var i=b.slice(e,e+n);Ne.msync(t,i,o,n,r)},varargs:void 0,get:function(){return je.varargs+=4,w[je.varargs-4>>2]},getStr:function(e){return ue(e)},getStreamFromFD:function(e){var t=Ne.getStream(e);if(!t)throw new Ne.ErrnoError(8);return t}};function De(e,t,n){je.varargs=n;try{var r=je.getStreamFromFD(e);switch(t){case 0:return(o=je.get())<0?-28:Ne.createStream(r,o).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var o=je.get();return r.flags|=o,0;case 5:return o=je.get(),_[o+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return pe(28),-1;default:return-28}}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function Le(e,t,n){je.varargs=n;try{var r=je.getStreamFromFD(e);switch(t){case 21509:case 21505:return r.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var o=je.get();return w[o>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:return o=je.get(),Ne.ioctl(r,t,o);case 21523:case 21524:return r.tty?0:-59;default:return-28}}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function Fe(e,t,n,r){je.varargs=r;try{t=je.getStr(t),t=je.calculateAt(e,t);var o=r?je.get():0;return Ne.open(t,n,o).fd}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function ze(e,t){try{return e=je.getStr(e),je.doStat(Ne.stat,e,t)}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ue(e,t,n,r,o,i){try{var a=je.getStreamFromFD(o);2&n&&je.doMsync(e,a,t,r,i),Ne.munmap(a)}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function Be(){H("")}var Ve=[];function Ge(e,t){var n;for(Ve.length=0,t>>=2;n=b[e++];)t+=105!=n&t,Ve.push(105==n?w[t]:(106==n?T:k)[t++>>1]),++t;return Ve}function We(e,t,n){var r=Ge(t,n);return ee[e].apply(null,r)}function He(e,t,n){return We(e,t,n)}function qe(){return Date.now()}function $e(e,t,n){b.copyWithin(e,t,t+n)}function Ke(e){var t=m.buffer;try{return m.grow(e-t.byteLength+65535>>>16),O(),1}catch(e){}}function Xe(e){var t=b.length;if((e>>>=0)>2147483648)return!1;for(var n,r,o=1;o<=4;o*=2){var i=t*(1+.2/o);if(i=Math.min(i,e+100663296),Ke(Math.min(2147483648,(n=Math.max(e,i))+((r=65536)-n%r)%r)))return!0}return!1}var Ye={};function Qe(){return u||"./this.program"}function Je(){if(!Je.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==("undefined"==typeof navigator?"undefined":ne(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Qe()};for(var t in Ye)void 0===Ye[t]?delete e[t]:e[t]=Ye[t];var n=[];for(var t in e)n.push(t+"="+e[t]);Je.strings=n}return Je.strings}function Ze(e,t){for(var n=0;n<e.length;++n)y[t++>>0]=e.charCodeAt(n);y[t>>0]=0}function et(e,t){var n=0;return Je().forEach((function(r,o){var i=t+n;S[e+4*o>>2]=i,Ze(r,i),n+=r.length+1})),0}function tt(e,t){var n=Je();S[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),S[t>>2]=r,0}function nt(e){try{var t=je.getStreamFromFD(e);return Ne.close(t),0}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return e.errno}}function rt(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=S[t>>2],s=S[t+4>>2];t+=8;var l=Ne.read(e,y,a,s,r);if(l<0)return-1;if(o+=l,l<s)break;void 0!==r&&(r+=l)}return o}function ot(e,t,n,r){try{var o=rt(je.getStreamFromFD(e),t,n);return S[r>>2]=o,0}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return e.errno}}var it=9007199254740992,at=-9007199254740992;function st(e){return e<at||e>it?NaN:Number(e)}function lt(e,t,n,r){try{if(t=st(t),isNaN(t))return 61;var o=je.getStreamFromFD(e);return Ne.llseek(o,t,n),T[r>>3]=BigInt(o.position),o.getdents&&0===t&&0===n&&(o.getdents=null),0}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return e.errno}}function ut(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=S[t>>2],s=S[t+4>>2];t+=8;var l=Ne.write(e,y,a,s,r);if(l<0)return-1;o+=l,void 0!==r&&(r+=l)}return o}function ct(e,t,n,r){try{var o=ut(je.getStreamFromFD(e),t,n);return S[r>>2]=o,0}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return e.errno}}var ft=0;function ht(e,t,n){return _e(e,b,t,n)}function dt(e){var t=be(e)+1,n=Et(t);return n&&ht(e,n,t),n}function pt(e){return o["_"+e]}function mt(e,t){y.set(e,t)}function vt(e){var t=be(e)+1,n=At(t);return ht(e,n,t),n}function gt(e,t,n,r,o){var i={string:function(e){var t=0;return null!=e&&0!==e&&(t=vt(e)),t},array:function(e){var t=At(e.length);return mt(e,t),t}},a=pt(e),s=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=i[n[u]];c?(0===l&&(l=Pt()),s[u]=c(r[u])):s[u]=r[u]}var f=a.apply(null,s);return f=function(e){return 0!==l&&It(l),function(e){return"string"===t?ue(e):"boolean"===t?Boolean(e):e}(e)}(f)}var yt=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ne.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},bt=365,_t=146;Object.defineProperties(yt.prototype,{read:{get:function(){return(this.mode&bt)===bt},set:function(e){e?this.mode|=bt:this.mode&=~bt}},write:{get:function(){return(this.mode&_t)===_t},set:function(e){e?this.mode|=_t:this.mode&=~_t}},isFolder:{get:function(){return Ne.isDir(this.mode)}},isDevice:{get:function(){return Ne.isChrdev(this.mode)}}}),Ne.FSNode=yt,Ne.createPreloadedFile=Ie,Ne.staticInit();var wt,St={b:ce,c:he,a:de,f:De,i:Le,j:Fe,q:ze,r:Ue,d:Be,l:He,m:qe,k:$e,p:Xe,n:et,o:tt,e:nt,h:ot,s:lt,g:ct},Et=(Z(),o._cqt_init=function(){return(o._cqt_init=o.asm.v).apply(null,arguments)},o._cqt_calc=function(){return(o._cqt_calc=o.asm.w).apply(null,arguments)},o._cqt_render_line=function(){return(o._cqt_render_line=o.asm.x).apply(null,arguments)},o._cqt_bin_to_freq=function(){return(o._cqt_bin_to_freq=o.asm.y).apply(null,arguments)},o._fluid_synth_noteon=function(){return(o._fluid_synth_noteon=o.asm.z).apply(null,arguments)},o._fluid_synth_noteoff=function(){return(o._fluid_synth_noteoff=o.asm.A).apply(null,arguments)},o._fluid_synth_write_float=function(){return(o._fluid_synth_write_float=o.asm.B).apply(null,arguments)},o._fluid_synth_all_notes_off=function(){return(o._fluid_synth_all_notes_off=o.asm.C).apply(null,arguments)},o._adl_rt_noteOn=function(){return(o._adl_rt_noteOn=o.asm.D).apply(null,arguments)},o._adl_rt_noteOff=function(){return(o._adl_rt_noteOff=o.asm.E).apply(null,arguments)},o._adl_rt_patchChange=function(){return(o._adl_rt_patchChange=o.asm.F).apply(null,arguments)},o._adl_rt_pitchBend=function(){return(o._adl_rt_pitchBend=o.asm.G).apply(null,arguments)},o._adl_rt_controllerChange=function(){return(o._adl_rt_controllerChange=o.asm.H).apply(null,arguments)},o._adl_rt_channelAfterTouch=function(){return(o._adl_rt_channelAfterTouch=o.asm.I).apply(null,arguments)},o._adl_panic=function(){return(o._adl_panic=o.asm.J).apply(null,arguments)},o._adl_rt_resetState=function(){return(o._adl_rt_resetState=o.asm.K).apply(null,arguments)},o._tp_note_on=function(){return(o._tp_note_on=o.asm.L).apply(null,arguments)},o._tp_note_off=function(){return(o._tp_note_off=o.asm.M).apply(null,arguments)},o._tp_program_change=function(){return(o._tp_program_change=o.asm.N).apply(null,arguments)},o._tp_pitch_bend=function(){return(o._tp_pitch_bend=o.asm.O).apply(null,arguments)},o._tp_control_change=function(){return(o._tp_control_change=o.asm.P).apply(null,arguments)},o._tp_channel_pressure=function(){return(o._tp_channel_pressure=o.asm.Q).apply(null,arguments)},o._tp_render=function(){return(o._tp_render=o.asm.R).apply(null,arguments)},o._tp_panic=function(){return(o._tp_panic=o.asm.S).apply(null,arguments)},o._tp_panic_channel=function(){return(o._tp_panic_channel=o.asm.T).apply(null,arguments)},o._tp_reset=function(){return(o._tp_reset=o.asm.U).apply(null,arguments)},o._tp_init=function(){return(o._tp_init=o.asm.V).apply(null,arguments)},o._new_fluid_settings=function(){return(o._new_fluid_settings=o.asm.W).apply(null,arguments)},o._fluid_settings_setstr=function(){return(o._fluid_settings_setstr=o.asm.X).apply(null,arguments)},o._fluid_settings_setint=function(){return(o._fluid_settings_setint=o.asm.Y).apply(null,arguments)},o._fluid_settings_setnum=function(){return(o._fluid_settings_setnum=o.asm.Z).apply(null,arguments)},o._new_fluid_synth=function(){return(o._new_fluid_synth=o.asm._).apply(null,arguments)},o._fluid_synth_set_interp_method=function(){return(o._fluid_synth_set_interp_method=o.asm.$).apply(null,arguments)},o._adl_init=function(){return(o._adl_init=o.asm.aa).apply(null,arguments)},o._adl_setSoftPanEnabled=function(){return(o._adl_setSoftPanEnabled=o.asm.ba).apply(null,arguments)},o._adl_setNumChips=function(){return(o._adl_setNumChips=o.asm.ca).apply(null,arguments)},o._tp_unload_soundfont=function(){return(o._tp_unload_soundfont=o.asm.da).apply(null,arguments)},o._tp_load_soundfont=function(){return(o._tp_load_soundfont=o.asm.ea).apply(null,arguments)},o._fluid_synth_sfload=function(){return(o._fluid_synth_sfload=o.asm.fa).apply(null,arguments)},o._tp_add_soundfont=function(){return(o._tp_add_soundfont=o.asm.ga).apply(null,arguments)},o._tp_set_reverb=function(){return(o._tp_set_reverb=o.asm.ha).apply(null,arguments)},o._fluid_synth_set_reverb_on=function(){return(o._fluid_synth_set_reverb_on=o.asm.ia).apply(null,arguments)},o._fluid_synth_set_reverb=function(){return(o._fluid_synth_set_reverb=o.asm.ja).apply(null,arguments)},o._tp_get_polyphony=function(){return(o._tp_get_polyphony=o.asm.ka).apply(null,arguments)},o._fluid_synth_get_polyphony=function(){return(o._fluid_synth_get_polyphony=o.asm.la).apply(null,arguments)},o._tp_set_polyphony=function(){return(o._tp_set_polyphony=o.asm.ma).apply(null,arguments)},o._fluid_synth_set_polyphony=function(){return(o._fluid_synth_set_polyphony=o.asm.na).apply(null,arguments)},o._tp_get_channel_in_use=function(){return(o._tp_get_channel_in_use=o.asm.oa).apply(null,arguments)},o._tp_get_channel_program=function(){return(o._tp_get_channel_program=o.asm.pa).apply(null,arguments)},o._tp_set_channel_mute=function(){return(o._tp_set_channel_mute=o.asm.qa).apply(null,arguments)},o._tp_set_bank=function(){return(o._tp_set_bank=o.asm.ra).apply(null,arguments)},o._adl_setBank=function(){return(o._adl_setBank=o.asm.sa).apply(null,arguments)},o._tp_set_synth_engine=function(){return(o._tp_set_synth_engine=o.asm.ta).apply(null,arguments)},o._tp_set_ch10_melodic=function(){return(o._tp_set_ch10_melodic=o.asm.ua).apply(null,arguments)},o._fluid_synth_bank_select=function(){return(o._fluid_synth_bank_select=o.asm.va).apply(null,arguments)},o._tp_get_fluid_synth=function(){return(o._tp_get_fluid_synth=o.asm.wa).apply(null,arguments)},o._gme_open_data=function(){return(o._gme_open_data=o.asm.xa).apply(null,arguments)},o._gme_delete=function(){return(o._gme_delete=o.asm.ya).apply(null,arguments)},o._gme_track_count=function(){return(o._gme_track_count=o.asm.za).apply(null,arguments)},o._gme_track_info=function(){return(o._gme_track_info=o.asm.Aa).apply(null,arguments)},o._gme_set_stereo_depth=function(){return(o._gme_set_stereo_depth=o.asm.Ba).apply(null,arguments)},o._gme_start_track=function(){return(o._gme_start_track=o.asm.Ca).apply(null,arguments)},o._gme_play=function(){return(o._gme_play=o.asm.Da).apply(null,arguments)},o._gme_set_fade=function(){return(o._gme_set_fade=o.asm.Ea).apply(null,arguments)},o._gme_track_ended=function(){return(o._gme_track_ended=o.asm.Fa).apply(null,arguments)},o._gme_tell_scaled=function(){return(o._gme_tell_scaled=o.asm.Ga).apply(null,arguments)},o._gme_seek_scaled=function(){return(o._gme_seek_scaled=o.asm.Ha).apply(null,arguments)},o._gme_voice_count=function(){return(o._gme_voice_count=o.asm.Ia).apply(null,arguments)},o._gme_ignore_silence=function(){return(o._gme_ignore_silence=o.asm.Ja).apply(null,arguments)},o._gme_set_tempo=function(){return(o._gme_set_tempo=o.asm.Ka).apply(null,arguments)},o._gme_mute_voices=function(){return(o._gme_mute_voices=o.asm.La).apply(null,arguments)},o._gme_disable_echo=function(){return(o._gme_disable_echo=o.asm.Ma).apply(null,arguments)},o._gme_enable_accuracy=function(){return(o._gme_enable_accuracy=o.asm.Na).apply(null,arguments)},o._gme_voice_name=function(){return(o._gme_voice_name=o.asm.Oa).apply(null,arguments)},o._xmp_start_player=function(){return(o._xmp_start_player=o.asm.Pa).apply(null,arguments)},o._xmp_end_player=function(){return(o._xmp_end_player=o.asm.Qa).apply(null,arguments)},o._xmp_play_buffer=function(){return(o._xmp_play_buffer=o.asm.Ra).apply(null,arguments)},o._xmp_get_frame_info=function(){return(o._xmp_get_frame_info=o.asm.Sa).apply(null,arguments)},o._xmp_get_module_info=function(){return(o._xmp_get_module_info=o.asm.Ta).apply(null,arguments)},o._xmp_create_context=function(){return(o._xmp_create_context=o.asm.Ua).apply(null,arguments)},o._xmp_stop_module=function(){return(o._xmp_stop_module=o.asm.Va).apply(null,arguments)},o._xmp_restart_module=function(){return(o._xmp_restart_module=o.asm.Wa).apply(null,arguments)},o._xmp_seek_time=function(){return(o._xmp_seek_time=o.asm.Xa).apply(null,arguments)},o._xmp_channel_mute=function(){return(o._xmp_channel_mute=o.asm.Ya).apply(null,arguments)},o._xmp_set_player=function(){return(o._xmp_set_player=o.asm.Za).apply(null,arguments)},o._xmp_get_player=function(){return(o._xmp_get_player=o.asm._a).apply(null,arguments)},o._xmp_get_format_list=function(){return(o._xmp_get_format_list=o.asm.$a).apply(null,arguments)},o._xmp_inject_event=function(){return(o._xmp_inject_event=o.asm.ab).apply(null,arguments)},o._xmp_set_tempo_factor=function(){return(o._xmp_set_tempo_factor=o.asm.bb).apply(null,arguments)},o._xmp_load_module_from_memory=function(){return(o._xmp_load_module_from_memory=o.asm.cb).apply(null,arguments)},o._lvgm_init=function(){return(o._lvgm_init=o.asm.db).apply(null,arguments)},o._lvgm_load_data=function(){return(o._lvgm_load_data=o.asm.eb).apply(null,arguments)},o._lvgm_get_position_ms=function(){return(o._lvgm_get_position_ms=o.asm.fb).apply(null,arguments)},o._lvgm_get_duration_ms=function(){return(o._lvgm_get_duration_ms=o.asm.gb).apply(null,arguments)},o._lvgm_start=function(){return(o._lvgm_start=o.asm.hb).apply(null,arguments)},o._lvgm_render=function(){return(o._lvgm_render=o.asm.ib).apply(null,arguments)},o._lvgm_stop=function(){return(o._lvgm_stop=o.asm.jb).apply(null,arguments)},o._lvgm_reset=function(){return(o._lvgm_reset=o.asm.kb).apply(null,arguments)},o._lvgm_set_playback_speed=function(){return(o._lvgm_set_playback_speed=o.asm.lb).apply(null,arguments)},o._lvgm_get_playback_speed=function(){return(o._lvgm_get_playback_speed=o.asm.mb).apply(null,arguments)},o._lvgm_seek_ms=function(){return(o._lvgm_seek_ms=o.asm.nb).apply(null,arguments)},o._lvgm_get_metadata=function(){return(o._lvgm_get_metadata=o.asm.ob).apply(null,arguments)},o._lvgm_get_voice_count=function(){return(o._lvgm_get_voice_count=o.asm.pb).apply(null,arguments)},o._lvgm_get_voice_name=function(){return(o._lvgm_get_voice_name=o.asm.qb).apply(null,arguments)},o._lvgm_get_voice_chip_name=function(){return(o._lvgm_get_voice_chip_name=o.asm.rb).apply(null,arguments)},o._lvgm_set_voice_mask=function(){return(o._lvgm_set_voice_mask=o.asm.sb).apply(null,arguments)},o._lvgm_get_voice_mask=function(){return(o._lvgm_get_voice_mask=o.asm.tb).apply(null,arguments)},o._malloc=function(){return(Et=o._malloc=o.asm.ub).apply(null,arguments)}),Tt=(o._free=function(){return(o._free=o.asm.vb).apply(null,arguments)},o._fluid_synth_all_sounds_off=function(){return(o._fluid_synth_all_sounds_off=o.asm.xb).apply(null,arguments)},o._fluid_synth_get_active_voice_count=function(){return(o._fluid_synth_get_active_voice_count=o.asm.yb).apply(null,arguments)},o._fluid_synth_set_chorus=function(){return(o._fluid_synth_set_chorus=o.asm.zb).apply(null,arguments)},o._fluid_synth_set_chorus_on=function(){return(o._fluid_synth_set_chorus_on=o.asm.Ab).apply(null,arguments)},o._adl_getNumChips=function(){return(o._adl_getNumChips=o.asm.Bb).apply(null,arguments)},o._adl_getBanksCount=function(){return(o._adl_getBanksCount=o.asm.Cb).apply(null,arguments)},o._adl_getBankNames=function(){return(o._adl_getBankNames=o.asm.Db).apply(null,arguments)},o._adl_generate=function(){return(o._adl_generate=o.asm.Eb).apply(null,arguments)},o._v2m_open=function(){return(o._v2m_open=o.asm.Fb).apply(null,arguments)},o._v2m_write_audio=function(){return(o._v2m_write_audio=o.asm.Gb).apply(null,arguments)},o._v2m_get_position_ms=function(){return(o._v2m_get_position_ms=o.asm.Hb).apply(null,arguments)},o._v2m_get_duration_ms=function(){return(o._v2m_get_duration_ms=o.asm.Ib).apply(null,arguments)},o._v2m_seek_ms=function(){return(o._v2m_seek_ms=o.asm.Jb).apply(null,arguments)},o._v2m_set_speed=function(){return(o._v2m_set_speed=o.asm.Kb).apply(null,arguments)},o._v2m_close=function(){return(o._v2m_close=o.asm.Lb).apply(null,arguments)},function(){return(Tt=o.asm.Mb).apply(null,arguments)}),kt=(o._n64_load_file=function(){return(o._n64_load_file=o.asm.Nb).apply(null,arguments)},o._n64_get_duration_ms=function(){return(o._n64_get_duration_ms=o.asm.Ob).apply(null,arguments)},o._n64_get_position_ms=function(){return(o._n64_get_position_ms=o.asm.Pb).apply(null,arguments)},o._n64_render_audio=function(){return(o._n64_render_audio=o.asm.Qb).apply(null,arguments)},o._n64_seek_ms=function(){return(o._n64_seek_ms=o.asm.Rb).apply(null,arguments)},o._n64_shutdown=function(){return(o._n64_shutdown=o.asm.Sb).apply(null,arguments)},o._mdx_open=function(){return(o._mdx_open=o.asm.Tb).apply(null,arguments)},o._mdx_set_dir=function(){return(o._mdx_set_dir=o.asm.Ub).apply(null,arguments)},o._mdx_set_rate=function(){return(o._mdx_set_rate=o.asm.Vb).apply(null,arguments)},o._mdx_set_max_loop=function(){return(o._mdx_set_max_loop=o.asm.Wb).apply(null,arguments)},o._mdx_next_frame=function(){return(o._mdx_next_frame=o.asm.Xb).apply(null,arguments)},o._mdx_frame_length=function(){return(o._mdx_frame_length=o.asm.Yb).apply(null,arguments)},o._mdx_calc_sample=function(){return(o._mdx_calc_sample=o.asm.Zb).apply(null,arguments)},o._mdx_calc_log=function(){return(o._mdx_calc_log=o.asm._b).apply(null,arguments)},o._mdx_get_title=function(){return(o._mdx_get_title=o.asm.$b).apply(null,arguments)},o._mdx_get_length=function(){return(o._mdx_get_length=o.asm.ac).apply(null,arguments)},o._mdx_get_tracks=function(){return(o._mdx_get_tracks=o.asm.bc).apply(null,arguments)},o._mdx_get_current_notes=function(){return(o._mdx_get_current_notes=o.asm.cc).apply(null,arguments)},o._mdx_close=function(){return(o._mdx_close=o.asm.dc).apply(null,arguments)},o._mdx_create_context=function(){return(o._mdx_create_context=o.asm.ec).apply(null,arguments)},o._mdx_get_position_ms=function(){return(o._mdx_get_position_ms=o.asm.fc).apply(null,arguments)},o._mdx_set_speed=function(){return(o._mdx_set_speed=o.asm.gc).apply(null,arguments)},o._mdx_set_position_ms=function(){return(o._mdx_set_position_ms=o.asm.hc).apply(null,arguments)},o._mdx_get_pdx_filename=function(){return(o._mdx_get_pdx_filename=o.asm.ic).apply(null,arguments)},o._mdx_get_track_name=function(){return(o._mdx_get_track_name=o.asm.jc).apply(null,arguments)},o._mdx_get_track_mask=function(){return(o._mdx_get_track_mask=o.asm.kc).apply(null,arguments)},o._mdx_set_track_mask=function(){return(o._mdx_set_track_mask=o.asm.lc).apply(null,arguments)},function(){return(kt=o.asm.mc).apply(null,arguments)}),xt=function(){return(xt=o.asm.nc).apply(null,arguments)},Ct=function(){return(Ct=o.asm.oc).apply(null,arguments)},Ot=function(){return(Ot=o.asm.pc).apply(null,arguments)},Pt=function(){return(Pt=o.asm.qc).apply(null,arguments)},It=function(){return(It=o.asm.rc).apply(null,arguments)},At=function(){return(At=o.asm.sc).apply(null,arguments)},Rt=function(){return(Rt=o.asm.tc).apply(null,arguments)},Mt=o.___set_stack_limits=function(){return(Mt=o.___set_stack_limits=o.asm.uc).apply(null,arguments)};function Nt(){xt(),P()}function jt(){function t(){wt||(wt=!0,o.calledRun=!0,x||(j(),e(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),D()))}U>0||(Nt(),N(),U>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t(),I()))}if(o._xmp_version=502472,o._xmp_vercode=94412,o.ccall=gt,o.setValue=ae,o.getValue=oe,o.UTF8ToString=ue,o.stringToNewUTF8=dt,o.FS=Ne,o.ALLOC_NORMAL=ft,V=function e(){wt||jt(),wt||(V=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return jt(),r.ready}),ie=n(7);var ae=Object(r.memo)(se);function se(e){var t,n=Object(_.f)(),r=e.dim?"DirectoryLink-dim":null,i=e.dim?"inline-icon dim-icon icon-folder":"inline-icon icon-folder",a={pathname:e.to.replace("%25","%2525"),search:e.search||(delete(t=b.a.parse(window.location.search.substring(1))).q,b.a.stringify(t)),state:{prevPathname:window.location.pathname}},s=null;return e.isBackLink&&(s=function(e){e.preventDefault(),n.goBack()}),o.a.createElement(R,{to:a,className:r,onClick:s,tabIndex:"-1"},o.a.createElement("span",{className:i}),e.children)}se.propTypes={to:D.string.isRequired,dim:D.bool,search:D.string,isBackLink:D.bool};var le=/^https?:\/\/[a-z0-9\-.:]+\/(music|catalog)\//;function ue(){for(var e="",t=0;t<arguments.length;t++){if(!(t<0||arguments.length<=t?void 0:arguments[t]))return"";e+=t<0||arguments.length<=t?void 0:arguments[t]}return e}function ce(){for(var e="/",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.length-1;return n.map((function(t,n){return 0!==n&&t.startsWith(e)&&(t=t.slice(1)),n!==o&&t.endsWith(e)&&(t=t.slice(0,-1)),t})).join(e)}function fe(e){return e.replace(ie.CATALOG_PREFIX,"/")}function he(e){return"".concat(ie.API_BASE,"/metadata?path=").concat(encodeURIComponent(e))}function de(e,t,n){return e.FS.analyzePath(t).exists?(console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t)):(console.log("Downloading ".concat(t,"...")),fetch(n).then((function(e){if(!e.ok)throw Error("HTTP ".concat(e.status," while fetching ").concat(t));return e})).then((function(e){return e.arrayBuffer()})).then((function(n){var r=new Uint8Array(n);return pe(e,t,r,!0)})))}function pe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r&&e.FS.analyzePath(t).exists)return console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t);console.debug("Writing ".concat(t," to Emscripten file system..."));var o=g.a.dirname(t);return e.FS.mkdirTree(o),e.FS.writeFile(t,n),new Promise((function(n,r){e.FS.syncfs(!1,(function(e){e?(console.error("Error synchronizing to indexeddb.",e),r(e)):(console.debug("Synchronized ".concat(t," to indexeddb.")),n(t))}))}))}function me(e,t,n){return function(e,t,n,r,o){return r+(e-t)/(n-t)*(o-r)}(e,0,1,t,n)}function ve(e){var t=e.send;return e.send=function(){var n=arguments;return new Promise((function(r,o){e.onload=function(){e.status<200||e.status>=300?o({status:e.status,statusText:e.statusText}):r(e)},e.onerror=function(){o({status:e.status,statusText:e.statusText})};try{t.apply(e,n)}catch(e){}}))},e}function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,be(r.key),r)}}function be(e){var t=function(e,t){if("object"!=ge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ge(t)?t:t+""}var _e=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(s.a)(this),this.data={},this.request=null},(t=[{key:"fetchCached",value:function(e){var t=this;return this.data[e]?Promise.resolve(this.data[e]):(this.request&&this.request.abort(),this.request=ve(new XMLHttpRequest),this.request.responseType="json",this.request.open("GET",e),this.request.send().then((function(n){if(n.status>=200&&n.status<400)return t.data[e]=n.response,n.response;throw Error("RequestCache HTTP "+n.status)})))}}])&&ye(e.prototype,t),n&&ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()),we=n(25),Se=n.n(we);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ke(r.key),r)}}function ke(e){var t=function(e,t){if("object"!=Ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ee(t)?t:t+""}var xe=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(s.a)(this),this.fs=t,this.rootPath=n||"local",this.fs.mkdirTree(this.rootPath),this.fs.mount(this.fs.filesystems.IDBFS,{},this.rootPath),this.commit=Se()(this.commit,500)},(t=[{key:"fullPath",value:function(e){return e}},{key:"readAll",value:function(){var e=this,t=this.fs.readdir(this.rootPath);if(t){var n=t.filter((function(e){return".."!==e&&"."!==e})).map((function(t,n){var r=g.a.join(e.rootPath,t),o=e.fs.stat(r),i=o.size,a=o.mtime;return{idx:n,type:"file",size:i,mtime:Math.floor(Date.parse(a)/1e3),path:r}}));return n.sort((function(e,t){return e.mtime!==t.mtime?e.mtime-t.mtime:e.path.localeCompare(t.path)})),n}return[]}},{key:"write",value:function(e,t){var n=new Uint8Array(t);this.fs.writeFile(this.fullPath(e),n),this.commit()}},{key:"read",value:function(e){return this.fs.readFile(this.fullPath(e))}},{key:"delete",value:function(e){return!!this.fs.analyzePath(e).exists&&(this.fs.unlink(this.fullPath(e)),this.commit(),!0)}},{key:"commit",value:function(){var e=this;return new Promise((function(t,n){e.fs.syncfs(!1,(function(e){e?(console.error("Error synchronizing local files to indexeddb.",e),n()):(console.debug("Synchronized local files to indexeddb."),t())}))}))}}])&&Te(e.prototype,t),n&&Te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),Ce=n(36),Oe=n.n(Ce);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==Pe(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Pe(t)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Ae(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Re(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e,t,n){return(t=Le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function Le(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}function Fe(e,t,n){return t=ze(t),function(e,t){if(t&&("object"==Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ze(e).constructor):t.apply(e,n))}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Be=["Off","All","One"],Ve=["Off","On "],Ge=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=Fe(this,t),Object(s.a)(o),o.player=null,o.players=e,o.localFilesManager=n,o.getSettings=r,o.currIdx=0,o.context=null,o.currUrl=null,o.shuffle=0,o.shuffleOrder=[],o.songRequest=null,o.repeat=0,o.players.forEach((function(e){e.on("playerStateUpdate",o.handlePlayerStateUpdate),e.on("playerError",o.handlePlayerError)})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(t,e),function(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"handlePlayerError",value:function(e){this.emit("playerError",e),this.context?this.nextSong():this.emit("sequencerStateUpdate",{isEjected:!0})}},{key:"handlePlayerStateUpdate",value:function(e){var t=e.isStopped;console.debug("Sequencer.handlePlayerStateUpdate(isStopped=%s)",t),t?(this.currUrl=null,this.context&&this.nextSong()):this.emit("sequencerStateUpdate",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:this.currUrl,hasPlayer:!0,isEjected:!1},e))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.currIdx=t,this.context=e,1===this.shuffle&&this.setShuffle(this.shuffle),this.playCurrentSong(n)}},{key:"playCurrentSong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.currIdx;1===this.shuffle&&(t=this.shuffleOrder[t],console.log("Shuffle (%s): %s",this.currIdx,t)),this.playSong(this.context[t],e)}},{key:"playSonglist",value:function(e){this.playContext(e,0)}},{key:"toggleShuffle",value:function(){this.setShuffle(!this.shuffle)}},{key:"setShuffle",value:function(e){var t=this;this.shuffle=e,1===this.shuffle&&this.context?(this.shuffleOrder=[this.currIdx].concat(Re(m()(this.context.map((function(e,t){return t})).filter((function(e){return e!==t.currIdx}))))),this.currIdx=0):this.shuffleOrder&&null!==this.shuffleOrder[this.currIdx]&&(this.currIdx=this.shuffleOrder[this.currIdx])}},{key:"setRepeat",value:function(e){this.repeat=e}},{key:"advanceSong",value:function(e){null!=this.context&&(2!==this.repeat&&(this.currIdx+=e),this.currIdx<0||this.currIdx>=this.context.length?1===this.repeat?(this.currIdx=(this.currIdx+this.context.length)%this.context.length,this.playCurrentSong()):(console.debug("Sequencer.advanceSong(direction=%s) %s passed end of context length %s",e,this.currIdx,this.context.length),this.currIdx=0,this.context=null,this.player.stop(),this.player=null,this.emit("sequencerStateUpdate",{isEjected:!0})):this.playCurrentSong())}},{key:"nextSong",value:function(){this.advanceSong(1)}},{key:"prevSong",value:function(){this.advanceSong(-1)}},{key:"playSubtune",value:function(e){this.player.playSubtune(e)}},{key:"prevSubtune",value:function(){var e=this.player.getSubtune()-1;e<0||this.playSubtune(e)}},{key:"nextSubtune",value:function(){var e=this.player.getSubtune()+1;e>=this.player.getNumSubtunes()||this.playSubtune(e)}},{key:"getPlayer",value:function(){return this.player}},{key:"getCurrContext",value:function(){return this.context}},{key:"getCurrIdx",value:function(){return this.shuffle?this.shuffleOrder[this.currIdx]:this.currIdx}},{key:"getCurrUrl",value:function(){return this.currUrl}},{key:"getSubtune",value:function(){return this.player.getSubtune()}},{key:"playSong",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null!==this.player&&this.player.suspend();for(var r=e.split(".").pop().toLowerCase(),o=0;o<this.players.length;o++)if(this.players[o].canPlay(r)){this.player=this.players[o];break}if(null!==this.player)if(e.startsWith("local/")){var i=this.localFilesManager.read(e);this.currUrl=null,this.playSongBuffer(e,i,n)}else e=e.startsWith("http")?e:ce(ie.CATALOG_PREFIX,e),this.songRequest&&this.songRequest.abort(),this.songRequest=ve(new XMLHttpRequest),this.songRequest.responseType="arraybuffer",this.songRequest.open("GET",e),this.songRequest.send().then((function(e){return e.response})).then((function(r){t.currUrl=e;var o=e.replace(ie.CATALOG_PREFIX,"");t.playSongBuffer(o,r,n)})).catch((function(n){t.handlePlayerError(n.message||"HTTP ".concat(n.status," ").concat(n.statusText," ").concat(e))}));else this.emit("playerError",'The file format ".'.concat(r,'" was not recognized.'))}},{key:"playSongFile",value:function(e,t){null!==this.player&&this.player.suspend();var n=e.split(".").pop().toLowerCase(),r=this.players.find((function(e){return e.canPlay(n)}));null!=r?(this.player=r,this.context=[],this.currUrl=null,this.playSongBuffer(e,t)):this.emit("playerError",'The file format ".'.concat(n,'" was not recognized.'))}},{key:"playSongBuffer",value:(n=Ie().mark((function e(t,n){var r,o,i,a,s=arguments;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:0,o=new Uint8Array(n),i=this.getSettings(),e.prev=3,e.next=6,this.player.loadData(o,t,i,r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.handlePlayerError("Unable to play ".concat(t," (").concat(e.t0.message,")."));case 11:a=this.player.getNumVoices(),this.player.setVoiceMask(Re(Array(a)).fill(!0));case 13:case"end":return e.stop()}}),e,this,[[3,8]])})),r=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){Ae(i,r,o,a,s,"next",e)}function s(e){Ae(i,r,o,a,s,"throw",e)}a(void 0)}))},function(e,t){return r.apply(this,arguments)})}]);var n,r}(Oe.a);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */He=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==We(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(We(t)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function qe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function $e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qe(r.key),r)}}function Qe(e){var t=function(e,t){if("object"!=We(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==We(t)?t:t+""}function Je(e,t,n){return t=Ze(t),function(e,t){if(t&&("object"==We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ze(e).constructor):t.apply(e,n))}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var tt=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2048,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Xe(this,t),(r=Je(this,t)).playerKey=null,r.core=e,r.paused=!0,r.stopped=!0,r.fileExtensions=[],r.metadata=null,r.sampleRate=n,r.bufferSize=o,r.debug=i,r.timeCount=0,r.renderTime=0,r.perfLoggingInterval=100,r.paramDefs=[],r.params={},r.infoTexts=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(t,e),function(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"copyToHeap",value:function(e){var t=this.core._malloc(e.byteLength);return this.core.HEAPU8.set(e,t),t}},{key:"togglePause",value:function(){return this.paused=!this.paused,this.paused}},{key:"isPaused",value:function(){return this.paused}},{key:"resume",value:function(){this.stopped=!1,this.paused=!1}},{key:"canPlay",value:function(e){return-1!==this.fileExtensions.indexOf(e.toLowerCase())}},{key:"loadData",value:function(e,t){throw Error("Player.loadData() must be implemented.")}},{key:"stop",value:function(){throw Error("Player.stop() must be implemented.")}},{key:"isPlaying",value:function(){throw Error("Player.isPlaying() must be implemented.")}},{key:"getTempo",value:function(){return console.debug("Player.getTempo() not implemented for ".concat(this.constructor.name,".")),1}},{key:"setTempo",value:function(){console.debug("Player.setTempo() not implemented for ".concat(this.constructor.name,"."))}},{key:"setFadeout",value:function(e){console.debug("Player.setFadeout() not implemented for ".concat(this.constructor.name,"."))}},{key:"getDurationMs",value:function(){return console.debug("Player.getDurationMs() not implemented for ".concat(this.constructor.name,".")),5e3}},{key:"getPositionMs",value:function(){return console.debug("Player.getPositionMs() not implemented for ".concat(this.constructor.name,".")),0}},{key:"seekMs",value:function(e){console.debug("Player.seekMs() not implemented for ".concat(this.constructor.name,"."))}},{key:"getVoiceName",value:function(e){console.debug("Player.getVoiceName() not implemented for ".concat(this.constructor.name,"."))}},{key:"getVoiceMask",value:function(){return console.debug("Player.getVoiceMask() not implemented for ".concat(this.constructor.name,".")),[]}},{key:"setVoiceMask",value:function(){console.debug("Player.setVoiceMask() not implemented for ".concat(this.constructor.name,"."))}},{key:"getNumVoices",value:function(){return console.debug("Player.getNumVoices() not implemented for ".concat(this.constructor.name,".")),0}},{key:"getVoiceNames",value:function(){for(var e=[],t=0;t<this.getNumVoices();t++)e.push(this.getVoiceName(t));return e}},{key:"getVoiceGroups",value:function(){return[]}},{key:"getNumSubtunes",value:function(){return 1}},{key:"getSubtune",value:function(){return 0}},{key:"getMetadata",value:function(){return{title:null,author:null}}},{key:"getInfoTexts",value:function(){return this.infoTexts}},{key:"getParamDefs",value:function(){return this.paramDefs}},{key:"getParamDefault",value:function(e){var t=this.paramDefs.find((function(t){return t.id===e}));return null==t?void 0:t.defaultValue}},{key:"resolveParamValue",value:function(e,t,n){if(null!=t)return t;var r="".concat(this.playerKey,".").concat(e);return null!=n&&n.hasOwnProperty(r)?n[r]:this.getParamDefault(e)}},{key:"resolveParamValues",value:function(e){var t,n=$e(this.paramDefs);try{for(n.s();!(t=n.n()).done;){var r=t.value.id,o=this.resolveParamValue(r,void 0,e);this.getParameter(r)!==o&&(void 0!==o&&this.setParameter(r,o))}}catch(e){n.e(e)}finally{n.f()}}},{key:"getParamValues",value:function(){var e={};if(this.getParameter){var t,n=$e(this.paramDefs);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.id]=this.getParameter(r.id)}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"getBasePlayerState",value:function(){return{metadata:this.getMetadata(),durationMs:this.getDurationMs(),positionMs:this.getPositionMs(),numVoices:this.getNumVoices(),numSubtunes:this.getNumSubtunes(),subtune:this.getSubtune(),paramDefs:this.getParamDefs(),paramValues:this.getParamValues(),tempo:this.getTempo(),voiceMask:this.getVoiceMask(),voiceNames:this.getVoiceNames(),voiceGroups:this.getVoiceGroups(),infoTexts:this.getInfoTexts(),isStopped:this.stopped,isPaused:this.paused}}},{key:"suspend",value:function(){this.stopped=!0,this.paused=!0}},{key:"processAudio",value:function(e){var t=performance.now();this.processAudioInner(e);var n=performance.now();if(this.debug&&(this.renderTime+=n-t,this.timeCount++,this.timeCount>=this.perfLoggingInterval)){var r=this.renderTime/this.timeCount,o=1e3*this.bufferSize/this.sampleRate;console.log("[%s] %s ms to render %d frames (%s ms) (%s% utilization)",this.constructor.name,r.toFixed(2),this.bufferSize,o.toFixed(1),(100*r/o).toFixed(1)),this.renderTime=0,this.timeCount=0}}},{key:"processAudioInner",value:function(){throw Error("Player.processAudioInner() must be implemented.")}},{key:"muteAudioDuringCall",value:(n=He().mark((function e(t,n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("running"!==t.context.state){e.next=9;break}return console.debug("Suspending audio context during expensive operation..."),e.next=4,t.context.suspend();case 4:return n(),e.next=7,t.context.resume();case 7:e.next=10;break;case 9:n();case 10:case"end":return e.stop()}}),e)})),r=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){qe(i,r,o,a,s,"next",e)}function s(e){qe(i,r,o,a,s,"throw",e)}a(void 0)}))},function(e,t){return r.apply(this,arguments)})},{key:"handleFileSystemReady",value:function(){}}],[{key:"metadataFromFilepath",value:function(e){var t=e.split("/"),n={};return n.title=t.pop(),n.system=t.shift(),"Game MIDI"===n.system?n.game=t.shift():n.artist=t.shift(),n}}]);var n,r}(Oe.a);window.requestIdleCallback=window.requestIdleCallback||function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var nt=n(31);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,at(r.key),r)}}function it(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function at(e){var t=function(e,t){if("object"!=rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rt(t)?t:t+""}var st=it((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new nt.CalcCascades,r=n.lowpass({order:5,characteristic:"butterworth",Fs:t,Fc:200,gain:0}),o=n.lowpass({order:3,characteristic:"butterworth",Fs:t,Fc:120,gain:0}),i=n.highpass({order:3,characteristic:"butterworth",Fs:t,Fc:25,gain:0}),a=new nt.IirFilter(r),s=new nt.IirFilter(o),l=new nt.IirFilter(i),u=0,c=0,f=0,h=0,d=Math.exp(-1/(.16*t)),p=0,m=Math.exp(-1/(.016*t));function v(e){return e=function(e){return e-(h=d*h+(1-d)*e)}(e),1.414*(p=m*p+(1-m)*Math.abs(e))}this.process=function(e){var t=a.singleStep(e),n=v(t);c=u,u=t,c<0&&u>=0&&(f=(f+1)%Math.pow(2,1));for(var r=0,o=0;o<1;o++){r+=f&1<<o?1:-1}return l.singleStep(s.singleStep(r))*n}}));function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gt(r.key),r)}}function dt(e,t,n){return t=pt(t),function(e,t){if(t&&("object"==lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],pt(e).constructor):t.apply(e,n))}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vt(e,t,n){return(t=gt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e){var t=function(e,t){if("object"!=lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lt(t)?t:t+""}var yt=null,bt={".spc":1e4},_t=["nsf","nsfe","spc","ay","gbs"],wt=function(e){function t(){var e;ft(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vt(e=dt(this,t,[].concat(r)),"paramDefs",[{id:"subbass",label:"Sub Bass",type:"number",min:0,max:2,step:.01,defaultValue:0},{id:"stereoWidth",label:"Stereo Width",type:"number",min:0,max:1,step:.01,defaultValue:1},{id:"disableEcho",label:"Disable SPC Echo",hint:"Disable echo effect for Super Nintendo SPC files.",type:"toggle",defaultValue:!1},{id:"enableAccuracy",label:"Accurate SPC Filter",hint:"Simple low-pass and high-pass filter to better match sound output of the SNES.",type:"toggle",defaultValue:!1}]),Object(s.a)(e),yt=e.core,e.playerKey="gme",e.name="Game Music Emu Player",e.paused=!1,e.fileExtensions=_t,e.subtune=0,e.tempo=1,e.params={},e.voiceMask=[],e.gmeCtx=null,e.seekRequestId=null,e.seekTargetMs=null,e.currentFileExt=null,e.buffer=yt._malloc(16*e.bufferSize),e.emuPtr=yt._malloc(4),e.subBass=new st(e.sampleRate),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}(t,e),n=t,(r=[{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(t=0;t<e.length;t++)e[t].fill(0);else if(this.getPositionMs()>=this.getDurationMs()&&!1===this.fadingOut&&(console.log("Fading out at %d ms.",this.getPositionMs()),this.setFadeout(this.getPositionMs()),this.fadingOut=!0),1!==yt._gme_track_ended(this.gmeCtx)){for(yt._gme_play(this.gmeCtx,2*this.bufferSize,this.buffer),t=0;t<e.length;t++)for(n=0;n<this.bufferSize;n++)e[t][n]=yt.getValue(this.buffer+2*n*2+2*t,"i16")/65535;if(this.seekTargetMs){var r=Math.min(256,this.bufferSize/2);for(n=0;n<r;n++){var o=n/r;e[0][n]*=o,e[1][n]*=o,e[0][this.bufferSize-(n+1)]*=o,e[1][this.bufferSize-(n+1)]*=o}for(n=0;n<this.bufferSize;n++)e[0][n]*=.2,e[1][n]*=.2}if(this.params.stereoWidth<1){var i=me(this.params.stereoWidth,.5,1);for(n=0;n<this.bufferSize;n++){var a=e[0][n],s=e[1][n];e[0][n]=a*i+s*(1-i),e[1][n]=s*i+a*(1-i)}}if(this.params.subbass>0)for(n=0;n<this.bufferSize;n++){var l=this.subBass.process(e[0][n])*this.params.subbass;for(t=0;t<e.length;t++)e[t][n]+=l}}else this.subtune++,(this.subtune>=yt._gme_track_count(this.gmeCtx)||0!==this.playSubtune(this.subtune))&&(this.suspend(),console.debug("GMEPlayer.gmeAudioProcess(): _gme_track_ended == %s and subtune (%s) > _gme_track_count (%s).",yt._gme_track_ended(this.gmeCtx),this.subtune,yt._gme_track_count(this.gmeCtx)),this.emit("playerStateUpdate",{isStopped:!0}))}},{key:"playSubtune",value:function(e){return this.fadingOut=!1,this.subtune=e,this.metadata=this._parseMetadata(e),console.debug("GMEPlayer.playSubtune(subtune=%s)",e),this.emit("playerStateUpdate",ct(ct({},this.getBasePlayerState()),{},{isStopped:!1})),yt._gme_start_track(this.gmeCtx,e)}},{key:"loadData",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.subtune=r,this.fadingOut=!1,this.seekTargetMs=null,this.seekRequestId=null,this.currentFileExt=g.a.extname(t),this.filepathMeta=tt.metadataFromFilepath(t);var o=this.copyToHeap(e),i=yt._gme_open_data(o,e.length,this.emuPtr,this.sampleRate);if(yt._free(o),0!==i)throw this.stop(),Error("gme_open_data failed");if(this.gmeCtx=yt.getValue(this.emuPtr,"i32"),this.voiceMask=Array(yt._gme_voice_count(this.gmeCtx)).fill(!0),yt._gme_ignore_silence(this.gmeCtx,0),this.resolveParamValues(n),this.setTempo(n.tempo||1),this.resume(),0!==this.playSubtune(this.subtune))throw this.stop(),Error("gme_start_track failed")}},{key:"_parseMetadata",value:function(e){var t=yt._malloc(4);0!==yt._gme_track_info(this.gmeCtx,t,e)&&console.error("could not load metadata");var n=yt.getValue(t,"*"),r=0,o=function(){var e=yt.getValue(n+r,"i32");return r+=4,e},i=function(){for(var e="",t=yt.getValue(n+r,"i8*"),o=0;o<255;o++){var i=yt.getValue(t+o,"i8");if(0===i)break;i<0&&(i=1+(255^Math.abs(i))),e+=String.fromCharCode(i)}return r+=4,e},a={};return a.length=o(),a.intro_length=o(),a.loop_length=o(),a.play_length=o(),r+=48,a.system=i(),a.game=i(),a.title=i()||a.game||this.filepathMeta.title,a.artist=i()||this.filepathMeta.artist,a.copyright=i(),a.comment=i(),a.formatted={title:a.game===a.title?a.title:ue(a.game," - ")+a.title,subtitle:[a.artist,a.system].filter((function(e){return e})).join(" - ")+ue(" (",a.copyright,")")},a}},{key:"getVoiceName",value:function(e){if(this.gmeCtx)return yt.UTF8ToString(yt._gme_voice_name(this.gmeCtx,e))}},{key:"getNumVoices",value:function(){if(this.gmeCtx)return yt._gme_voice_count(this.gmeCtx)}},{key:"getNumSubtunes",value:function(){if(this.gmeCtx)return yt._gme_track_count(this.gmeCtx)}},{key:"getSubtune",value:function(){return this.subtune}},{key:"getPositionMs",value:function(){return this.gmeCtx?yt._gme_tell_scaled(this.gmeCtx):0}},{key:"getDurationMs",value:function(){return this.gmeCtx?this.metadata.play_length:0}},{key:"getMetadata",value:function(){return this.metadata}},{key:"getParameter",value:function(e){return this.params[e]}},{key:"setParameter",value:function(e,t){switch(e){case"subbass":this.params[e]=parseFloat(t);break;case"stereoWidth":this.params[e]=parseFloat(t),this.gmeCtx&&yt._gme_set_stereo_depth(this.gmeCtx,t);break;case"disableEcho":this.params[e]=!!t,this.gmeCtx&&yt._gme_disable_echo(this.gmeCtx,t?1:0);break;case"enableAccuracy":this.params[e]=!!t,this.gmeCtx&&yt._gme_enable_accuracy(this.gmeCtx,t?1:0);break;default:console.warn('GMEPlayer has no parameter with id "%s".',e)}}},{key:"isPlaying",value:function(){return!this.isPaused()&&1!==yt._gme_track_ended(this.gmeCtx)}},{key:"getTempo",value:function(){return this.tempo}},{key:"setTempo",value:function(e){this.tempo=e,this.gmeCtx&&yt._gme_set_tempo(this.gmeCtx,e)}},{key:"setFadeout",value:function(e){this.gmeCtx&&yt._gme_set_fade(this.gmeCtx,e,4e3)}},{key:"getVoiceMask",value:function(){return this.voiceMask}},{key:"setVoiceMask",value:function(e){if(this.gmeCtx){var t=0;e.forEach((function(e,n){e||(t+=1<<n)})),yt._gme_mute_voices(this.gmeCtx,t),yt._gme_ignore_silence(this.gmeCtx,0===t?0:1),console.log("GMEPlayer: Silence detection is %s.",0===t?"enabled":"disabled"),this.voiceMask=e}}},{key:"doIncrementalSeek",value:function(e){var t=this;this.seekRequestId=requestIdleCallback((function(){var n=Math.min(t.getPositionMs()+e,t.seekTargetMs);yt._gme_seek_scaled(t.gmeCtx,n),n<t.seekTargetMs?t.doIncrementalSeek(e):(yt._gme_set_tempo(t.gmeCtx,t.tempo),t.seekTargetMs=null,t.seekRequestId=null)}))}},{key:"seekMs",value:function(e){var t=this;if(this.gmeCtx)if(bt[this.currentFileExt]){cancelIdleCallback(this.seekRequestId),this.seekTargetMs=e;var n=bt[this.currentFileExt];e<this.getPositionMs()&&yt._gme_seek_scaled(this.gmeCtx,0),yt._gme_set_tempo(this.gmeCtx,2),this.doIncrementalSeek(n)}else this.muteAudioDuringCall(this.audioNode,(function(){return yt._gme_seek_scaled(t.gmeCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.gmeCtx&&yt._gme_delete(this.gmeCtx),this.gmeCtx=null,console.debug("GMEPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&ht(n.prototype,r),o&&ht(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(tt),St=n(37),Et=n.n(St);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=n(15);n(122);var Pt=[126,127,9,1,247],It=[6,38,96,97,98,99,100,101],At=Ct(Ct(Ct(Ct(Ct(Ct(Ct({},Ot.EVENT_META_TEXT,"Text"),Ot.EVENT_META_COPYRIGHT_NOTICE,"Copyright"),Ot.EVENT_META_TRACK_NAME,"Track"),Ot.EVENT_META_INSTRUMENT_NAME,"Instrument"),Ot.EVENT_META_LYRICS,"Lyrics"),Ot.EVENT_META_MARKER,"Marker"),Ot.EVENT_META_CUE_POINT,"Cue point");function Rt(e){return("[F0 "+e.map((function(e){return("0"+e.toString(16)).slice(-2)})).join(" ")+"]").toUpperCase()}function Mt(e){Object(s.a)(this),e=e||{},this.output=e.output||null,this.synth=e.synth||null,this.programChangeCb=e.programChangeCb,this.speed=1,this.skipSilence=e.skipSilence||!1,this.lastProcessPlayTimestamp=0,this.lastSendTimestamp=0,this.events=[],this.paused=!0,this.useWebMIDI=!1,this.sampleRate=e.sampleRate||44100,this.channelsInUse=[],this.channelMask=[],this.channelProgramNums=[],this.textInfo=[],window.addEventListener("unload",this.stop)}Mt.prototype.load=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.stop(),this.position=0,this.elapsedTime=0,t){console.debug("Processing MIDI track loops...");var n=e.tracks.map((function(t,n){return e.getTrackEvents(n)}));this.events=e.getLoopedEvents(n,2)}else this.events=e.getEvents();this.summarizeMidiEvents()},Mt.prototype.doSkipSilence=function(){var e=this,t=0,n=0,r=0,o=this.events.find((function(e){return e.subtype===Ot.EVENT_MIDI_NOTE_ON}));if(o&&o.playTime>0)if(this.useWebMIDI){for(var i,a=[];this.events[this.position]!==o;){var s=this.events[this.position];if(this.position++,s.type===Ot.EVENT_SYSEX||s.type===Ot.EVENT_DIVSYSEX){if(console.debug("Sysex event at %s ms:",Math.floor(s.playTime),Rt(s.data)),s.data&&0===s.data[3]&&0===s.data[4])t+=500,n+=500;else{var l=.5*s.length;t+=l,n+=l}r++,i=[s.type].concat(kt(s.data))}else if(-1!==Ot.MIDI_1PARAM_EVENTS.indexOf(s.subtype))t+=2,n+=2,i=[(s.subtype<<4)+s.channel,s.param1];else{if(-1===Ot.MIDI_2PARAMS_EVENTS.indexOf(s.subtype))continue;t+=2,n+=2,i=[(s.subtype<<4)+s.channel,s.param1,s.param2||0]}a.push({message:i,timestamp:this.lastProcessPlayTimestamp+n})}a.forEach((function(t){var n=t.message,r=t.timestamp;e.send(n,r)})),console.log("Time to first note %s ms was updated to %s ms; %s sysex events",Math.round(o.playTime),t,r),this.lastProcessPlayTimestamp+=t-o.playTime}else this.setPosition(o.playTime-50)},Mt.prototype.play=function(e){return 0===this.position?(this.endCallback=e,this.reset(),this.lastProcessPlayTimestamp=performance.now(),this.skipSilence&&this.doSkipSilence(),this.resume(),1):0},Mt.prototype.processPlaySynth=function(e,t){this.lastProcessPlayTimestamp=performance.now();for(var n=e,r=0,o=64,i=null,a=this.synth,s=1e3*this.speed*(o/this.sampleRate)/2,l=2*t;l>0;l-=o){if(o>l&&(o=l),!this.paused){var u=this.position;for(this.elapsedTime+=s;this.events[u]&&this.elapsedTime>=this.events[u].playTime;u++)switch((i=this.events[u]).subtype){case Ot.EVENT_MIDI_NOTE_ON:if(!this.channelMask[i.channel])break;0===i.param2?a.noteOff(i.channel,i.param1):a.noteOn(i.channel,i.param1,i.param2);break;case Ot.EVENT_MIDI_NOTE_OFF:a.noteOff(i.channel,i.param1);break;case Ot.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(i.channel,i.param1),a.programChange(i.channel,i.param1);break;case Ot.EVENT_MIDI_PITCH_BEND:a.pitchBend(i.channel,(i.param2<<7)+i.param1);break;case Ot.EVENT_MIDI_CONTROLLER:a.controlChange(i.channel,i.param1,i.param2)}this.position=u}a.render(e,o),e+=4*o,r+=o}if(this.position>=this.events.length){for(var c=0,f=0;f<t;f+=8)if(a.getValue(n+f,"float")>.001){c=1;break}if(0===c)return this.position=0,this.paused=!0,0}return r},Mt.prototype.processPlay=function(){var e=performance.now(),t=(e-this.lastProcessPlayTimestamp)*this.speed;if(this.lastProcessPlayTimestamp=e,!this.paused){var n=0,r=0,o=null;this.elapsedTime+=t;for(var i=this.events[this.position];this.events[this.position]&&i.playTime<this.elapsedTime+33;){if(o=null,r=0,i.type===Ot.EVENT_SYSEX||i.type===Ot.EVENT_DIVSYSEX)o=[i.type].concat(kt(i.data)),r=i.data&&0===i.data[3]&&0===i.data[4]?50:i.data.length/2,n>0?console.debug("Sysex event at %s ms delayed %s ms:",Math.floor(i.playTime),n,Rt(i.data)):console.debug("Sysex event at %s ms:",Math.floor(i.playTime),Rt(i.data));else switch(i.subtype){case Ot.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(i.channel,i.param1),o=[(i.subtype<<4)+i.channel,i.param1];break;case Ot.EVENT_MIDI_CHANNEL_AFTERTOUCH:o=[(i.subtype<<4)+i.channel,i.param1];break;case Ot.EVENT_MIDI_NOTE_OFF:case Ot.EVENT_MIDI_NOTE_ON:case Ot.EVENT_MIDI_NOTE_AFTERTOUCH:case Ot.EVENT_MIDI_CONTROLLER:case Ot.EVENT_MIDI_PITCH_BEND:if(!this.channelMask[i.channel])break;o=[(i.subtype<<4)+i.channel,i.param1,i.param2||0]}if(o){var a=(i.playTime-this.elapsedTime)/this.speed+this.lastProcessPlayTimestamp;this.send(o,a+n),n+=r,this.lastSendTimestamp=a}this.position++,i=this.events[this.position]}this.position>=this.events.length&&(setTimeout(this.endCallback,133),this.position=0,this.paused=!0)}},Mt.prototype.handleProgramChange=function(e,t){this.channelProgramNums[e]=t,this.programChangeCb()},Mt.prototype.togglePause=function(){return this.paused=!this.paused,!0===this.paused&&this.panic(this.lastSendTimestamp+10),this.paused},Mt.prototype.resume=function(){this.paused=!1},Mt.prototype.stop=function(){this.paused=!0,this.panic()},Mt.prototype.send=function(e,t){try{this.output.send(e,t)}catch(t){console.warn(t),console.warn(e)}},Mt.prototype.panic=function(e){if(this.useWebMIDI)for(var t=0;t<16;t++)this.send([(Ot.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(Ot.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(Ot.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e);else{for(var n=0;n<16;n++)this.synth.controlChange(n,64,0);this.synth.panic()}},Mt.prototype.reset=function(e){if(this.useWebMIDI){this.send([Ot.EVENT_SYSEX].concat(Pt));for(var t=0;t<16;t++)this.send([(Ot.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(Ot.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(Ot.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e)}else this.synth.reset()},Mt.prototype.getDuration=function(){return this.events&&this.events.length>0?this.events[this.events.length-1].playTime:0},Mt.prototype.getPosition=function(){return this.elapsedTime},Mt.prototype.setOutput=function(e){this.panic(this.lastSendTimestamp+10),this.output=e,this.setPosition(this.getPosition()-10)},Mt.prototype.getSpeed=function(){return this.speed},Mt.prototype.setSpeed=function(e){this.speed=Math.max(.1,Math.min(10,e))},Mt.prototype.setPositionSynth=function(e){var t=this.synth;e.forEach((function(e){switch(e.subtype){case Ot.EVENT_MIDI_PROGRAM_CHANGE:t.programChange(e.channel,e.param1);break;case Ot.EVENT_MIDI_CONTROLLER:default:t.controlChange(e.channel,e.param1,e.param2)}}))},Mt.prototype.setPositionWebMidi=function(e,t){var n,r=this,o=this.paused;this.paused=!0,t.forEach((function(e,t){e.subtype===Ot.EVENT_MIDI_PROGRAM_CHANGE?n=[(e.subtype<<4)+e.channel,e.param1]:e.subtype===Ot.EVENT_MIDI_CONTROLLER&&(n=[(e.subtype<<4)+e.channel,e.param1,e.param2]),r.send(n,r.lastSendTimestamp+20+2*t)}));var i=t.length,a=2*i;console.log("Scheduled %s events. Resuming playback in %s ms...",i,a),o||setTimeout(this.resume,a)},Mt.prototype.setPosition=function(e){if(!(e<0||e>this.getDuration())){this.lastProcessPlayTimestamp=performance.now(),this.panic(this.lastSendTimestamp+10);var t={},n=[],r=this.position;for(e<this.elapsedTime&&(r=0);this.events[r]&&this.events[r].playTime<e;){var o=this.events[r];o.subtype===Ot.EVENT_MIDI_PROGRAM_CHANGE?(this.handleProgramChange(o.channel,o.param1),t["".concat(o.subtype,"-").concat(o.channel)]=o):o.subtype===Ot.EVENT_MIDI_CONTROLLER&&(It.includes(o.param1)?n.push(o):t["".concat(o.subtype,"-").concat(o.channel,"-").concat(o.param1)]=o),r++}n=Object.values(t).concat(n),this.useWebMIDI?this.setPositionWebMidi(e,n):this.setPositionSynth(n),this.elapsedTime=e,this.position=r}},Mt.prototype.getChannelInUse=function(e){return!!this.channelsInUse[e]},Mt.prototype.getChannelProgramNum=function(e){return this.channelProgramNums[e]},Mt.prototype.summarizeMidiEvents=function(){this.textInfo=[];for(var e=this.channelsInUse,t=this.channelProgramNums,n=this.channelMask,r=0;r<16;r++)e[r]=0,t[r]=0,n[r]=!0;for(var o=0;o<this.events.length;o++){var i=this.events[o];switch(i.subtype){case Ot.EVENT_MIDI_NOTE_ON:e[i.channel]=1;break;case Ot.EVENT_MIDI_PROGRAM_CHANGE:t[i.channel]||this.handleProgramChange(i.channel,i.param1);break;case Ot.EVENT_META_TEXT:case Ot.EVENT_META_COPYRIGHT_NOTICE:case Ot.EVENT_META_TRACK_NAME:case Ot.EVENT_META_LYRICS:case Ot.EVENT_META_MARKER:case Ot.EVENT_META_CUE_POINT:var a=i.data.map((function(e){return String.fromCharCode(e)})).join("").trim();a&&!a.match(/nstd/i)&&this.textInfo.push("".concat(At[i.subtype],": ").concat(a))}}},Mt.prototype.setChannelMute=function(e,t){if(this.channelMask[e]=!t,t){var n=this.lastSendTimestamp+10;this.send([(Ot.EVENT_MIDI_CONTROLLER<<4)+e,64,0],n),this.send([(Ot.EVENT_MIDI_CONTROLLER<<4)+e,120,0],n),this.synth.panicChannel(e)}},Mt.prototype.setUseWebMIDI=function(e){this.useWebMIDI=e,this.setPosition(this.getPosition()-10)};var Nt=Mt,jt=["Piano         ","Bright Piano  ","Electric Piano","Honky-tonk    ","Rhodes Piano  ","FM Piano      ","Harpsichord   ","Clavinet      ","Celesta       ","Glockenspiel  ","Music Box     ","Vibraphone    ","Marimba       ","Xylophone     ","Tubular Bells ","Dulcimer      ","Drawbar Organ ","Perc Organ    ","Rock Organ    ","Church Organ  ","Reed Organ    ","Accordion     ","Harmonica     ","Accordion     ","Steel Guitar  ","Nylon Guitar  ","Jazz Guitar   ","Clean Guitar  ","Muted Guitar  ","Overdrive Guit","Distort Guitar","Guit Harmonics","Acoustic Bass ","Finger Bass   ","Picked Bass   ","Fretless Bass ","Slap Bass 1   ","Slap Bass 2   ","Synth Bass 1  ","Synth Bass 2  ","Violin        ","Viola         ","Cello         ","Contrabass    ","Trem Strings  ","Pizz Strings  ","Harp          ","Timpani       ","String Ens 1  ","String Ens 2  ","Syn Strings 1 ","Syn Strings 2 ","Choir Aahs    ","Voice Oohs    ","Synth Voice   ","Orch Hit      ","Trumpet       ","Trombone      ","Tuba          ","Muted Trumpet ","French Horn   ","Brass Section ","SynthBrass 1  ","SynthBrass 2  ","Soprano Sax   ","Alto Sax      ","Tenor Sax     ","Baritone Sax  ","Oboe          ","English Horn  ","Bassoon       ","Clarinet      ","Piccolo       ","Flute         ","Recorder      ","Pan Flute     ","Blown Bottle  ","Shakuhachi    ","Whistle       ","Ocarina       ","Lead: Square  ","Lead: Sawtooth","Lead: Calliope","Lead: Chiff   ","Lead: Charang ","Lead: Voice   ","Lead: Fifths  ","Lead: Bass    ","Pad: New Age  ","Pad: Warm     ","Pad: Polysynth","Pad: Choir    ","Pad: Bowed    ","Pad: Metallic ","Pad: Halo     ","Pad: Sweep    ","FX: Rain      ","FX: Soundtrack","FX: Crystal   ","FX: Atmosphere","FX: Brightness","FX: Goblins   ","FX: Echoes    ","FX: Sci-fi    ","Sitar         ","Banjo         ","Shamisen      ","Koto          ","Kalimba       ","Bag pipe      ","Fiddle        ","Shanai        ","Tinkle Bell   ","Agogo         ","Steel Drums   ","Woodblock     ","Taiko Drum    ","Melodic Tom   ","Synth Drum    ","Reverse Cym   ","Fret Noise    ","Breath Noise  ","Seashore      ","Bird Tweet    ","Telephone Ring","Helicopter    ","Applause      ","Gunshot       "],Dt={0:"Std Drumkit   ",8:"Room Drumkit  ",16:"Power Drumkit ",24:"Elec Drumkit  ",25:"TR808 Drumkit ",32:"Jazz Drumkit  ",40:"Brush Drumkit "},Lt=n(66),Ft=n.n(Lt);function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ut=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==zt(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(zt(t)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Wt(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,en(r.key),r)}}function Kt(e,t,n){return t=Qt(t),function(e,t){if(t&&("object"==zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Qt(e).constructor):t.apply(e,n))}function Xt(){return(Xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Yt(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(null,arguments)}function Yt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Qt(e)););return e}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t){return(Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e,t,n){return(t=en(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e){var t=function(e,t){if("object"!=zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zt(t)?t:t+""}var tn=null,nn={send:function(){}},rn=[nn],on=["mid","midi","smf"],an=function(e){function t(){var e;qt(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Zt(e=Kt(this,t,[].concat(r)),"paramDefs",[{id:"synthengine",label:"Synth Engine",type:"enum",options:[{label:"MIDI Synthesis Engine",items:[{label:"SoundFont (libFluidLite)",value:0},{label:"Adlib/OPL3 FM (libADLMIDI)",value:1},{label:"MIDI Device (Web MIDI)",value:2}]}],defaultValue:0},{id:"soundfont",label:"Soundfont",type:"enum",options:ie.SOUNDFONTS,defaultValue:ie.SOUNDFONTS[1].items[0].value,dependsOn:{param:"synthengine",value:0}},{id:"reverb",label:"Reverb",type:"number",min:0,max:1,step:.01,defaultValue:.33,dependsOn:{param:"synthengine",value:0}},{id:"chorus",label:"Chorus",type:"number",min:0,max:1,step:.01,defaultValue:.5,dependsOn:{param:"synthengine",value:0}},{id:"fluidpoly",label:"Polyphony",type:"number",min:4,max:256,step:4,defaultValue:128,dependsOn:{param:"synthengine",value:0}},{id:"opl3bank",label:"OPL3 Bank",type:"enum",options:[],defaultValue:58,dependsOn:{param:"synthengine",value:1}},{id:"mididevice",label:"MIDI Device",type:"enum",options:[{label:"MIDI Output Devices",items:[{label:"Dummy device",value:0}]}],defaultValue:0,dependsOn:{param:"synthengine",value:2}},{id:"autoengine",label:"Auto Synth Engine Switching",hint:'Switch synth engine based on filenames. Files containing "FM" will play through Adlib/OPL3 synth.',type:"toggle",defaultValue:!0},{id:"gmreset",label:"GM Reset",hint:"Send a General MIDI Reset sysex and reset all controllers on all channels.",type:"button"}]),Object(s.a)(e),(tn=e.core)._tp_init(e.sampleRate),tn.FS.mkdir(ie.SOUNDFONT_MOUNTPOINT),tn.FS.mount(tn.FS.filesystems.IDBFS,{},ie.SOUNDFONT_MOUNTPOINT),e.playerKey="midi",e.name="MIDI Player",e.fileExtensions=on,e.activeChannels=[],e.buffer=tn._malloc(4*e.bufferSize*2),e.filepathMeta={},e.midiFilePlayer=new Nt({programChangeCb:Se()((function(){return e.emit("playerStateUpdate",{voiceNames:Ft()(e.getNumVoices()).map(e.getVoiceName)})}),200),output:nn,skipSilence:!0,sampleRate:e.sampleRate,synth:{noteOn:tn._tp_note_on,noteOff:tn._tp_note_off,pitchBend:tn._tp_pitch_bend,controlChange:tn._tp_control_change,programChange:tn._tp_program_change,panic:tn._tp_panic,panicChannel:tn._tp_panic_channel,render:tn._tp_render,reset:tn._tp_reset,getValue:tn.getValue}});for(var i=tn._adl_getBanksCount(),a=tn._adl_getBankNames(),l=[],u=0;u<i;u++)l.push({label:tn.UTF8ToString(tn.getValue(a+4*u,"*")),value:u});return e.paramDefs.find((function(e){return"opl3bank"===e.id})).options=[{label:"OPL3 Bank",items:l}],e.webMidiIsInitialized=!1,e.params={},e.transientParams={},e.paramDefs.filter((function(e){return"soundfont"!==e.id})).forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jt(e,t)}(t,e),function(e,t,n){return t&&$t(e.prototype,t),n&&$t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"handleFileSystemReady",value:function(){var e=this.paramDefs.find((function(e){return"soundfont"===e.id}));this.setParameter(e.id,e.defaultValue),this.updateSoundfontParamDefs()}},{key:"processAudioInner",value:function(e){if(2===this.params.synthengine)this.midiFilePlayer.processPlay();else if(this.midiFilePlayer.processPlaySynth(this.buffer,this.bufferSize))for(var t=0;t<e.length;t++)for(var n=0;n<this.bufferSize;n++)e[t][n]=tn.getValue(this.buffer+4*n*2+4*t,"float");else this.stop()}},{key:"metadataFromFilepath",value:function(e){var t=(e=decodeURIComponent(e)).split("/"),n=t.length,r={};return t.length>=3?r.formatted={title:"".concat(t[1]," - ").concat(t[n-1]),subtitle:t[0]}:2===t.length?r.formatted={title:t[1],subtitle:t[0]}:r.formatted={title:t[0],subtitle:"MIDI"},r}},{key:"ensureWebMidiInitialized",value:function(){var e=this;!0!==this.webMidiIsInitialized&&(this.webMidiIsInitialized=!0,console.debug("Requesting MIDI output devices."),"function"==typeof navigator.requestMIDIAccess?navigator.requestMIDIAccess({sysex:!0}).then((function(t){0===t.outputs.length?console.warn("No MIDI output devices found."):(Wt(t.outputs.values()).forEach((function(t){console.debug("MIDI Output:",t),rn.push(t),e.paramDefs.find((function(e){return"mididevice"===e.id})).options[0].items.push({label:t.name,value:rn.length-1})})),e.setParameter("mididevice",1))})):console.warn("Web MIDI API not supported. Try Chrome if you want to use external MIDI output devices."))}},{key:"loadData",value:(n=Ut().mark((function e(t,n,r){var o,i,a,s,l,u,c,f,h,d,p=this;return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureWebMidiInitialized(),this.filepathMeta=this.metadataFromFilepath(n),this.resolveParamValues(r),this.setTempo(r.tempo||1),o={},this.getParameter("autoengine")&&(o.synthengine=this.getSynthengineBasedOnFilename(n),o.opl3bank=this.getOpl3bankBasedOnFilename(n)),0!==this.getParameter("synthengine")){e.next=24;break}return i=he(n),a=!1,e.next=11,_e.fetchCached(i);case 11:if(s=e.sent,!(l=s.soundfont)){e.next=23;break}if(u=g.a.basename(fe(l)),c="user/".concat(u),o.soundfont=c,this.getParameter("soundfont")===c){e.next=21;break}return e.next=20,de(tn,"".concat(ie.SOUNDFONT_MOUNTPOINT,"/").concat(c),l);case 20:this.updateSoundfontParamDefs();case 21:["Centre Court Tennis","Goemon","Bomberman","GoldenEye","Perfect Dark","Banjo Kazooie","Diddy Kong","Zelda"].some((function(e){return l.includes(e)}))&&(console.debug("MIDI channel 10 melodic mode enabled for %s.",u),a=!0);case 23:tn._tp_set_ch10_melodic(a);case 24:for(Object.keys(this.params).forEach((function(e){o[e]!==p.transientParams[e]&&p.setTransientParameter(e,o[e])})),f=new Et.a(t),h=n.includes("SoundFont MIDI"),this.midiFilePlayer.load(f,h),this.midiFilePlayer.play((function(){return p.emit("playerStateUpdate",{isStopped:!0})})),this.activeChannels=[],d=0;d<16;d++)this.midiFilePlayer.getChannelInUse(d)&&this.activeChannels.push(d);this.resume(),this.emit("playerStateUpdate",Vt(Vt({},this.getBasePlayerState()),{},{isStopped:!1}));case 33:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){Gt(i,r,o,a,s,"next",e)}function s(e){Gt(i,r,o,a,s,"throw",e)}a(void 0)}))},function(e,t,n){return r.apply(this,arguments)})},{key:"getSynthengineBasedOnFilename",value:function(e){return e.toLowerCase().replace("_"," ").match(/(\bfm|fm\b)/i)?1:null}},{key:"getOpl3bankBasedOnFilename",value:function(e){var t=e.toLowerCase().replace("_"," "),n=this.paramDefs.find((function(e){return"opl3bank"===e.id}));if(n){var r=n.options[0].items,o=function(e){return r.findIndex((function(t){return t.label.indexOf(e)>-1}))},i=n.defaultValue;if(t.indexOf("[rick]")>-1?i=o("Descent:: Rick"):t.indexOf("[ham]")>-1?i=o("Descent:: Ham"):t.indexOf("[int]")>-1?i=o("Descent:: Int"):t.indexOf("descent 2")>-1?i=o("Descent 2"):t.indexOf("magic carpet")>-1?i=o("Magic Carpet"):t.indexOf("duke nukem")>-1?i=o("Duke Nukem"):t.indexOf("wacky wheels")>-1?i=o("Apogee IMF"):t.indexOf("warcraft 2")>-1?i=o("Warcraft 2"):t.indexOf("warcraft")>-1?i=o("Warcraft"):t.indexOf("system shock")>-1?i=o("System Shock"):t.indexOf("/hexen")>-1||t.indexOf("/heretic")>-1?i=o("Hexen"):t.indexOf("/raptor")>-1?i=o("Raptor"):t.indexOf("/doom 2")>-1?i=o("Doom 2"):t.indexOf("/doom")>-1&&(i=o("DOOM")),i>-1)return i}return null}},{key:"isPlaying",value:function(){return!this.midiFilePlayer.paused}},{key:"suspend",value:function(){var e,n,r,o,i;(e=t,n="suspend",r=this,i=Xt(Qt(1&(o=3)?e.prototype:e),n,r),2&o&&"function"==typeof i?function(e){return i.apply(r,e)}:i)([]),this.midiFilePlayer.stop()}},{key:"stop",value:function(){this.suspend(),console.debug("MIDIPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}},{key:"togglePause",value:function(){return this.midiFilePlayer.togglePause()}},{key:"getDurationMs",value:function(){return this.midiFilePlayer.getDuration()}},{key:"getPositionMs",value:function(){return this.midiFilePlayer.getPosition()}},{key:"seekMs",value:function(e){return this.midiFilePlayer.setPosition(e)}},{key:"getTempo",value:function(){return this.midiFilePlayer.getSpeed()}},{key:"setTempo",value:function(e){this.midiFilePlayer.setSpeed(e)}},{key:"getNumVoices",value:function(){return this.activeChannels.length}},{key:"getVoiceName",value:function(e){var t=this.activeChannels[e],n=this.midiFilePlayer.channelProgramNums[t];return 9===t?Dt[n]||Dt[0]:jt[n]}},{key:"getVoiceMask",value:function(){var e=this;return this.activeChannels.map((function(t){return e.midiFilePlayer.channelMask[t]}))}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,n){var r=t.activeChannels[n];t.midiFilePlayer.setChannelMute(r,!e)}))}},{key:"getMetadata",value:function(){return this.filepathMeta}},{key:"getInfoTexts",value:function(){return[this.midiFilePlayer.textInfo.join("\n")].filter((function(e){return""!==e}))}},{key:"getParameter",value:function(e){return"fluidpoly"===e?tn._tp_get_polyphony():null!=this.transientParams[e]?this.transientParams[e]:this.params[e]}},{key:"updateSoundfontParamDefs",value:function(){this.paramDefs=this.paramDefs.map((function(e){if("soundfont"===e.id){var t=e.options[0],n="".concat(ie.SOUNDFONT_MOUNTPOINT,"/user/");tn.FS.analyzePath(n).exists&&(t.items=tn.FS.readdir(n).filter((function(e){return e.match(/\.sf2$/i)})).map((function(e){return{label:e,value:"user/".concat(e)}})))}return e}))}},{key:"setTransientParameter",value:function(e,t){null==t?this.setParameter(e,this.params[e]):this.setParameter(e,t,!0)}},{key:"setFluidChorus",value:function(e){var t=tn._tp_get_fluid_synth();if(0===e)tn._fluid_synth_set_chorus_on(t,!1);else{tn._fluid_synth_set_chorus_on(t,!0);var n=Math.round(me(e,0,4)),r=Math.round(me(e,2,14));tn._fluid_synth_set_chorus(t,3,n,.3,r,0)}}},{key:"setParameter",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case"synthengine":t=parseInt(t,10),this.midiFilePlayer.panic(),2===t?this.midiFilePlayer.setUseWebMIDI(!0):(this.midiFilePlayer.setUseWebMIDI(!1),tn._tp_set_synth_engine(t));break;case"soundfont":var o="".concat(ie.SOUNDFONT_URL_PATH,"/").concat(t);de(tn,"".concat(ie.SOUNDFONT_MOUNTPOINT,"/").concat(t),o).then((function(e){return n._loadSoundfont(e)}));break;case"reverb":t=parseFloat(t),tn._tp_set_reverb(t);break;case"chorus":t=parseFloat(t),this.setFluidChorus(t);break;case"fluidpoly":t=parseInt(t,10),tn._tp_set_polyphony(t);break;case"opl3bank":t=parseInt(t,10),tn._tp_set_bank(t);break;case"autoengine":t=!!t;break;case"mididevice":this.midiFilePlayer.setOutput(rn[t]);break;case"gmreset":this.midiFilePlayer.reset();break;default:console.warn('MIDIPlayer has no parameter with id "%s".',e)}r?this.transientParams[e]=t:(delete this.transientParams[e],this.params[e]=t)}},{key:"_loadSoundfont",value:function(e){console.log("Loading soundfont %s...",e),this.muteAudioDuringCall(this.audioNode,(function(){-1!==tn.ccall("tp_load_soundfont","number",["string"],[e])&&console.log("Loaded soundfont.")}))}}]);var n,r}(tt);function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){return(t=dn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dn(r.key),r)}}function dn(e){var t=function(e,t){if("object"!=sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sn(t)?t:t+""}function pn(e,t,n){return t=mn(t),function(e,t){if(t&&("object"==sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],mn(e).constructor):t.apply(e,n))}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var gn=["v2m"],yn=function(e){function t(){var e;fn(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=pn(this,t,[].concat(r)),Object(s.a)(e),e.playerKey="v2m",e.name="Farbrausch V2M Player",e.speed=1,e.fileExtensions=gn,e.buffer=e.core._malloc(8*e.bufferSize),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vn(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t,n){var r=this.copyToHeap(e),o=this.core._v2m_open(r,e.byteLength,this.sampleRate);if(this.core._free(r),0!==o)throw console.error("v2m_open failed. error code: %d",o),Error("Unable to load this file!");this.metadata={title:t},this.resolveParamValues(n),this.setTempo(n.tempo||1),this.resume(),this.emit("playerStateUpdate",un(un({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._v2m_write_audio(this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+4*t*2+4*n,"float")}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._v2m_set_speed(e)}},{key:"getPositionMs",value:function(){return this.core._v2m_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._v2m_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._v2m_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._v2m_close(),console.debug("V2MPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&hn(n.prototype,r),o&&hn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(tt);function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,On(r.key),r)}}function Tn(e,t,n){return t=kn(t),function(e,t){if(t&&("object"==bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],kn(e).constructor):t.apply(e,n))}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e,t,n){return(t=On(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){var t=function(e,t){if("object"!=bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bn(t)?t:t+""}var Pn=Math.pow(2,16)-1,In=["it","mod","s3m","xm"],An=function(e){function t(){var e;Sn(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e=Tn(this,t,[].concat(r)),"paramDefs",[{id:"interpolation",label:"Interpolation",type:"enum",options:[{label:"Interpolation Mode",items:[{label:"Nearest-neighbor (None)",value:0},{label:"Linear",value:1},{label:"Spline (Cubic)",value:2}]}],defaultValue:1}]),Object(s.a)(e),e.playerKey="xmp",e.name="XMP Player",e.xmpCtx=e.core._xmp_create_context(),e.infoPtr=e.core._malloc(2048),e.fileExtensions=In,e.tempoScale=1,e._positionMs=0,e._durationMs=1e3,e.buffer=e.core._malloc(16*e.bufferSize),e.infoTexts=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xn(e,t)}(t,e),n=t,(r=[{key:"processAudioInner",value:function(e){var t,n,r,o=this.infoPtr;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else{if(-1===(r=this.core._xmp_play_buffer(this.xmpCtx,this.buffer,4*this.bufferSize,1)))this.stop();else if(0!==r)throw this.suspend(),console.error("xmp_play_buffer failed. error code: %d",r),Error("xmp_play_buffer failed");for(this.core._xmp_get_frame_info(this.xmpCtx,o),this._positionMs=this.core.getValue(o+28,"i32"),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/Pn}}},{key:"_parseMetadata",value:function(){var e={},t=[],n=this.core,r=this.infoPtr;n._xmp_get_module_info(this.xmpCtx,r);var o=n.getValue(r+20,"*");e.title=n.UTF8ToString(o,256),e.system=n.UTF8ToString(o+64,256),e.comment=n.UTF8ToString(n.getValue(r+24,"*"),2048),e.comment&&t.push("Comment:",e.comment),n._xmp_get_frame_info(this.xmpCtx,r),this._durationMs=n.getValue(r+32,"i32"),e.patterns=n.getValue(o+128+0,"i32"),e.tracks=n.getValue(o+128+4,"i32"),e.numChannels=n.getValue(o+128+8,"i32"),e.numInstruments=n.getValue(o+128+12,"i32"),e.numSamples=n.getValue(o+128+16,"i32"),e.initialSpeed=n.getValue(o+128+20,"i32"),e.initialBPM=n.getValue(o+128+24,"i32"),e.moduleLength=n.getValue(o+128+28,"i32"),e.restartPosition=n.getValue(o+128+32,"i32");for(var i=n.getValue(o+128+48,"i32"),a=[],s=0;s<e.numInstruments;s++){var l=i+764*s;a.push(n.UTF8ToString(l))}var u=a.join("\n");u.trim()&&t.push("Instruments:",u),e.title||(e.title=this.filepathMeta.title),this.metadata=e,this.infoTexts=t.length?[t.join("\n\n")]:[]}},{key:"loadData",value:function(e,t,n){var r;this.filepathMeta=tt.metadataFromFilepath(t);var o=this.copyToHeap(e);if(r=this.core._xmp_load_module_from_memory(this.xmpCtx,o,e.length),this.core._free(o),0!==r)throw console.error("xmp_load_module_from_memory failed. error code: %d",r),Error("xmp_load_module_from_memory failed");if(0!==(r=this.core._xmp_start_player(this.xmpCtx,this.sampleRate,0)))throw console.error("xmp_start_player failed. error code: %d",r),Error("xmp_start_player failed");this._parseMetadata(t),this.resolveParamValues(n),this.setTempo(n.tempo||1),this.resume(),this.emit("playerStateUpdate",wn(wn({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"getVoiceMask",value:function(){for(var e=[],t=0;t<this.metadata.numChannels;t++)e.push(!this.core._xmp_channel_mute(this.xmpCtx,t,-1));return e}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,n){t.core._xmp_channel_mute(t.xmpCtx,n,e?0:1)}))}},{key:"getTempo",value:function(){return this.tempoScale}},{key:"setTempo",value:function(e){this.xmpCtx&&(this.core._xmp_set_tempo_factor(this.xmpCtx,1/e),this.tempoScale=e)}},{key:"getVoiceName",value:function(e){return"Ch ".concat(e+1)}},{key:"getNumVoices",value:function(){return this.metadata.numChannels}},{key:"getPositionMs",value:function(){return this._positionMs}},{key:"getDurationMs",value:function(){return this._durationMs}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){var e=this.core._xmp_get_player(this.xmpCtx,8);return!this.isPaused()&&2===e}},{key:"seekMs",value:function(e){this.core._xmp_seek_time(this.xmpCtx,e)}},{key:"stop",value:function(){this.suspend(),this.core._xmp_stop_module(this.xmpCtx),console.debug("XMPPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}},{key:"getParameter",value:function(e){if(!this.xmpCtx)return null;switch(e){case"interpolation":return this.core._xmp_get_player(this.xmpCtx,2);default:return console.warn("Unknown parameter id:",e),null}}},{key:"setParameter",value:function(e,t){switch(e){case"interpolation":this.core._xmp_set_player(this.xmpCtx,2,t);break;default:console.warn("Unknown parameter id:",e)}}}])&&En(n.prototype,r),o&&En(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(tt);function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return(t=Vn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||Fn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(e){return function(e){if(Array.isArray(e))return zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){if(e){if("string"==typeof e)return zn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(e,t):void 0}}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vn(r.key),r)}}function Vn(e){var t=function(e,t){if("object"!=Rn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rn(t)?t:t+""}function Gn(e,t,n){return t=Wn(t),function(e,t){if(t&&("object"==Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Wn(e).constructor):t.apply(e,n))}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var qn=["miniusf"],$n=Math.pow(2,16)-1,Kn=function(e){function t(){var e;Un(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=Gn(this,t,[].concat(r)),Object(s.a)(e),e.core.FS.mkdirTree("/n64"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/n64"),e.playerKey="n64",e.name="N64 Player",e.fileExtensions=qn,e.buffer=e.core._malloc(4*e.bufferSize),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hn(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t){var n,r=this;this.filepathMeta=tt.metadataFromFilepath(t);var o=String.fromCharCode.apply(null,e).match(/_lib=([^\n]+)/).slice(1);if(0===o.length)throw new Error("No .usflib references found");var i=g.a.dirname(t),a=ce("/n64",t),s=[pe(this.core,a,e)].concat(Ln(o.map((function(e){var t=ce("/n64",i,e),n=ce(ie.CATALOG_PREFIX,i,e);return de(r.core,t,n)}))));return Promise.all(s).then((function(e){var o=Dn(e,1)[0];if(0!==(n=r.core.ccall("n64_load_file","number",["string","number","number","number"],[o,r.buffer,r.bufferSize,r.sampleRate])))throw console.error("n64_load_file failed. error code: %d",n),Error("n64_load_file failed");r.metadata={title:t},r.resume(),r.emit("playerStateUpdate",Nn(Nn({},r.getBasePlayerState()),{},{isStopped:!1}))}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(this.core._n64_render_audio(this.buffer,this.bufferSize)<=0&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/$n}},{key:"getPositionMs",value:function(){return this.core._n64_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._n64_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){var t=this;this.muteAudioDuringCall(this.audioNode,(function(){return t.core._n64_seek_ms(e)}))}},{key:"stop",value:function(){this.suspend(),this.core._n64_shutdown(),console.debug("N64Player.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Bn(n.prototype,r),o&&Bn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(tt),Xn=n(47),Yn=n.n(Xn);function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t,n){return(t=rr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rr(r.key),r)}}function rr(e){var t=function(e,t){if("object"!=Qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qn(t)?t:t+""}function or(e,t,n){return t=ir(t),function(e,t){if(t&&("object"==Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ir(e).constructor):t.apply(e,n))}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ar(e,t){return(ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var sr=["mdx"],lr=Math.pow(2,16)-1,ur=function(e){function t(){var e;tr(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=or(this,t,[].concat(r)),Object(s.a)(e),e.core.FS.mkdirTree("/mdx"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/mdx"),e.playerKey="mdx",e.name="Sharp X68000 MDX Player",e.speed=1,e.mdxCtx=e.core._mdx_create_context(),e.core._mdx_set_rate(e.sampleRate),e.core._mdx_set_dir(e.mdxCtx,"/mdx"),e.fileExtensions=sr,e.buffer=e.core._malloc(4*e.bufferSize),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t,n){var r,o=this;this.filepathMeta=tt.metadataFromFilepath(t);var i=g.a.dirname(t),a=ce("/mdx",t);return pe(this.core,a,e).then((function(){var e=o.core.ccall("mdx_get_pdx_filename","string",["number","string"],[o.mdxCtx,a]);if(e){var t=ce("/mdx",i,e),n=ce(ie.CATALOG_PREFIX,i,e.toUpperCase());return de(o.core,t,n)}})).then((function(){o.muteAudioDuringCall(o.audioNode,(function(){if(0!==(r=o.core.ccall("mdx_open","number",["number","string","string"],[o.mdxCtx,a,null])))throw console.error("mdx_load_file failed. error code: %d",r),Error("mdx_load_file failed");var e=o.core._malloc(256);o.core._mdx_get_title(o.mdxCtx,e);var i=o.core.HEAPU8.subarray(e,e+256),s=i.indexOf(0),l=new TextDecoder("shift-jis").decode(i.subarray(0,s));o.metadata={title:l||g.a.basename(t)},o.resolveParamValues(n),o.setTempo(n.tempo||1),o.resume(),o.emit("playerStateUpdate",Zn(Zn({},o.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._mdx_calc_sample(this.mdxCtx,this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/lr}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._mdx_set_speed(this.mdxCtx,e)}},{key:"getPositionMs",value:function(){return this.core._mdx_get_position_ms(this.mdxCtx)}},{key:"getDurationMs",value:function(){return 1e3*this.core._mdx_get_length(this.mdxCtx)}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"getVoiceName",value:function(e){if(this.mdxCtx)return this.core.UTF8ToString(this.core._mdx_get_track_name(this.mdxCtx,e))}},{key:"getNumVoices",value:function(){if(this.mdxCtx)return this.core._mdx_get_tracks(this.mdxCtx)}},{key:"getVoiceGroups",value:function(){if(!this.mdxCtx)return[];for(var e,t=[],n=this.core._mdx_get_tracks(this.mdxCtx),r=0;r<n;r++){var o=this.core.UTF8ToString(this.core._mdx_get_track_name(this.mdxCtx,r));0===r&&(e={name:"YM2151 (OPM)",icon:Yn.a,voices:[]},t.push(e)),8===r&&(e={name:9===n?"OKI MSM6258":"Mercury Unit (PCM8)",icon:Yn.a,voices:[]},t.push(e)),e.voices.push({idx:r,name:o})}return t}},{key:"getVoiceMask",value:function(){for(var e=[],t=this.core._mdx_get_track_mask(this.mdxCtx),n=0;n<this.core._mdx_get_tracks(this.mdxCtx);n++)e.push(0==(t>>n&1));return e}},{key:"setVoiceMask",value:function(e){var t=0;e.forEach((function(e,n){e||(t+=1<<n)})),this.mdxCtx&&this.core._mdx_set_track_mask(this.mdxCtx,t)}},{key:"seekMs",value:function(e){var t=this;this.muteAudioDuringCall(this.audioNode,(function(){return t.core._mdx_set_position_ms(t.mdxCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.core._mdx_close(this.mdxCtx),console.debug("MDXPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&nr(n.prototype,r),o&&nr(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(tt);function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(e,t,n){return(t=vr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vr(r.key),r)}}function vr(e){var t=function(e,t){if("object"!=cr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cr(t)?t:t+""}function gr(e,t,n){return t=yr(t),function(e,t){if(t&&("object"==cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],yr(e).constructor):t.apply(e,n))}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _r=["vgm","vgz","gym","s98","dro"],wr=function(e){function t(){var e;pr(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=gr(this,t,[].concat(r)),Object(s.a)(e),e.playerKey="vgm",e.name="LibVGM Player",e.speed=1,e.fileExtensions=_r,e.buffer=e.core._malloc(4*e.bufferSize*2),e.vgmCtx=e.core._lvgm_init(e.sampleRate),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&br(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t,n){var r=this.copyToHeap(e),o=this.core._lvgm_load_data(this.vgmCtx,r,e.byteLength);this.core._free(r);var i=tt.metadataFromFilepath(t);if(0!==o)throw console.error("lvgm_load_data failed. error code: %d",o),Error("Unable to load this file!");this.core._lvgm_start(this.vgmCtx);var a=this.core._lvgm_get_metadata(this.vgmCtx),s={title:this.core.UTF8ToString(this.core.getValue(a+0,"i32"))||i.title,artist:this.core.UTF8ToString(this.core.getValue(a+4,"i32")),game:this.core.UTF8ToString(this.core.getValue(a+8,"i32")),system:this.core.UTF8ToString(this.core.getValue(a+12,"i32")),date:this.core.UTF8ToString(this.core.getValue(a+16,"i32")),comment:this.core.UTF8ToString(this.core.getValue(a+20,"i32"))};s.formatted={title:s.game===s.title?s.title:ue(s.game," - ")+s.title,subtitle:[s.artist,s.system].filter((function(e){return e})).join(" - ")+ue(" (",s.date,")")},this.metadata=s,this.resolveParamValues(n),this.setTempo(n.tempo||1),this.resume(),this.emit("playerStateUpdate",hr(hr({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._lvgm_render(this.vgmCtx,this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+4*t*2+4*n,"i32")/134217728}},{key:"getTempo",value:function(){if(this.vgmCtx)return this.core._lvgm_get_playback_speed(this.vgmCtx)}},{key:"setTempo",value:function(e){if(this.vgmCtx)return this.core._lvgm_set_playback_speed(this.vgmCtx,e)}},{key:"getPositionMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_position_ms(this.vgmCtx)}},{key:"getDurationMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_duration_ms(this.vgmCtx)}},{key:"getNumVoices",value:function(){if(this.vgmCtx)return this.core._lvgm_get_voice_count(this.vgmCtx)}},{key:"getVoiceGroups",value:function(){for(var e,t,n=[],r=this.core._lvgm_get_voice_count(this.vgmCtx),o=0;o<r;o++){var i=this.core.UTF8ToString(this.core._lvgm_get_voice_name(this.vgmCtx,o)),a=this.core.UTF8ToString(this.core._lvgm_get_voice_chip_name(this.vgmCtx,o));a!==e&&(t={name:a,icon:!0,voices:[]},e=a,n.push(t)),t.voices.push({idx:o,name:i})}return n}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.vgmCtx&&this.core._lvgm_seek_ms(this.vgmCtx,e)}},{key:"getVoiceName",value:function(e){if(this.vgmCtx)return this.core.UTF8ToString(this.core._lvgm_get_voice_name(this.vgmCtx,e))}},{key:"getVoiceMask",value:function(){if(this.vgmCtx){for(var e=this.core._lvgm_get_voice_mask(this.vgmCtx),t=[],n=0n;n<64n;n++)t.push(0n===(e&1n<<n));return t}return[]}},{key:"setVoiceMask",value:function(e){if(this.vgmCtx){var t=0n;e.forEach((function(e,n){e||(t+=1n<<BigInt(n))})),this.core._lvgm_set_voice_mask(this.vgmCtx,t)}}},{key:"stop",value:function(){this.suspend(),this.vgmCtx&&this.core._lvgm_stop(this.vgmCtx),console.debug("VGMPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&mr(n.prototype,r),o&&mr(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(tt);function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tr(r.key),r)}}function Tr(e){var t=function(e,t){if("object"!=Sr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sr(t)?t:t+""}function kr(e,t,n){return t=xr(t),function(e,t){if(t&&("object"==Sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],xr(e).constructor):t.apply(e,n))}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t){return(Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Or=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=kr(this,t,[e])),n.node=o.a.createRef(),n.knob=o.a.createRef(),n.state={dragging:!1,draggedPos:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cr(e,t)}(t,e),n=t,(r=[{key:"onMouseMove",value:function(e){if(this.state.dragging){var t=this.node.current,n=this.knob.current,r=(e.clientX-t.offsetLeft-n.offsetWidth/2)/t.offsetWidth,o=Math.max(Math.min(r,1),0);this.setState({draggedPos:o}),this.props.onDrag(o)}}},{key:"onMouseDown",value:function(e){var t=this;e.preventDefault(),e.persist(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.setState({dragging:!0},(function(){return t.onMouseMove(e)}))}},{key:"onMouseUp",value:function(e){var t=this;document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),setTimeout((function(){t.setState({dragging:!1})}),150),this.props.onChange(this.state.draggedPos)}},{key:"render",value:function(){var e=100*Math.max(Math.min(this.state.dragging?this.state.draggedPos:this.props.pos,1),0)+"%";return o.a.createElement("div",{ref:this.node,className:"Slider",onMouseDown:this.onMouseDown},o.a.createElement("div",{className:"Slider-rail"}),o.a.createElement("div",{className:"Slider-knob",ref:this.knob,style:{left:e}}))}}])&&Er(n.prototype,r),i&&Er(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.PureComponent);function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ar(r.key),r)}}function Ar(e){var t=function(e,t){if("object"!=Pr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pr(t)?t:t+""}function Rr(e,t,n){return t=Mr(t),function(e,t){if(t&&("object"==Pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Mr(e).constructor):t.apply(e,n))}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t){return(Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var jr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=Rr(this,t,[e])),n.state={draggedSongPositionMs:-1,currentSongPositionMs:0},n.timer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nr(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this;!0===e.paused&&!1===this.props.paused?this.timer=setInterval((function(){var e=t.props,n=e.getCurrentPositionMs,r=e.currentSongDurationMs;t.setState({currentSongPositionMs:Math.min(n(),r)})}),100):!1===e.paused&&!0===this.props.paused&&clearInterval(this.timer)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getSongPos",value:function(){return this.state.currentSongPositionMs/this.props.currentSongDurationMs}},{key:"getTimeLabel",value:function(){var e=this.state.draggedSongPositionMs>=0?this.state.draggedSongPositionMs:this.state.currentSongPositionMs;return this.getTime(e)}},{key:"getTime",value:function(e){var t=e<0?"-":"";e=Math.abs(e);var n,r=Math.floor(e/6e4),o=(Math.floor(e%6e4/100)/10).toFixed(1);return"".concat(t).concat(r,":").concat((n=o)<10?"0"+n:n)}},{key:"handlePositionDrag",value:function(e){var t=e.target?e.target.value:e;this.setState({draggedSongPositionMs:t*this.props.currentSongDurationMs})}},{key:"handlePositionDrop",value:function(e){this.setState({draggedSongPositionMs:-1,currentSongPositionMs:this.state.draggedSongPositionMs}),this.props.onChange(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"TimeSlider"},o.a.createElement(Or,{pos:this.getSongPos(),onDrag:this.handlePositionDrag,onChange:this.handlePositionDrop}),o.a.createElement("div",{className:"TimeSlider-labels"},o.a.createElement("div",null,this.getTimeLabel()),o.a.createElement("div",null,this.getTime(this.props.currentSongDurationMs))))}}])&&Ir(n.prototype,r),i&&Ir(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.a.Component),Dr=Object(r.memo)(Lr);function Lr(e){return o.a.createElement("div",{className:"VolumeSlider"},o.a.createElement("input",{type:"range",title:"Volume",min:0,max:150,step:1,onChange:e.onChange,onDoubleClick:e.handleReset,onContextMenu:e.handleReset,value:e.value}),o.a.createElement("div",{className:"VolumeSlider-labels"},o.a.createElement("div",null,"Volume"),o.a.createElement("div",null,e.value,"%")))}var Fr=n(67),zr=n(2),Ur=n(68);class Br{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ur.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,"[DEFAULT]"===r?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=[];var Hr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Hr||(Hr={}));const qr={debug:Hr.DEBUG,verbose:Hr.VERBOSE,info:Hr.INFO,warn:Hr.WARN,error:Hr.ERROR,silent:Hr.SILENT},$r=Hr.INFO,Kr={[Hr.DEBUG]:"log",[Hr.VERBOSE]:"log",[Hr.INFO]:"info",[Hr.WARN]:"warn",[Hr.ERROR]:"error"},Xr=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),o=Kr[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${e.name}:`,...n)};class Yr{constructor(e){this.name=e,this._logLevel=$r,this._logHandler=Xr,this._userLogHandler=null,Wr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Hr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Hr.DEBUG,...e),this._logHandler(this,Hr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Hr.VERBOSE,...e),this._logHandler(this,Hr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Hr.INFO,...e),this._logHandler(this,Hr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Hr.WARN,...e),this._logHandler(this,Hr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Hr.ERROR,...e),this._logHandler(this,Hr.ERROR,...e)}}var Qr=n(18);let Jr,Zr;const eo=new WeakMap,to=new WeakMap,no=new WeakMap,ro=new WeakMap,oo=new WeakMap;let io={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return to.get(e);if("objectStoreNames"===t)return e.objectStoreNames||no.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ao(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zr||(Zr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(uo(this),t),lo(eo.get(this))}:function(...t){return lo(e.apply(uo(this),t))}:function(t,...n){const r=e.call(uo(this),t,...n);return no.set(r,t.sort?t.sort():[t]),lo(r)}}function so(e){return"function"==typeof e?ao(e):(e instanceof IDBTransaction&&function(e){if(to.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});to.set(e,t)}(e),t=e,(Jr||(Jr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,io):e);var t}function lo(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(lo(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&eo.set(t,e)}).catch(()=>{}),oo.set(t,e),t}(e);if(ro.has(e))return ro.get(e);const t=so(e);return t!==e&&(ro.set(e,t),oo.set(t,e)),t}const uo=e=>oo.get(e);const co=["get","getKey","getAll","getAllKeys","count"],fo=["put","add","delete","clear"],ho=new Map;function po(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(ho.get(t))return ho.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=fo.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!co.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),o&&i.done]))[0]};return ho.set(t,i),i}io=(e=>({...e,get:(t,n,r)=>po(t,n)||e.get(t,n,r),has:(t,n)=>!!po(t,n)||e.has(t,n)}))(io);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mo{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const vo="@firebase/app",go=new Yr("@firebase/app"),yo={[vo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bo=new Map,_o=new Map;function wo(e,t){try{e.container.addComponent(t)}catch(n){go.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function So(e){const t=e.name;if(_o.has(t))return go.debug(`There were multiple attempts to register component ${t}.`),!1;_o.set(t,e);for(const t of bo.values())wo(t,e);return!0}function Eo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const To={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ko=new Qr.a("app","Firebase",To);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xo{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!=typeof o||!o)throw ko.create("bad-app-name",{appName:String(o)});if(n||(n=Object(Qr.e)()),!n)throw ko.create("no-options");const i=bo.get(o);if(i){if(Object(Qr.d)(n,i.options)&&Object(Qr.d)(r,i.config))return i;throw ko.create("duplicate-app",{appName:o})}const a=new Gr(o);for(const e of _o.values())a.addComponent(e);const s=new xo(n,r,a);return bo.set(o,s),s}function Oo(e="[DEFAULT]"){const t=bo.get(e);if(!t&&"[DEFAULT]"===e&&Object(Qr.e)())return Co();if(!t)throw ko.create("no-app",{appName:e});return t}function Po(e,t,n){var r;let o=null!==(r=yo[e])&&void 0!==r?r:e;n&&(o+="-"+n);const i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${o}" with version "${t}":`];return i&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void go.warn(e.join(" "))}So(new Br(o+"-version",()=>({library:o,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Io="firebase-heartbeat-store";let Ao=null;function Ro(){return Ao||(Ao=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=lo(a);return r&&a.addEventListener("upgradeneeded",e=>{r(lo(a.result),e.oldVersion,e.newVersion,lo(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Io)}}}).catch(e=>{throw ko.create("idb-open",{originalErrorMessage:e.message})})),Ao}async function Mo(e,t){try{const n=(await Ro()).transaction(Io,"readwrite"),r=n.objectStore(Io);await r.put(t,No(e)),await n.done}catch(e){if(e instanceof Qr.b)go.warn(e.message);else{const t=ko.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});go.warn(t.message)}}}function No(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Lo(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Do();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Do(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Fo(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Fo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Object(Qr.c)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Do(){return(new Date).toISOString().substring(0,10)}class Lo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(Qr.f)()&&Object(Qr.g)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await Ro();return await t.transaction(Io).objectStore(Io).get(No(e))}catch(e){if(e instanceof Qr.b)go.warn(e.message);else{const t=ko.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});go.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Mo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Mo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fo(e){return Object(Qr.c)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo;zo="",So(new Br("platform-logger",e=>new mo(e),"PRIVATE")),So(new Br("heartbeat",e=>new jo(e),"PRIVATE")),Po(vo,"0.9.13",zo),Po(vo,"0.9.13","esm2017"),Po("fire-js","");function Uo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;function Bo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vo=Bo,Go=new zr.a("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wo=new Yr("@firebase/auth");function Ho(e,...t){Wo.logLevel<=Hr.ERROR&&Wo.error("Auth (9.23.0): "+e,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e,...t){throw Yo(e,...t)}function $o(e,...t){return Yo(e,...t)}function Ko(e,t,n){const r=Object.assign(Object.assign({},Vo()),{[t]:n});return new zr.a("auth","Firebase",r).create(t,{appName:e.name})}function Xo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&qo(e,"argument-error"),Ko(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yo(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Go.create(e,...t)}function Qo(e,t,...n){if(!e)throw Yo(t,...n)}function Jo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ho(t),new Error(t)}function Zo(e,t){e||Jo(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ti(){return"http:"===ni()||"https:"===ni()}function ni(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ri{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zo(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(zr.n)()||Object(zr.o)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ti()||Object(zr.k)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(e,t){Zo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},si=new ri(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ui(e,t,n,r,o={}){return ci(e,o,async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const a=Object(zr.p)(Object.assign({key:e.config.apiKey},i)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),ii.fetch()(hi(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},o))})}async function ci(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ai),t);try{const t=new di(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw pi(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw pi(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw pi(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw pi(e,"user-disabled",i);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ko(e,s,a);qo(e,s)}}catch(t){if(t instanceof zr.b)throw t;qo(e,"network-request-failed",{message:String(t)})}}async function fi(e,t,n,r,o={}){const i=await ui(e,t,n,r,o);return"mfaPendingCredential"in i&&qo(e,"multi-factor-auth-required",{_serverResponse:i}),i}function hi(e,t,n,r){const o=`${t}${n}?${r}`;return e.config.emulator?oi(e.config,o):`${e.config.apiScheme}://${o}`}class di{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t($o(this.auth,"network-request-failed")),si.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=$o(e,t,r);return o.customData._tokenResponse=n,o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(e){return 1e3*Number(e)}function gi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ho("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(zr.c)(n);return e?JSON.parse(e):(Ho("Failed to decode base64 JWT payload"),null)}catch(e){return Ho("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function yi(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof zr.b&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class bi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mi(this.lastLoginAt),this.creationTime=mi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wi(e){var t;const n=e.auth,r=await e.getIdToken(),o=await yi(e,async function(e,t){return ui(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Qo(null==o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=Uo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const s=(l=e.providerData,u=a,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,f=!(e.email&&i.passwordHash||(null==s?void 0:s.length)),h=!!c&&f,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _i(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,d)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qo(e.idToken,"internal-error"),Qo(void 0!==e.idToken,"internal-error"),Qo(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=gi(e);return Qo(t,"internal-error"),Qo(void 0!==t.exp,"internal-error"),Qo(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Qo(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=await ci(e,{},async()=>{const n=Object(zr.p)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=hi(e,r,"/v1/token","key="+o),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ii.fetch()(i,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new Si;return n&&(Qo("string"==typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Qo("string"==typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(Qo("number"==typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Si,this.toJSON())}_performRefresh(){return Jo("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e,t){Qo("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ti{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=Uo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _i(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await yi(this,this.stsTokenManager.getToken(this.auth,e));return Qo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Object(zr.i)(e),r=await n.getIdToken(t),o=gi(r);Qo(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"==typeof o.firebase?o.firebase:void 0,a=null==i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:mi(vi(o.auth_time)),issuedAtTime:mi(vi(o.iat)),expirationTime:mi(vi(o.exp)),signInProvider:a||null,signInSecondFactor:(null==i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(zr.i)(e);await wi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Qo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await wi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await yi(this,async function(e,t){return ui(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,a,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,f=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,d=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:S}=t;Qo(y&&S,e,"internal-error");const E=Si.fromJSON(this.name,S);Qo("string"==typeof y,e,"internal-error"),Ei(c,e.name),Ei(f,e.name),Qo("boolean"==typeof b,e,"internal-error"),Qo("boolean"==typeof _,e,"internal-error"),Ei(h,e.name),Ei(d,e.name),Ei(p,e.name),Ei(m,e.name),Ei(v,e.name),Ei(g,e.name);const T=new Ti({uid:y,auth:e,email:f,emailVerified:b,displayName:c,isAnonymous:_,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:v,lastLoginAt:g});return w&&Array.isArray(w)&&(T.providerData=w.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new Si;r.updateFromServerResponse(t);const o=new Ti({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await wi(o),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Map;function xi(e){Zo(e instanceof Function,"Expected a class definition");let t=ki.get(e);return t?(Zo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ki.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ci.type="NONE";const Oi=Ci;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e,t,n){return`firebase:${e}:${t}:${n}`}class Ii{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Pi(this.userKey,r.apiKey,o),this.fullPersistenceKey=Pi("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ii(xi(Oi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||xi(Oi);const i=Pi(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(i);if(t){const r=Ti._fromJSON(e,t);n!==o&&(a=r),o=n;break}}catch(e){}const s=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&s.length?(o=s[0],a&&await o._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch(e){}})),new Ii(o,e,n)):new Ii(o,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ji(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ri(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Li(t))return"Blackberry";if(Fi(t))return"Webos";if(Mi(t))return"Safari";if((t.includes("chrome/")||Ni(t))&&!t.includes("edge/"))return"Chrome";if(Di(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ri(e=Object(zr.j)()){return/firefox\//i.test(e)}function Mi(e=Object(zr.j)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ni(e=Object(zr.j)()){return/crios\//i.test(e)}function ji(e=Object(zr.j)()){return/iemobile/i.test(e)}function Di(e=Object(zr.j)()){return/android/i.test(e)}function Li(e=Object(zr.j)()){return/blackberry/i.test(e)}function Fi(e=Object(zr.j)()){return/webos/i.test(e)}function zi(e=Object(zr.j)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ui(e=Object(zr.j)()){return zi(e)||Di(e)||Fi(e)||Li(e)||/windows phone/i.test(e)||ji(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bi(e,t=[]){let n;switch(e){case"Browser":n=Ai(Object(zr.j)());break;case"Worker":n=`${Ai(Object(zr.j)())}-${e}`;break;default:n=e}return`${n}/JsCore/9.23.0/${t.length?t.join(","):"FirebaseCore-web"}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(e,t){return ui(e,"GET","/v2/recaptchaConfig",li(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e){return void 0!==e&&void 0!==e.enterprise}class Wi{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e){return new Promise((t,n)=>{const r=document.createElement("script");var o,i;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=$o("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(i=null===(o=document.getElementsByTagName("head"))||void 0===o?void 0:o[0])&&void 0!==i?i:document).appendChild(r)})}function qi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class $i{constructor(e){this.type="recaptcha-enterprise",this.auth=Qi(e)}async verify(e="verify",t=!1){function n(t,n,r){const o=window.grecaptcha;Gi(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Vi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Wi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&Gi(window.grecaptcha))n(o,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Hi("https://www.google.com/recaptcha/enterprise.js?render="+o).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ki(e,t,n,r=!1){const o=new $i(e);let i;try{i=await o.verify(n)}catch(e){i=await o.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.beforeStateQueue=new Xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Go,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ii.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null==a?void 0:a.user)||(r=a.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wi(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(zr.i)(e):null;return t&&Qo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Qo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}async initializeRecaptchaConfig(){const e=await Vi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Wi(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new $i(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr.a("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xi(e)||this._popupRedirectResolver;Qo(t,this,"argument-error"),this.redirectPersistenceManager=await Ii.create(this,[xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return Qo(i,this,"internal-error"),i.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Wo.logLevel<=Hr.WARN&&Wo.warn("Auth (9.23.0): "+e,...t)}("Error while retrieving App Check token: "+t.error),null==t?void 0:t.token}}function Qi(e){return Object(zr.i)(e)}class Ji{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(zr.d)(e=>this.observer=e)}get next(){return Qo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e,t,n){const r=Qi(e);Qo(r._canInitEmulator,r,"emulator-config-failed"),Qo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null==n?void 0:n.disableWarnings),i=ea(t),{host:a,port:s}=function(e){const t=ea(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:ta(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ta(t)}}}(t),l=null===s?"":":"+s;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function ea(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ta(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class na{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jo("not implemented")}_getIdTokenResponse(e){return Jo("not implemented")}_linkToIdToken(e,t){return Jo("not implemented")}_getReauthenticationResolver(e){return Jo("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(e,t){return ui(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function oa(e,t){return fi(e,"POST","/v1/accounts:signInWithPassword",li(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ia extends na{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ia(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ia(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ki(e,n,"signInWithPassword");return oa(e,t)}return oa(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ki(e,n,"signInWithPassword");return oa(e,t)}return Promise.reject(t)});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return fi(e,"POST","/v1/accounts:signInWithEmailLink",li(e,t))}(e,{email:this._email,oobCode:this._password});default:qo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ra(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return fi(e,"POST","/v1/accounts:signInWithEmailLink",li(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:qo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(e,t){return fi(e,"POST","/v1/accounts:signInWithIdp",li(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=Uo(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new sa(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return aa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,aa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,aa(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(zr.p)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ua extends na{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ua({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ua({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return fi(e,"POST","/v1/accounts:signInWithPhoneNumber",li(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await fi(e,"POST","/v1/accounts:signInWithPhoneNumber",li(e,t));if(n.temporaryProof)throw pi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return fi(e,"POST","/v1/accounts:signInWithPhoneNumber",li(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),la)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new ua({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){var t,n,r,o,i,a;const s=Object(zr.q)(Object(zr.f)(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Qo(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(o=s.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=s.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Object(zr.q)(Object(zr.f)(e)).link,n=t?Object(zr.q)(Object(zr.f)(t)).deep_link_id:null,r=Object(zr.q)(Object(zr.f)(e)).deep_link_id;return(r?Object(zr.q)(Object(zr.f)(r)).link:null)||r||n||t||e}(e);try{return new ca(t)}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,t){return ia._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ca.parseLink(t);return Qo(n,"argument-error"),ia._fromEmailAndCode(e,n.code,n.tenantId)}}fa.PROVIDER_ID="password",fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ha{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends ha{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pa extends da{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch(e){return null}}}pa.FACEBOOK_SIGN_IN_METHOD="facebook.com",pa.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ma extends da{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sa._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ma.credential(t,n)}catch(e){return null}}}ma.GOOGLE_SIGN_IN_METHOD="google.com",ma.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class va extends da{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch(e){return null}}}va.GITHUB_SIGN_IN_METHOD="github.com",va.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ga extends da{constructor(){super("twitter.com")}static credential(e,t){return sa._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ga.credential(t,n)}catch(e){return null}}}ga.TWITTER_SIGN_IN_METHOD="twitter.com",ga.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const o=await Ti._fromIdTokenResponse(e,n,r),i=ba(n);return new ya({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ba(n);return new ya({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ba(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _a extends zr.b{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,_a.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new _a(e,t,n,r)}}function wa(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw _a._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(e,t,n=!1){const r=await yi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ya._forOperation(e,"link",r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ea(e,t,n=!1){const{auth:r}=e;try{const o=await yi(e,wa(r,"reauthenticate",t,e),n);Qo(o.idToken,r,"internal-error");const i=gi(o.idToken);Qo(i,r,"internal-error");const{sub:a}=i;return Qo(e.uid===a,r,"user-mismatch"),ya._forOperation(e,"reauthenticate",o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&qo(r,"user-mismatch"),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(e,t,n=!1){const r=await wa(e,"signIn",t),o=await ya._fromIdTokenResponse(e,"signIn",r);return n||await e._updateCurrentUser(o.user),o}function ka(e){return Object(zr.i)(e).signOut()}new WeakMap;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends xa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(zr.j)();return Mi(e)||zi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Object(zr.m)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ca.type="LOCAL";const Oa=Ca;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends xa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pa.type="SESSION";const Ia=Pa;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Aa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Aa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,o)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ra(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa.receivers=[];class Ma{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((a,s)=>{const l=Ra("",20);r.port1.start();const u=setTimeout(()=>{s(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(t.data.response);break;default:clearTimeout(u),clearTimeout(o),s(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ja(){return void 0!==Na().WorkerGlobalScope&&"function"==typeof Na().importScripts}class Da{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function La(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function Fa(){const e=indexedDB.open("firebaseLocalStorageDb",1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains("firebaseLocalStorage")?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase("firebaseLocalStorageDb");return new Da(e).toPromise()}(),t(await Fa()))})})}async function za(e,t,n){const r=La(e,!0).put({fbase_key:t,value:n});return new Da(r).toPromise()}function Ua(e,t){const n=La(e,!0).delete(t);return new Da(n).toPromise()}class Ba{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Fa()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ja()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Aa._getInstance(ja()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ma(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fa();return await za(e,"__sak","1"),await Ua(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>za(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=La(e,!1).get(t),r=await new Da(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ua(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=La(e,!1).getAll();return new Da(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ba.type="LOCAL";const Va=Ba;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
qi("rcb"),new ri(3e4,6e4);async function Ga(e,t,n){var r;const o=await n.verify();try{let i;if(Qo("string"==typeof o,e,"argument-error"),Qo("recaptcha"===n.type,e,"argument-error"),i="string"==typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Qo("enroll"===t.type,e,"internal-error");return(await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return ui(e,"POST","/v2/accounts/mfaEnrollment:start",li(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo}{Qo("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Qo(n,e,"missing-multi-factor-info");return(await function(e,t){return ui(e,"POST","/v2/accounts/mfaSignIn:start",li(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ui(e,"POST","/v1/accounts:sendVerificationCode",li(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:o});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wa{constructor(e){this.providerId=Wa.PROVIDER_ID,this.auth=Qi(e)}verifyPhoneNumber(e,t){return Ga(this.auth,e,Object(zr.i)(t))}static credential(e,t){return ua._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wa.credentialFromTaggedObject(t)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ua._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ha(e,t){return t?xi(t):(Qo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa.PROVIDER_ID="phone",Wa.PHONE_SIGN_IN_METHOD="phone";class qa extends na{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $a(e){return Ta(e.auth,new qa(e),e.bypassAuthState)}function Ka(e){const{auth:t,user:n}=e;return Qo(n,t,"internal-error"),Ea(n,new qa(e),e.bypassAuthState)}async function Xa(e){const{auth:t,user:n}=e;return Qo(n,t,"internal-error"),Sa(n,new qa(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,n,r,o=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:a}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $a;case"linkViaPopup":case"linkViaRedirect":return Xa;case"reauthViaPopup":case"reauthViaRedirect":return Ka;default:qo(this.auth,"internal-error")}}resolve(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new ri(2e3,1e4);async function Ja(e,t,n){const r=Qi(e);Xo(e,t,ha);const o=Ha(r,n);return new Za(r,"signInViaPopup",t,o).executeNotNull()}class Za extends Ya{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qo(e,this.auth,"internal-error"),e}async onExecution(){Zo(1===this.filter.length,"Popup operations only handle one event");const e=Ra();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($o(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject($o(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($o(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Qa.get())};e()}}Za.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const es=new Map;class ts extends Ya{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=es.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=os(t),r=rs(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}es.set(this.auth._key(),e)}return this.bypassAuthState||es.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ns(e,t){es.set(e._key(),t)}function rs(e){return xi(e._redirectPersistence)}function os(e){return Pi("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function is(e,t,n=!1){const r=Qi(e),o=Ha(r,t),i=new ts(r,o,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class as{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ls(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ls(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($o(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ss(e))}saveEventToCache(e){this.cachedEventUids.add(ss(e)),this.lastProcessedEventTime=Date.now()}}function ss(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ls({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const us=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cs=/^https?/;async function fs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return ui(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(hs(e))return}catch(e){}qo(e,"unauthorized-domain")}function hs(e){const t=ei(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!cs.test(n))return!1;if(us.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new ri(3e4,6e4);function ps(){const e=Na().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let ms=null;function vs(e){return ms=ms||function(e){return new Promise((t,n)=>{var r,o,i;function a(){ps(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ps(),n($o(e,"network-request-failed"))},timeout:ds.get()})}if(null===(o=null===(r=Na().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Na().gapi)||void 0===i?void 0:i.load)){const t=qi("iframefcb");return Na()[t]=()=>{gapi.load?a():n($o(e,"network-request-failed"))},Hi("https://apis.google.com/js/api.js?onload="+t).catch(e=>n(e))}a()}}).catch(e=>{throw ms=null,e})}(e),ms}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new ri(5e3,15e3),ys={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _s(e){const t=e.config;Qo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?oi(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:"9.23.0"},o=bs.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Object(zr.p)(r).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ws={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ss{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Es(e,t,n,r=500,o=600){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ws),{width:r.toString(),height:o.toString(),top:i,left:a}),u=Object(zr.j)().toLowerCase();n&&(s=Ni(u)?"_blank":n),Ri(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Object(zr.j)()){var t;return zi(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",s),new Ss(null);const f=window.open(t||"",s,c);Qo(f,e,"popup-blocked");try{f.focus()}catch(e){}return new Ss(f)}const Ts=encodeURIComponent("fac");async function ks(e,t,n,r,o,i){Qo(e.config.authDomain,e,"auth-domain-config-required"),Qo(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:"9.23.0",eventId:o};if(t instanceof ha){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Object(zr.l)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof da){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];const l=await e._getAppCheckToken(),u=l?`#${Ts}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/__/auth/handler`;return oi(e,"emulator/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Object(zr.p)(s).slice(1)}${u}`}const xs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ia,this._completeRedirectFn=is,this._overrideRedirectResult=ns}async _openPopup(e,t,n,r){var o;Zo(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return Es(e,await ks(e,t,n,ei(),r),Ra())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Na().location.href=e}(await ks(e,t,n,ei(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Zo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await vs(e),n=Na().gapi;return Qo(n,e,"internal-error"),t.open({where:document.body,url:_s(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ys,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=$o(e,"network-request-failed"),i=Na().setTimeout(()=>{r(o)},gs.get());function a(){Na().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(o)})}))}(e),n=new as(e);return t.register("authEvent",t=>{Qo(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const o=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==o&&t(!!o),qo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ui()||Mi()||zi()}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Cs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Os=Object(zr.h)("authIdTokenMaxAge")||300;let Ps=null;function Is(e=Oo()){const t=Eo(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Eo(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if(Object(zr.e)(r,null!=t?t:{}))return e;qo(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:xs,persistence:[Va,Oa,Ia]}),r=Object(zr.h)("authTokenSyncURL");if(r){const e=(o=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Os)return;const r=null==t?void 0:t.token;Ps!==r&&(Ps=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer "+r}:{}}))});!function(e,t,n){Object(zr.i)(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Object(zr.i)(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var o;const i=Object(zr.g)("auth");return i&&Zi(n,"http://"+i),n}var As;As="Browser",So(new Br("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=n.options;Qo(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:i,authDomain:a,clientPlatform:As,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bi(As)},l=new Yi(n,r,o,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),So(new Br("auth-internal",e=>(e=>new Cs(e))(Qi(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Po("@firebase/auth","0.23.2",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(As)),Po("@firebase/auth","0.23.2","esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Po("firebase","9.23.0","app");var Rs=n(11);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ms.UNAUTHENTICATED=new Ms(null),Ms.GOOGLE_CREDENTIALS=new Ms("google-credentials-uid"),Ms.FIRST_PARTY=new Ms("first-party-uid"),Ms.MOCK_USER=new Ms("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ns="9.23.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Yr("@firebase/firestore");function Ds(e,...t){if(js.logLevel<=Hr.DEBUG){const n=t.map(zs);js.debug(`Firestore (${Ns}): ${e}`,...n)}}function Ls(e,...t){if(js.logLevel<=Hr.ERROR){const n=t.map(zs);js.error(`Firestore (${Ns}): ${e}`,...n)}}function Fs(e,...t){if(js.logLevel<=Hr.WARN){const n=t.map(zs);js.warn(`Firestore (${Ns}): ${e}`,...n)}}function zs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e="Unexpected state"){const t=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+e;throw Ls(t),new Error(t)}function Bs(e,t){e||Us()}function Vs(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="cancelled",Ws="unknown",Hs="invalid-argument",qs="deadline-exceeded",$s="not-found",Ks="permission-denied",Xs="unauthenticated",Ys="failed-precondition",Qs="out-of-range",Js="unimplemented",Zs="internal",el="unavailable";class tl extends Rs.a{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class nl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class rl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ms.UNAUTHENTICATED))}shutdown(){}}class ol{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class il{constructor(e){this.auth=null,e.onInit(e=>{this.auth=e})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(Bs("string"==typeof e.accessToken),new nl(e.accessToken,new Ms(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class al{constructor(e,t,n){this.t=e,this.i=t,this.o=n,this.type="FirstParty",this.user=Ms.FIRST_PARTY,this.u=new Map}h(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class sl{constructor(e,t,n){this.t=e,this.i=t,this.o=n}getToken(){return Promise.resolve(new al(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(Ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ll{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ul{constructor(e){this.l=e,this.appCheck=null,e.onInit(e=>{this.appCheck=e})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(Bs("string"==typeof e.token),new ll(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t,n,r,o,i,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class fl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}class hl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Us(),void 0===n?n=e.length-t:n>e.length-t&&Us(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),o=t.get(r);if(n<o)return-1;if(n>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dl extends hl{construct(e,t,n){return new dl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new tl(Hs,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new dl(t)}static emptyPath(){return new dl([])}}const pl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ml extends hl{construct(e,t,n){return new ml(e,t,n)}static isValidIdentifier(e){return pl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ml.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ml(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new tl(Hs,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new tl(Hs,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new tl(Hs,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new tl(Hs,"Unterminated ` in path: "+e);return new ml(t)}static emptyPath(){return new ml([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.path=e}static fromPath(e){return new vl(dl.fromString(e))}static fromName(e){return new vl(dl.fromString(e).popFirst(5))}static empty(){return new vl(dl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vl(new dl(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e,t,n){if(!n)throw new tl(Hs,`Function ${e}() cannot be called with an empty ${t}.`)}function yl(e){if(!vl.isDocumentKey(e))throw new tl(Hs,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function bl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Us()}function _l(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tl(Hs,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bl(e);throw new tl(Hs,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wl(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}let Sl=null;function El(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kl,xl;function Cl(e){if(void 0===e)return Ls("RPC_ERROR","HTTP error has no status"),Ws;switch(e){case 200:return"ok";case 400:return Ys;case 401:return Xs;case 403:return Ks;case 404:return $s;case 409:return"aborted";case 416:return Qs;case 429:return"resource-exhausted";case 499:return Gs;case 500:return Ws;case 501:return Js;case 503:return el;case 504:return qs;default:return e>=200&&e<300?"ok":e>=400&&e<500?Ys:e>=500&&e<600?Zs:Ws}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(xl=kl||(kl={}))[xl.OK=0]="OK",xl[xl.CANCELLED=1]="CANCELLED",xl[xl.UNKNOWN=2]="UNKNOWN",xl[xl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xl[xl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xl[xl.NOT_FOUND=5]="NOT_FOUND",xl[xl.ALREADY_EXISTS=6]="ALREADY_EXISTS",xl[xl.PERMISSION_DENIED=7]="PERMISSION_DENIED",xl[xl.UNAUTHENTICATED=16]="UNAUTHENTICATED",xl[xl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xl[xl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xl[xl.ABORTED=10]="ABORTED",xl[xl.OUT_OF_RANGE=11]="OUT_OF_RANGE",xl[xl.UNIMPLEMENTED=12]="UNIMPLEMENTED",xl[xl.INTERNAL=13]="INTERNAL",xl[xl.UNAVAILABLE=14]="UNAVAILABLE",xl[xl.DATA_LOSS=15]="DATA_LOSS";class Ol extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.m=t+"://"+e.host,this.p="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get g(){return!1}v(e,t,n,r,o){const i=(null===Sl?Sl=268435456+Math.round(2147483648*Math.random()):Sl++,"0x"+Sl.toString(16)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */),a=this.I(e,t);Ds("RestConnection",`Sending RPC '${e}' ${i}:`,a,n);const s={};return this.T(s,r,o),this.A(e,a,s,n).then(t=>(Ds("RestConnection",`Received RPC '${e}' ${i}: `,t),t),t=>{throw Fs("RestConnection",`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}R(e,t,n,r,o,i){return this.v(e,t,n,r,o)}T(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ns,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}I(e,t){const n=Tl[e];return`${this.m}/v1/${t}:${n}`}}{constructor(e,t){super(e),this.P=t}V(e,t){throw new Error("Not supported by FetchConnection")}async A(e,t,n,r){var o;const i=JSON.stringify(r);let a;try{a=await this.P(t,{method:"POST",headers:n,body:i})}catch(e){const t=e;throw new tl(Cl(t.status),"Request failed with error: "+t.statusText)}if(!a.ok){let e=await a.json();Array.isArray(e)&&(e=e[0]);const t=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message;throw new tl(Cl(a.status),"Request failed with error: "+(null!=t?t:a.statusText))}return a.json()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{static N(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Pl(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%e.length))}return n}}function Al(e,t){return e<t?-1:e>t?1:0}function Rl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new jl("Invalid base64 string: "+e):e}}(e);return new Dl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Dl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Al(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dl.EMPTY_BYTE_STRING=new Dl("");const Ll=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fl(e){if(Bs(!!e),"string"==typeof e){let t=0;const n=Ll.exec(e);if(Bs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:zl(e.seconds),nanos:zl(e.nanos)}}function zl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ul(e){return"string"==typeof e?Dl.fromBase64String(e):Dl.fromUint8Array(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tl(Hs,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tl(Hs,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tl(Hs,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tl(Hs,"Timestamp seconds out of range: "+e)}static now(){return Bl.fromMillis(Date.now())}static fromDate(e){return Bl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Bl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Al(this.nanoseconds,e.nanoseconds):Al(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gl(e){const t=Fl(e.mapValue.fields.__local_write_time__.timestampValue);return new Bl(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vl(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:10:Us()}function Hl(e,t){if(e===t)return!0;const n=Wl(e);if(n!==Wl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gl(e).isEqual(Gl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fl(e.timestampValue),r=Fl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ul(e.bytesValue).isEqual(Ul(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zl(e.geoPointValue.latitude)===zl(t.geoPointValue.latitude)&&zl(e.geoPointValue.longitude)===zl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zl(e.integerValue)===zl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=zl(e.doubleValue),r=zl(t.doubleValue);return n===r?El(n)===El(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Rl(e.arrayValue.values||[],t.arrayValue.values||[],Hl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ml(n)!==Ml(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Hl(n[e],r[e])))return!1;return!0}(e,t);default:return Us()}}function ql(e){return!!e&&"mapValue"in e}function $l(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=$l(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$l(e.arrayValue.values[n]);return t}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kl(e)}static min(){return new Kl(new Bl(0,0))}static max(){return new Kl(new Bl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.comparator=e,this.root=t||Ql.EMPTY}insert(e,t){return new Xl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ql.BLACK,null,null))}remove(e){return new Xl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ql.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ql{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Ql.RED,this.left=null!=r?r:Ql.EMPTY,this.right=null!=o?o:Ql.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new Ql(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ql.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ql.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ql.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ql.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Us();if(this.right.isRed())throw Us();const e=this.left.check();if(e!==this.right.check())throw Us();return e+(this.isRed()?0:1)}}Ql.EMPTY=null,Ql.RED=!0,Ql.BLACK=!1,Ql.EMPTY=new class{constructor(){this.size=0}get key(){throw Us()}get value(){throw Us()}get color(){throw Us()}get left(){throw Us()}get right(){throw Us()}copy(e,t,n,r,o){return this}insert(e,t,n){return new Ql(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jl{constructor(e){this.comparator=e,this.data=new Xl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zl(this.data.getIterator())}getIteratorFrom(e){return new Zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Jl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jl(this.comparator);return t.data=e,t}}class Zl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.fields=e,e.sort(ml.comparator)}static empty(){return new eu([])}unionWith(e){let t=new Jl(ml.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new eu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.value=e}static empty(){return new tu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ql(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=ml.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=$l(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());ql(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ql(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Nl(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new tu($l(this.value))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t,n,r,o,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new nu(e,0,Kl.min(),Kl.min(),Kl.min(),tu.empty(),0)}static newFoundDocument(e,t,n,r){return new nu(e,1,t,Kl.min(),n,r,0)}static newNoDocument(e,t){return new nu(e,2,t,Kl.min(),Kl.min(),tu.empty(),0)}static newUnknownDocument(e,t){return new nu(e,3,t,Kl.min(),Kl.min(),tu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ru{constructor(e,t=null,n=[],r=[],o=null,i="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.q=null,this.O=null,this.startAt,this.endAt}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ou(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!El(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:El(t)?"-0":t}}(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this._=void 0}}class au extends iu{}class su extends iu{constructor(e){super(),this.elements=e}}class lu extends iu{constructor(e){super(),this.elements=e}}class uu extends iu{constructor(e,t){super(),this.serializer=e,this.k=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.field=e,this.transform=t}}class fu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fu}static exists(e){return new fu(void 0,e)}static updateTime(e){return new fu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class hu{}class du extends hu{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pu extends hu{constructor(e,t,n,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}class mu extends hu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vu extends hu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _u(e,t){return yu(e,t.toTimestamp())}function wu(e){return Bs(!!e),Kl.fromTimestamp(function(e){const t=Fl(e);return new Bl(t.seconds,t.nanos)}(e))}function Su(e,t){return function(e){return new dl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Eu(e,t){return Su(e.databaseId,t.path)}function Tu(e,t){const n=function(e){const t=dl.fromString(e);return Bs(Ou(t)),t}(t);if(n.get(1)!==e.databaseId.projectId)throw new tl(Hs,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tl(Hs,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vl((Bs((r=n).length>4&&"documents"===r.get(4)),r.popFirst(5)));var r}function ku(e){return new dl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xu(e,t,n){return{name:Eu(e,t),fields:n.value.mapValue.fields}}function Cu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ou(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(e){return new gu(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Iu extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J=!1}X(){if(this.J)throw new tl(Ys,"The client has already been terminated.")}v(e,t,n){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.v(e,t,n,r,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Xs&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tl(Ws,e.toString())})}R(e,t,n,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.R(e,t,n,o,i,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Xs&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tl(Ws,e.toString())})}terminate(){this.J=!0}}async function Au(e,t){const n=Vs(e),r=ku(n.serializer)+"/documents",o={writes:t.map(e=>function(e,t){let n;if(t instanceof du)n={update:xu(e,t.key,t.value)};else if(t instanceof mu)n={delete:Eu(e,t.key)};else if(t instanceof pu)n={update:xu(e,t.key,t.data),updateMask:Cu(t.fieldMask)};else{if(!(t instanceof vu))return Us();n={verify:Eu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof au)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof su)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uu)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Us()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_u(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Us()}(e,t.precondition)),n}(n.serializer,e))};await n.v("Commit",r,o)}async function Ru(e,t){const n=Vs(e),r=ku(n.serializer)+"/documents",o={documents:t.map(e=>Eu(n.serializer,e))},i=await n.R("BatchGetDocuments",r,o,t.length),a=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Bs(!!t.found),t.found.name,t.found.updateTime;const n=Tu(e,t.found.name),r=wu(t.found.updateTime),o=t.found.createTime?wu(t.found.createTime):Kl.min(),i=new tu({mapValue:{fields:t.found.fields}});return nu.newFoundDocument(n,r,o,i)}(e,t):"missing"in t?function(e,t){Bs(!!t.missing),Bs(!!t.readTime);const n=Tu(e,t.missing),r=wu(t.readTime);return nu.newNoDocument(n,r)}(e,t):Us()}(n.serializer,e);a.set(t.key.toString(),t)});const s=[];return t.forEach(e=>{const t=a.get(e.toString());Bs(!!t),s.push(t)}),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Mu=new Map;function Nu(e){if(e._terminated)throw new tl(Ys,"The client has already been terminated.");if(!Mu.has(e)){Ds("ComponentProvider","Initializing Datastore");const i=function(e){return new Ol(e,fetch.bind(null))}((t=e._databaseId,n=e.app.options.appId||"",r=e._persistenceKey,o=e._freezeSettings(),new cl(t,n,r,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,wl(o.experimentalLongPollingOptions),o.useFetchStreams))),a=Pu(e._databaseId),s=function(e,t,n,r){return new Iu(e,t,n,r)}(e._authCredentials,e._appCheckCredentials,i,a);Mu.set(e,s)}var t,n,r,o;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return Mu.get(e)}class ju{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new tl(Hs,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tl(Hs,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new tl(Hs,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wl(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new tl(Hs,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new tl(Hs,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new tl(Hs,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Du{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ju({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tl(Ys,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tl(Ys,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ju(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new rl;switch(e.type){case"firstParty":return new sl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tl(Hs,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mu.get(e);t&&(Ds("ComponentProvider","Removing Datastore"),Mu.delete(e),t.terminate())}(this),Promise.resolve()}}function Lu(e,t){const n="string"==typeof e?e:t||"(default)",r=Eo("object"==typeof e?e:Oo(),"firestore/lite").getImmediate({identifier:n});if(!r._initialized){const e=Object(Rs.d)("firestore");e&&function(e,t,n,r={}){var o;const i=(e=_l(e,Du))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==i.host&&i.host!==a&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ms.MOCK_USER;else{t=Object(Rs.b)(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new tl(Hs,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ms(i)}e._authCredentials=new ol(new nl(t,n))}}(r,...e)}return r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fu(this.firestore,e,this._key)}}class zu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zu(this.firestore,e,this._query)}}class Uu extends zu{constructor(e,t,n){super(e,t,new ru(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fu(this.firestore,null,new vl(e))}withConverter(e){return new Uu(this.firestore,e,this._path)}}function Bu(e,t,...n){if(e=Object(Rs.e)(e),1===arguments.length&&(t=Il.N()),gl("doc","path",t),e instanceof Du){const r=dl.fromString(t,...n);return yl(r),new Fu(e,null,new vl(r))}{if(!(e instanceof Fu||e instanceof Uu))throw new tl(Hs,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(dl.fromString(t,...n));return yl(r),new Fu(e.firestore,e instanceof Uu?e.converter:null,new vl(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vu(Dl.fromBase64String(e))}catch(e){throw new tl(Hs,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Vu(Dl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tl(Hs,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ml(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wu{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tl(Hs,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tl(Hs,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Al(this._lat,e._lat)||Al(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=/^__.*__$/;class $u{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new pu(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}class Ku{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new pu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Us()}}class Yu{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.tt(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get et(){return this.settings.et}nt(e){return new Yu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}rt(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.it(e),r}ot(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.tt(),r}ut(e){return this.nt({path:void 0,st:!0})}ct(e){return dc(e,this.settings.methodName,this.settings.ht||!1,this.path,this.settings.lt)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tt(){if(this.path)for(let e=0;e<this.path.length;e++)this.it(this.path.get(e))}it(e){if(0===e.length)throw this.ct("Document fields must not be empty");if(Xu(this.et)&&qu.test(e))throw this.ct('Document fields cannot begin and end with "__"')}}class Qu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Pu(e)}ft(e,t,n,r=!1){return new Yu({et:e,methodName:t,lt:n,path:ml.emptyPath(),st:!1,ht:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ju(e){const t=e._freezeSettings(),n=Pu(e._databaseId);return new Qu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zu(e,t,n,r,o,i={}){const a=e.ft(i.merge||i.mergeFields?2:0,t,n,o);uc("Data must be an object, but it was:",a,r);const s=sc(r,a);let l,u;if(i.merge)l=new eu(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=cc(t,r,n);if(!a.contains(o))throw new tl(Hs,`Field '${o}' is specified in your field mask but missing from your input data.`);pc(e,o)||e.push(o)}l=new eu(e),u=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=a.fieldTransforms;return new $u(new tu(s),l,u)}class ec extends Wu{_toFieldTransform(e){if(2!==e.et)throw 1===e.et?e.ct(this._methodName+"() can only appear at the top level of your update data"):e.ct(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ec}}function tc(e,t,n){return new Yu({et:3,lt:t.settings.lt,methodName:e._methodName,st:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class nc extends Wu{constructor(e,t){super(e),this.dt=t}_toFieldTransform(e){const t=tc(this,e,!0),n=this.dt.map(e=>ac(e,t)),r=new su(n);return new cu(e.path,r)}isEqual(e){return this===e}}class rc extends Wu{constructor(e,t){super(e),this.dt=t}_toFieldTransform(e){const t=tc(this,e,!0),n=this.dt.map(e=>ac(e,t)),r=new lu(n);return new cu(e.path,r)}isEqual(e){return this===e}}function oc(e,t,n,r){const o=e.ft(1,t,n);uc("Data must be an object, but it was:",o,r);const i=[],a=tu.empty();Nl(r,(e,r)=>{const s=hc(t,e,n);r=Object(Rs.e)(r);const l=o.ot(s);if(r instanceof ec)i.push(s);else{const e=ac(r,l);null!=e&&(i.push(s),a.set(s,e))}});const s=new eu(i);return new Ku(a,s,o.fieldTransforms)}function ic(e,t,n,r,o,i){const a=e.ft(1,t,n),s=[cc(t,r,n)],l=[o];if(i.length%2!=0)throw new tl(Hs,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<i.length;e+=2)s.push(cc(t,i[e])),l.push(i[e+1]);const u=[],c=tu.empty();for(let e=s.length-1;e>=0;--e)if(!pc(u,s[e])){const t=s[e];let n=l[e];n=Object(Rs.e)(n);const r=a.ot(t);if(n instanceof ec)u.push(t);else{const e=ac(n,r);null!=e&&(u.push(t),c.set(t,e))}}const f=new eu(u);return new Ku(c,f,a.fieldTransforms)}function ac(e,t){if(lc(e=Object(Rs.e)(e)))return uc("Unsupported field value:",t,e),sc(e,t);if(e instanceof Wu)return function(e,t){if(!Xu(t.et))throw t.ct(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.ct(e._methodName+"() is not currently supported inside arrays");const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.st&&4!==t.et)throw t.ct("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=ac(o,t.ut(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(Rs.e)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ou(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Bl.fromDate(e);return{timestampValue:yu(t.serializer,n)}}if(e instanceof Bl){const n=new Bl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yu(t.serializer,n)}}if(e instanceof Hu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vu)return{bytesValue:bu(t.serializer,e._byteString)};if(e instanceof Fu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ct(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Su(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ct("Unsupported field value: "+bl(e))}(e,t)}function sc(e,t){const n={};return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nl(e,(e,r)=>{const o=ac(r,t.rt(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function lc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bl||e instanceof Hu||e instanceof Vu||e instanceof Fu||e instanceof Wu)}function uc(e,t,n){if(!lc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=bl(n);throw"an object"===r?t.ct(e+" a custom object"):t.ct(e+" "+r)}}function cc(e,t,n){if((t=Object(Rs.e)(t))instanceof Gu)return t._internalPath;if("string"==typeof t)return hc(e,t);throw dc("Field path arguments must be of type string or ",e,!1,void 0,n)}const fc=new RegExp("[~\\*/\\[\\]]");function hc(e,t,n){if(t.search(fc)>=0)throw dc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Gu(...t.split("."))._internalPath}catch(r){throw dc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function dc(e,t,n,r,o){const i=r&&!r.isEmpty(),a=void 0!==o;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field "+r),a&&(l+=" in document "+o),l+=")"),new tl(Hs,s+e+l)}function pc(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vc extends mc{data(){return super.data()}}function gc(e,t){return"string"==typeof t?hc(e,t):t instanceof Gu?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class bc extends class{convertValue(e,t="none"){switch(Wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Us()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Nl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Hu(zl(e.latitude),zl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=function e(t){const n=t.mapValue.fields.__previous_value__;return Vl(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const t=Fl(e);return new Bl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dl.fromString(e);Bs(Ou(n));const r=new fl(n.get(1),n.get(3)),o=new vl(n.popFirst(5));return r.isEqual(t)||Ls(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fu(this.firestore,null,t)}}function _c(e,t,n,...r){const o=Ju((e=_l(e,Fu)).firestore);let i;return i="string"==typeof(t=Object(Rs.e)(t))||t instanceof Gu?ic(o,"updateDoc",e._key,t,n,r):oc(o,"updateDoc",e._key,t),Au(Nu(e.firestore),[i.toMutation(e._key,fu.exists(!0))])}function wc(...e){return new nc("arrayUnion",e)}function Sc(...e){return new rc("arrayRemove",e)}Ns="9.23.0_lite",So(new Br("firestore/lite",(e,{instanceIdentifier:t,options:n})=>{const r=e.getProvider("app").getImmediate(),o=new Du(new il(e.getProvider("auth-internal")),new ul(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tl(Hs,'"projectId" not provided in firebase.initializeApp.');return new fl(e.options.projectId,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t),r);return n&&o._setSettings(n),o},"PUBLIC").setMultipleInstances(!0)),Po("firestore-lite","3.13.0",""),Po("firestore-lite","3.13.0","esm2017");var Ec={apiKey:"AIzaSyDHcrVxSLoGA-_t-Ad46Ds1YEvbM2GazQw",authDomain:"chip-player-js.firebaseapp.com",databaseURL:"https://chip-player-js.firebaseio.com",projectId:"chip-player-js",storageBucket:"chip-player-js.appspot.com",messagingSenderId:"762111649253"};function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kc(e){return function(e){if(Array.isArray(e))return Ac(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ic(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==Tc(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Tc(t)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Cc(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Oc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Cc(i,r,o,a,s,"next",e)}function s(e){Cc(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||Ic(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(e,t){if(e){if("string"==typeof e)return Ac(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ac(e,t):void 0}}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(n),!0).forEach((function(t){Nc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Tc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jc=Object(r.createContext)({user:null,loadingUser:!0,faves:[],favesContext:[],showPlayerSettings:!1,handleLogin:function(){},handleLogout:function(){},handleToggleFavorite:function(){},settings:{},updateSettings:function(){},replaceSettings:function(){}}),Dc={showPlayerSettings:!1,theme:"msdos"};var Lc=function(e){var t=e.children,n=Pc(Object(r.useState)(null),2),i=n[0],a=n[1],s=Pc(Object(r.useState)((function(){try{var e=window.localStorage.getItem("faves");return e?JSON.parse(e):[]}catch(e){return console.error("Could not load faves from localStorage",e),[]}})),2),l=s[0],u=s[1],c=Pc(Object(r.useState)(!0),2),f=c[0],h=c[1],d=Pc(Object(r.useState)((function(){try{var e=window.localStorage.getItem("settings");return e?JSON.parse(e):Dc}catch(e){return console.error("Could not load settings from localStorage",e),Dc}})),2),p=d[0],m=d[1];Object(r.useEffect)((function(){try{window.localStorage.setItem("faves",JSON.stringify(l))}catch(e){console.error("Could not save faves to localStorage",e)}}),[l]),Object(r.useEffect)((function(){try{window.localStorage.setItem("settings",JSON.stringify(p))}catch(e){console.error("Could not save settings to localStorage",e)}}),[p]),Object(r.useEffect)((function(){var e=Co(Ec),t=Is(e),n=Lu(e);!function(e,t,n,r){Object(zr.i)(e).onAuthStateChanged(t,n,r)}(t,(function(e){if(a(e),h(!1),e){var t=Bu(n,"users",e.uid);(function(e){const t=Nu((e=_l(e,Fu)).firestore),n=new bc(e.firestore);return Ru(t,[e._key]).then(t=>{Bs(1===t.length);const r=t[0];return new mc(e.firestore,n,e._key,r.isFoundDocument()?r:null,e.converter)})})(t).then((function(n){if(n.exists()){var r=n.data(),o=function(e){return e.length>0?e.map((function(e){return"string"==typeof e?{href:e,mtime:Math.floor(Date.parse("2024-01-01")/1e3)}:e})):e}(r.faves||[]);u(o);var i=function(e){var t=Mc({},e);return Object.keys(Dc).forEach((function(n){void 0===e[n]&&(t[n]=Dc[n])})),t}(r.settings);m(i)}else console.debug("Creating user document",e.uid),function(e,t,n){const r=yc((e=_l(e,Fu)).converter,t,n),o=Zu(Ju(e.firestore),"setDoc",e._key,r,null!==e.converter,n);Au(Nu(e.firestore),[o.toMutation(e._key,fu.none())])}(t,{faves:[],settings:Dc})}))}}))}),[]);var v=function(){var e=Oc(xc().mark((function e(){var t,n,r;return xc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Is(),n=new ma,e.prev=2,e.next=5,Ja(t,n);case 5:r=e.sent,console.log("Firebase auth result:",r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Firebase auth error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Oc(xc().mark((function e(){var t;return xc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Is(),e.prev=1,e.next=4,ka(t);case 4:a(null),u([]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Firebase logout error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Oc(xc().mark((function e(t){var n,r,o,a,s,c,f;return xc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=15;break}return n=Bu(Lu(),"users",i.uid),-1===(s=(a=l).findLastIndex((function(e){return e===t||e.href===t})))?(c={href:t,mtime:Math.floor(Date.now()/1e3)},r=[].concat(kc(a),[c]),o=wc(c)):(f=a[s],r=a.toSpliced(s,1),o=Sc(f,f.href)),u(r),e.prev=6,e.next=9,_c(n,{faves:o});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),u(a),console.log("Couldn't update favorites in Firebase.",e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}(),b=Object(r.useMemo)((function(){return Object(Fr.debounce)((function(e,t){e&&_c(Bu(Lu(),"users",e.uid),{settings:t}).catch((function(e){console.log("Couldn't update settings in Firebase.",e)}))}),1e3)}),[]),_=Object(r.useCallback)((function(e){var t=Mc(Mc({},p),e);m(t),b(i,t)}),[i,p,b]),w=Object(r.useCallback)((function(e){m(e),b(i,e)}),[i,b]),S=Object(r.useMemo)((function(){return l.map((function(e){return e.href}))}),[l]);return o.a.createElement(jc.Provider,{value:{user:i,loadingUser:f,faves:l,favesContext:S,handleLogin:v,handleLogout:g,handleToggleFavorite:y,settings:p,updateSettings:_,replaceSettings:w}},t)},Fc=function(e){var t=e.href,n=Object(r.useContext)(jc),i=n.user,a=n.faves,s=n.handleToggleFavorite,l=Object(r.useCallback)((function(e){i&&(e.preventDefault(),e.stopPropagation(),s(t))}),[s,t,i]),u=a.find((function(e){return e.href===t})),c="FavoriteButton ".concat(u?"isFavorite":"");return o.a.createElement("button",{onClick:l,className:c,tabIndex:"-1"},"♥")},zc=Object(r.memo)(Uc);function Uc(e){var t,n=e.currentSongDurationMs,i=e.currentSongNumSubtunes,a=e.currentSongSubtune,s=e.ejected,l=e.imageUrl,u=e.infoTexts,c=e.md5,f=e.paused,h=e.repeat,d=e.shuffle,p=e.songUrl,m=e.subtitle,v=e.title,g=e.volume,y=e.getCurrentSongLink,b=e.handleCopyLink,_=e.handleCycleRepeat,w=e.handleCycleShuffle,S=e.handleTimeSliderChange,E=e.handleVolumeChange,T=e.nextSong,k=e.nextSubtune,x=e.prevSong,C=e.prevSubtune,O=e.sequencer,P=e.toggleInfo,I=e.togglePause,A=Object(r.useContext)(jc),R=A.faves,M=A.handleToggleFavorite,N=(t=p)?(t=t.replace(le,"/").split("/").slice(0,-1).join("/"),o.a.createElement(ae,{dim:!0,to:ce("/browse",t)},decodeURI(t))):null,j="Tune ".concat(a+1," of ").concat(i),D=Object(r.useCallback)((function(e){e.preventDefault(),P()}),[P]),L=Object(r.useCallback)((function(e){e.preventDefault(),b(y())}),[y,b]),F=Object(r.useCallback)((function(e){e.preventDefault(),b(y(!0))}),[y,b]),z=f?"Play":"Pause",U=f?"icon-play":"icon-pause";return o.a.createElement("div",{className:"AppFooter"},o.a.createElement("div",{className:"AppFooter-main"},o.a.createElement("div",{className:"AppFooter-top-row"},o.a.createElement("button",{onClick:x,title:"Previous",className:"box-button",disabled:s},o.a.createElement("span",{className:"inline-icon icon-prev"})),o.a.createElement("button",{onClick:I,title:z,className:"box-button",disabled:s},o.a.createElement("span",{className:"inline-icon ".concat(U)})),o.a.createElement("button",{onClick:T,title:"Next",className:"box-button",disabled:s},o.a.createElement("span",{className:"inline-icon icon-next"})),i>1&&o.a.createElement(o.a.Fragment,null,p?o.a.createElement("a",{style:{color:"var(--neutral4)"},href:y(!0),title:"Copy subtune link to clipboard",onClick:F},j,o.a.createElement("span",{className:"inline-icon icon-copy"})):j,o.a.createElement("button",{className:"AppFooter-back box-button",disabled:s,onClick:C},o.a.createElement("span",{className:"inline-icon icon-back"})),o.a.createElement("button",{className:"AppFooter-forward box-button",disabled:s,onClick:k},o.a.createElement("span",{className:"inline-icon icon-forward"}))),o.a.createElement("button",{title:"Cycle Repeat (repeat off, repeat all songs in the context, or repeat one song)",style:{marginLeft:"auto"},className:"AppFooter-repeat box-button",onClick:_},o.a.createElement("span",{className:"inline-icon icon-repeat"}),Be[h]),o.a.createElement("button",{title:"Toggle shuffle mode",className:"AppFooter-shuffle box-button",onClick:w},o.a.createElement("span",{className:"inline-icon icon-shuffle"}),Ve[d])),o.a.createElement("div",{style:{display:"flex",gap:"var(--charW2)"}},o.a.createElement(jr,{paused:f,currentSongDurationMs:n,getCurrentPositionMs:function(){return O&&O.getPlayer()?O.getPlayer().getPositionMs():0},onChange:S}),o.a.createElement(Dr,{onChange:function(e){E(e.target.value)},handleReset:function(e){E(100),e.preventDefault(),e.stopPropagation()},title:"Double-click or right-click to reset to 100%.",value:g})),!s&&o.a.createElement("div",{className:"SongDetails"},R&&p&&o.a.createElement(Fc,{isFavorite:R.includes(p),toggleFavorite:M,href:p}),o.a.createElement("div",{className:"SongDetails-title"},p?o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:y(),title:"Copy song link to clipboard",onClick:L},v," ",o.a.createElement("span",{className:"inline-icon icon-copy"})),o.a.createElement("a",{href:p,title:"Download song"},o.a.createElement("span",{className:"inline-icon icon-download"}))):v,u.length>0&&o.a.createElement("a",{onClick:D,href:"#",title:"Display song information"},"тхт"),c&&o.a.createElement("a",{href:"https://modsamplemaster.thegang.nu/module.php?md5=".concat(c),title:"Look up this song on Mod Sample Master",target:"_blank"},"msm")),o.a.createElement("div",{className:"SongDetails-subtitle"},m),o.a.createElement("div",{className:"SongDetails-filepath"},N))),l&&o.a.createElement("img",{alt:"Cover art",className:"AppFooter-art",src:l}))}var Bc=function(){var e=Object(r.useContext)(jc),t=e.user,n=e.handleLogout,i=e.handleLogin;return o.a.createElement("header",{className:"AppHeader"},o.a.createElement(R,{className:"AppHeader-title",to:{pathname:"/"}},"Chip Player JS"),t?o.a.createElement(o.a.Fragment,null," • ","Logged in as ",t.displayName,"."," ",o.a.createElement("a",{href:"#",onClick:n},"Logout")):o.a.createElement(o.a.Fragment,null," • ",o.a.createElement("a",{href:"#",onClick:i},"Login/Sign Up")," to Save Favorites")," • ",o.a.createElement("a",{href:"https://twitter.com/messages/compose?recipient_id=587634572",target:"_blank",rel:"noopener noreferrer"},"Feedback"))},Vc=n(5),Gc=n.n(Vc),Wc=n(6),Hc=n.n(Wc),qc=n(8),$c=n.n(qc),Kc=n(4),Xc=n.n(Kc),Yc=n(9),Qc=n.n(Yc),Jc=n(1),Zc=n.n(Jc);function ef(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function tf(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function nf(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function rf(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=ef,t.componentWillReceiveProps=tf),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=nf;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach((function(t){Zc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sf(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}ef.__suppressDeprecationWarning=!0,tf.__suppressDeprecationWarning=!0,nf.__suppressDeprecationWarning=!0;var lf=function(e){function t(){var e;Gc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=sf(this,t,[].concat(r)),Zc()(e,"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),Zc()(e,"_columnStartIndex",0),Zc()(e,"_columnStopIndex",0),Zc()(e,"_rowStartIndex",0),Zc()(e,"_rowStopIndex",0),Zc()(e,"_onKeyDown",(function(t){var n=e.props,r=n.columnCount,o=n.disabled,i=n.mode,a=n.rowCount;if(!o){var s=e._getScrollState(),l=s.scrollToColumn,u=s.scrollToRow,c=e._getScrollState(),f=c.scrollToColumn,h=c.scrollToRow;switch(t.key){case"ArrowDown":h="cells"===i?Math.min(h+1,a-1):Math.min(e._rowStopIndex+1,a-1);break;case"ArrowLeft":f="cells"===i?Math.max(f-1,0):Math.max(e._columnStartIndex-1,0);break;case"ArrowRight":f="cells"===i?Math.min(f+1,r-1):Math.min(e._columnStopIndex+1,r-1);break;case"ArrowUp":h="cells"===i?Math.max(h-1,0):Math.max(e._rowStartIndex-1,0)}f===l&&h===u||(t.preventDefault(),e._updateScrollState({scrollToColumn:f,scrollToRow:h}))}})),Zc()(e,"_onSectionRendered",(function(t){var n=t.columnStartIndex,r=t.columnStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;e._columnStartIndex=n,e._columnStopIndex=r,e._rowStartIndex=o,e._rowStopIndex=i})),e}return Qc()(t,e),Hc()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,o=this._getScrollState(),i=o.scrollToColumn,a=o.scrollToRow;return r.createElement("div",{className:t,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:a}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow,r=this.props,o=r.isControlled,i=r.onScrollToChange;"function"==typeof i&&i({scrollToColumn:t,scrollToRow:n}),o||this.setState({scrollToColumn:t,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?{}:e.scrollToColumn!==t.instanceProps.prevScrollToColumn||e.scrollToRow!==t.instanceProps.prevScrollToRow?af(af({},t),{},{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow,instanceProps:{prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow}}):{}}}])}(r.PureComponent);Zc()(lf,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),rf(lf);var uf=lf,cf=n(38);function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(n),!0).forEach((function(t){Zc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function df(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var pf=function(e){function t(){var e;Gc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=df(this,t,[].concat(r)),Zc()(e,"state",{height:e.props.defaultHeight||0,width:e.props.defaultWidth||0}),Zc()(e,"_parentNode",void 0),Zc()(e,"_autoSizer",void 0),Zc()(e,"_window",void 0),Zc()(e,"_detectElementResize",void 0),Zc()(e,"_onResize",(function(){var t=e.props,n=t.disableHeight,r=t.disableWidth,o=t.onResize;if(e._parentNode){var i=e._parentNode.offsetHeight||0,a=e._parentNode.offsetWidth||0,s=(e._window||window).getComputedStyle(e._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,f=parseInt(s.paddingBottom,10)||0,h=i-c-f,d=a-l-u;(!n&&e.state.height!==h||!r&&e.state.width!==d)&&(e.setState({height:i-c-f,width:a-l-u}),o({height:i,width:a}))}})),Zc()(e,"_setRef",(function(t){e._autoSizer=t})),e}return Qc()(t,e),Hc()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(cf.a)(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.disableHeight,i=e.disableWidth,a=e.style,s=this.state,l=s.height,u=s.width,c={overflow:"visible"},f={};return o||(c.height=0,f.height=l),i||(c.width=0,f.width=u),r.createElement("div",{className:n,ref:this._setRef,style:hf(hf({},c),a)},t(f))}}])}(r.Component);function mf(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}Zc()(pf,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var vf=function(e){function t(){var e;Gc()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=mf(this,t,[].concat(o)),Zc()(e,"_child",r.createRef()),Zc()(e,"_measure",(function(){var t=e.props,n=t.cache,r=t.columnIndex,o=void 0===r?0:r,i=t.parent,a=t.rowIndex,s=void 0===a?e.props.index||0:a,l=e._getCellMeasurements(),u=l.height,c=l.width;u===n.getHeight(s,o)&&c===n.getWidth(s,o)||(n.set(s,o,c,u),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:s}))})),Zc()(e,"_registerChild",(function(t){!t||t instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),e._child.current=t,t&&e._maybeMeasureCell()})),e}return Qc()(t,e),Hc()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this,t=this.props.children,n="function"==typeof t?t({measure:this._measure,registerChild:this._registerChild}):t;return null===n?n:Object(r.cloneElement)(n,{ref:function(t){"function"==typeof n.ref?n.ref(t):n.ref&&(n.ref.current=t),e._child.current=t}})}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child.current;if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,r)){var s=this._getCellMeasurements(),l=s.height,u=s.width;t.set(a,r,u,l),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}])}(r.PureComponent);Zc()(vf,"__internalCellMeasurerFlag",!1);var gf=n(69),yf=n.n(gf),bf=n(17),_f=n.n(bf);function wf(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=wf(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Sf=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=wf(e))&&(r&&(r+=" "),r+=t);return r};function Ef(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,i=Object.keys(o),a=!e||i.every((function(e){var t=o[e];return Array.isArray(t)?t.length>0:t>=0})),s=i.length!==Object.keys(t).length||i.some((function(e){var n=t[e],r=o[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=o,a&&s&&r(o)}}var Tf,kf=!("undefined"==typeof window||!window.document||!window.document.createElement);function xf(e){if((!Tf&&0!==Tf||e)&&kf){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Tf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Tf}function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(n),!0).forEach((function(t){Zc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pf(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var If="observed",Af="requested",Rf=function(e){function t(){var e;Gc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=Pf(this,t,[].concat(r)),Zc()(e,"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),Zc()(e,"_calculateSizeAndPositionDataOnNextUpdate",!1),Zc()(e,"_onSectionRenderedMemoizer",Ef()),Zc()(e,"_onScrollMemoizer",Ef(!1)),Zc()(e,"_invokeOnSectionRenderedHelper",(function(){var t=e.props,n=t.cellLayoutManager,r=t.onSectionRendered;e._onSectionRenderedMemoizer({callback:r,indices:{indices:n.getLastRenderedIndices()}})})),Zc()(e,"_setScrollingContainerRef",(function(t){e._scrollingContainer=t})),Zc()(e,"_updateScrollPositionForScrollToCell",(function(){var t=e.props,n=t.cellLayoutManager,r=t.height,o=t.scrollToAlignment,i=t.scrollToCell,a=t.width,s=e.state,l=s.scrollLeft,u=s.scrollTop;if(i>=0){var c=n.getScrollPositionForCell({align:o,cellIndex:i,height:r,scrollLeft:l,scrollTop:u,width:a});c.scrollLeft===l&&c.scrollTop===u||e._setScrollPosition(c)}})),Zc()(e,"_onScroll",(function(t){if(t.target===e._scrollingContainer){e._enablePointerEventsAfterDelay();var n=e.props,r=n.cellLayoutManager,o=n.height,i=n.isScrollingChange,a=n.width,s=e._scrollbarSize,l=r.getTotalSize(),u=l.height,c=l.width,f=Math.max(0,Math.min(c-a+s,t.target.scrollLeft)),h=Math.max(0,Math.min(u-o+s,t.target.scrollTop));if(e.state.scrollLeft!==f||e.state.scrollTop!==h){var d=t.cancelable?If:Af;e.state.isScrolling||i(!0),e.setState({isScrolling:!0,scrollLeft:f,scrollPositionChangeReason:d,scrollTop:h})}e._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:h,totalWidth:c,totalHeight:u})}})),e._scrollbarSize=xf(),void 0===e._scrollbarSize?(e._scrollbarSizeMeasured=!1,e._scrollbarSize=0):e._scrollbarSizeMeasured=!0,e}return Qc()(t,e),Hc()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,r=e.scrollToCell,o=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=xf(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||o>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=t.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:o||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.height,o=n.scrollToAlignment,i=n.scrollToCell,a=n.width,s=this.state,l=s.scrollLeft,u=s.scrollPositionChangeReason,c=s.scrollTop;u===Af&&(l>=0&&l!==t.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),c>=0&&c!==t.scrollTop&&c!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=c)),r===e.height&&o===e.scrollToAlignment&&i===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,n=e.cellCount,o=e.cellLayoutManager,i=e.className,a=e.height,s=e.horizontalOverscanSize,l=e.id,u=e.noContentRenderer,c=e.style,f=e.verticalOverscanSize,h=e.width,d=this.state,p=d.isScrolling,m=d.scrollLeft,v=d.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==o||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=o,this._calculateSizeAndPositionDataOnNextUpdate=!1,o.calculateSizeAndPositionData());var g=o.getTotalSize(),y=g.height,b=g.width,_=Math.max(0,m-s),w=Math.max(0,v-f),S=Math.min(b,m+h+s),E=Math.min(y,v+a+f),T=a>0&&h>0?o.cellRenderers({height:E-w,isScrolling:p,width:S-_,x:_,y:w}):[],k={boxSizing:"border-box",direction:"ltr",height:t?"auto":a,position:"relative",WebkitOverflowScrolling:"touch",width:h,willChange:"transform"},x=y>a?this._scrollbarSize:0,C=b>h?this._scrollbarSize:0;return k.overflowX=b+x<=h?"hidden":"auto",k.overflowY=y+C<=a?"hidden":"auto",r.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Sf("ReactVirtualized__Collection",i),id:l,onScroll:this._onScroll,role:"grid",style:Of(Of({},k),c),tabIndex:0},n>0&&r.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:y,maxHeight:y,maxWidth:b,overflow:"hidden",pointerEvents:p?"none":"",width:b}},T),0===n&&u())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalHeight,i=e.totalWidth;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:Af};t>=0&&(r.scrollLeft=t),n>=0&&(r.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop,scrollPositionChangeReason:Af}:null:{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Af}}}])}(r.PureComponent);Zc()(Rf,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),Rf.propTypes={},rf(Rf);var Mf=Rf,Nf=function(){return Hc()((function e(t){var n=t.height,r=t.width,o=t.x,i=t.y;Gc()(this,e),this.height=n,this.width=r,this.x=o,this.y=i,this._indexMap={},this._indices=[]}),[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}])}(),jf=function(){return Hc()((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;Gc()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}),[{key:"getCellIndices",value:function(e){var t=e.height,n=e.width,r=e.x,o=e.y,i={};return this.getSections({height:t,width:n,x:r,y:o}).forEach((function(e){return e.getCellIndices().forEach((function(e){i[e]=e}))})),Object.keys(i).map((function(e){return i[e]}))}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,n=e.width,r=e.x,o=e.y,i=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),s=Math.floor(o/this._sectionSize),l=Math.floor((o+t-1)/this._sectionSize),u=[],c=i;c<=a;c++)for(var f=s;f<=l;f++){var h="".concat(c,".").concat(f);this._sections[h]||(this._sections[h]=new Nf({height:this._sectionSize,width:this._sectionSize,x:c*this._sectionSize,y:f*this._sectionSize})),u.push(this._sections[h])}return u}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var e=this;return Object.keys(this._sections).map((function(t){return e._sections[t].toString()}))}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach((function(e){return e.addCellIndex({index:n})}))}}])}();function Df(e){var t=e.align,n=void 0===t?"auto":t,r=e.cellOffset,o=e.cellSize,i=e.containerSize,a=e.currentOffset,s=r,l=s-i+o;switch(n){case"start":return s;case"end":return l;case"center":return s-(i-o)/2;default:return Math.max(l,Math.min(s,a))}}function Lf(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var Ff=function(e){function t(e,n){var r;return Gc()(this,t),(r=Lf(this,t,[e,n]))._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(r),r._setCollectionViewRef=r._setCollectionViewRef.bind(r),r}return Qc()(t,e),Hc()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=_f()({},(yf()(this.props),this.props));return r.createElement(Mf,_f()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,r=e.sectionSize,o=[],i=new jf(r),a=0,s=0,l=0;l<t;l++){var u=n({index:l});if(null==u.height||isNaN(u.height)||null==u.width||isNaN(u.width)||null==u.x||isNaN(u.x)||null==u.y||isNaN(u.y))throw Error("Invalid metadata returned for cell ".concat(l,":\n        x:").concat(u.x,", y:").concat(u.y,", width:").concat(u.width,", height:").concat(u.height));a=Math.max(a,u.y+u.height),s=Math.max(s,u.x+u.width),o[l]=u,i.registerCell({cellMetadatum:u,index:l})}return{cellMetadata:o,height:a,sectionManager:i,width:s}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,n=e.cellIndex,r=e.height,o=e.scrollLeft,i=e.scrollTop,a=e.width,s=this.props.cellCount;if(n>=0&&n<s){var l=this._cellMetadata[n];o=Df({align:t,cellOffset:l.x,cellSize:l.width,containerSize:a,currentOffset:o,targetIndex:n}),i=Df({align:t,cellOffset:l.y,cellSize:l.height,containerSize:r,currentOffset:i,targetIndex:n})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,n=e.height,r=e.isScrolling,o=e.width,i=e.x,a=e.y,s=this.props,l=s.cellGroupRenderer,u=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:o,x:i,y:a}),l({cellCache:this._cellCache,cellRenderer:u,cellSizeAndPositionGetter:function(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}])}(r.PureComponent);Zc()(Ff,"defaultProps",{"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,n=e.cellRenderer,r=e.cellSizeAndPositionGetter,o=e.indices,i=e.isScrolling;return o.map((function(e){var o=r({index:e}),a={index:e,isScrolling:i,key:e,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(e in t||(t[e]=n(a)),t[e]):n(a)})).filter((function(e){return!!e}))}}),Ff.propTypes={};function zf(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var Uf=function(e){function t(e,n){var r;return Gc()(this,t),(r=zf(this,t,[e,n]))._registerChild=r._registerChild.bind(r),r}return Qc()(t,e),Hc()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.columnMaxWidth,r=t.columnMinWidth,o=t.columnCount,i=t.width;n===e.columnMaxWidth&&r===e.columnMinWidth&&o===e.columnCount&&i===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.columnMaxWidth,r=e.columnMinWidth,o=e.columnCount,i=e.width,a=r||1,s=n?Math.min(n,i):i,l=i/o;return l=Math.max(a,l),l=Math.min(s,l),l=Math.floor(l),t({adjustedWidth:Math.min(i,l*o),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}])}(r.PureComponent);Uf.propTypes={};var Bf=n(27),Vf=n.n(Bf);function Gf(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,l=e.scrollToIndex,u=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),l>=0&&l===s&&u())}var Wf,Hf=n(24),qf=n.n(Hf),$f=function(){return Hc()((function e(t){var n=t.cellCount,r=t.cellSizeGetter,o=t.estimatedCellSize;Gc()(this,e),Zc()(this,"_cellSizeAndPositionData",{}),Zc()(this,"_lastMeasuredIndex",-1),Zc()(this,"_lastBatchedIndex",-1),Zc()(this,"_cellCount",void 0),Zc()(this,"_cellSizeGetter",void 0),Zc()(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}),[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,s=this.getSizeAndPositionOfCell(i),l=s.offset,u=l-r+s.size;switch(n){case"start":a=l;break;case"end":a=u;break;case"center":a=l-(r-s.size)/2;break;default:a=Math.max(u,Math.min(l,o))}var c=this.getTotalSize();return Math.max(0,Math.min(c-r,a))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:o>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}])}(),Kf=function(){return"undefined"!=typeof window&&window.chrome?16777100:15e5},Xf=["maxScrollSize"],Yf=function(){return Hc()((function e(t){var n=t.maxScrollSize,r=void 0===n?Kf():n,o=qf()(t,Xf);Gc()(this,e),Zc()(this,"_cellSizeAndPositionManager",void 0),Zc()(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new $f(o),this._maxScrollSize=r}),[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}}])}();function Qf(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,l=e.scrollOffset,u=e.scrollToAlignment,c=e.scrollToIndex,f=e.size,h=e.sizeJustIncreasedFromZero,d=e.updateScrollIndexCallback,p=n.getCellCount(),m=c>=0&&c<p;m&&(f!==s||h||!o||"number"==typeof t&&t!==o||u!==i||c!==a)?d(c):!m&&p>0&&(f<s||p<r)&&l>n.getTotalSize()-f&&d(p-1)}var Jf=(Wf="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Wf.webkitRequestAnimationFrame||Wf.mozRequestAnimationFrame||Wf.oRequestAnimationFrame||Wf.msRequestAnimationFrame||function(e){return Wf.setTimeout(e,1e3/60)},Zf=Wf.cancelAnimationFrame||Wf.webkitCancelAnimationFrame||Wf.mozCancelAnimationFrame||Wf.oCancelAnimationFrame||Wf.msCancelAnimationFrame||function(e){Wf.clearTimeout(e)},eh=Jf,th=Zf,nh=function(e){return th(e.id)},rh=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var r=function(){Date.now()-n>=t?e.call():o.id=eh(r)},o={id:eh(r)};return o};function oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oh(Object(n),!0).forEach((function(t){Zc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ah(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var sh="observed",lh="requested",uh=function(e){function t(e){var n;Gc()(this,t),n=ah(this,t,[e]),Zc()(n,"_onGridRenderedMemoizer",Ef()),Zc()(n,"_onScrollMemoizer",Ef(!1)),Zc()(n,"_deferredInvalidateColumnIndex",null),Zc()(n,"_deferredInvalidateRowIndex",null),Zc()(n,"_recomputeScrollLeftFlag",!1),Zc()(n,"_recomputeScrollTopFlag",!1),Zc()(n,"_horizontalScrollBarSize",0),Zc()(n,"_verticalScrollBarSize",0),Zc()(n,"_scrollbarPresenceChanged",!1),Zc()(n,"_scrollingContainer",void 0),Zc()(n,"_childrenToDisplay",void 0),Zc()(n,"_columnStartIndex",void 0),Zc()(n,"_columnStopIndex",void 0),Zc()(n,"_rowStartIndex",void 0),Zc()(n,"_rowStopIndex",void 0),Zc()(n,"_renderedColumnStartIndex",0),Zc()(n,"_renderedColumnStopIndex",0),Zc()(n,"_renderedRowStartIndex",0),Zc()(n,"_renderedRowStopIndex",0),Zc()(n,"_initialScrollTop",void 0),Zc()(n,"_initialScrollLeft",void 0),Zc()(n,"_disablePointerEventsTimeoutId",void 0),Zc()(n,"_styleCache",{}),Zc()(n,"_cellCache",{}),Zc()(n,"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),Zc()(n,"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),Zc()(n,"_setScrollingContainerRef",(function(e){n._scrollingContainer=e,"function"==typeof n.props.elementRef?n.props.elementRef(e):"object"===Vf()(n.props.elementRef)&&(n.props.elementRef.current=e)})),Zc()(n,"_onScroll",(function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)}));var r=new Yf({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new Yf({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return Qc()(t,e),Hc()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=ih(ih({},this.props),{},{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,l=i.height,u=i.width,c=this.state.instanceProps,f=c.scrollbarSize,h=c.rowSizeAndPositionManager.getTotalSize(),d=c.columnSizeAndPositionManager.getTotalSize(),p=Math.min(Math.max(0,d-u+f),n),m=Math.min(Math.max(0,h-l+f),o);if(this.state.scrollLeft!==p||this.state.scrollTop!==m){var v={isScrolling:!0,scrollDirectionHorizontal:p!==this.state.scrollLeft?p>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:sh};a||(v.scrollTop=m),s||(v.scrollLeft=p),v.needToResetStyleCache=!1,this.setState(v)}this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:m,totalColumnsWidth:d,totalRowsHeight:h})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(n),l.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?n<=a:n>=a),this._recomputeScrollTopFlag=s>=0&&(1===this.state.scrollDirectionVertical?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(ih(ih({},o),{},{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(ih(ih({},o),{},{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,l=e.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState((function(e){var t=ih(ih({},e),{},{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var c=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});c&&(c.needToResetStyleCache=!1,this.setState(c))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var f=r>0&&l>0;i>=0&&f&&this._updateScrollLeftForScrollToColumn(),s>=0&&f&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,s=r.height,l=r.rowCount,u=r.scrollToAlignment,c=r.scrollToColumn,f=r.scrollToRow,h=r.width,d=this.state,p=d.scrollLeft,m=d.scrollPositionChangeReason,v=d.scrollTop,g=d.instanceProps;this._handleInvalidatedGridSize();var y=a>0&&0===e.columnCount||l>0&&0===e.rowCount;m===lh&&(!i&&p>=0&&(p!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=p),!o&&v>=0&&(v!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=v));var b=(0===e.width||0===e.height)&&s>0&&h>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Qf({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:p,scrollToAlignment:u,scrollToIndex:c,size:h,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Qf({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:v,scrollToAlignment:u,scrollToIndex:f,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),p!==t.scrollLeft||v!==t.scrollTop){var _=g.rowSizeAndPositionManager.getTotalSize(),w=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:v,totalColumnsWidth:w,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&nh(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,o=e.autoWidth,i=e.className,a=e.containerProps,s=e.containerRole,l=e.containerStyle,u=e.height,c=e.id,f=e.noContentRenderer,h=e.role,d=e.style,p=e.tabIndex,m=e.width,v=this.state,g=v.instanceProps,y=v.needToResetStyleCache,b=this._isScrolling(),_={boxSizing:"border-box",direction:"ltr",height:n?"auto":u,position:"relative",width:o?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=g.columnSizeAndPositionManager.getTotalSize(),S=g.rowSizeAndPositionManager.getTotalSize(),E=S>u?g.scrollbarSize:0,T=w>m?g.scrollbarSize:0;T===this._horizontalScrollBarSize&&E===this._verticalScrollBarSize||(this._horizontalScrollBarSize=T,this._verticalScrollBarSize=E,this._scrollbarPresenceChanged=!0),_.overflowX=w+E<=m?"hidden":"auto",_.overflowY=S+T<=u?"hidden":"auto";var k=this._childrenToDisplay,x=0===k.length&&u>0&&m>0;return r.createElement("div",_f()({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Sf("ReactVirtualized__Grid",i),id:c,onScroll:this._onScroll,role:h,style:ih(ih({},_),d),tabIndex:p}),k.length>0&&r.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:s,style:ih({width:t?"auto":w,height:S,maxWidth:w,maxHeight:S,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"},l)},k),x&&f())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,l=e.overscanIndicesGetter,u=e.overscanRowCount,c=e.rowCount,f=e.width,h=e.isScrollingOptOut,d=t.scrollDirectionHorizontal,p=t.scrollDirectionVertical,m=t.instanceProps,v=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,y=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&f>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:g}),_=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:v}),w=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:g}),S=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:v});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var E=l({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:d,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),T=l({direction:"vertical",cellCount:c,overscanCellsCount:u,scrollDirection:p,startIndex:"number"==typeof _.start?_.start:0,stopIndex:"number"==typeof _.stop?_.stop:-1}),k=E.overscanStartIndex,x=E.overscanStopIndex,C=T.overscanStartIndex,O=T.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var P=C;P<=O;P++)if(!i.has(P,0)){k=0,x=o-1;break}if(!i.hasFixedWidth())for(var I=k;I<=x;I++)if(!i.has(0,I)){C=0,O=c-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:k,columnStopIndex:x,deferredMeasurementCache:i,horizontalOffsetAdjustment:w,isScrolling:y,isScrollingOptOut:h,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:C,rowStopIndex:O,scrollLeft:g,scrollTop:v,styleCache:this._styleCache,verticalOffsetAdjustment:S,visibleColumnIndices:b,visibleRowIndices:_}),this._columnStartIndex=k,this._columnStopIndex=x,this._rowStartIndex=C,this._rowStopIndex=O}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&nh(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=rh(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,o=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o,i,a=n.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),Gf({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),Gf({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,ih(ih(ih({},r),o),i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:lh};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>t.scrollTop?1:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,s=t.scrollLeft,l=t.instanceProps;if(n>0){var u=n-1,c=i<0?u:Math.min(u,i),f=l.rowSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&f>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-h,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,o=t._getCalculatedScrollLeft(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,s=t.scrollTop,l=t.instanceProps;if(r>0){var u=r-1,c=i<0?u:Math.min(u,i),f=l.columnSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&f>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-h,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,o=t._getCalculatedScrollTop(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}])}(r.PureComponent);Zc()(uh,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,i=e.columnStartIndex,a=e.columnStopIndex,s=e.deferredMeasurementCache,l=e.horizontalOffsetAdjustment,u=e.isScrolling,c=e.isScrollingOptOut,f=e.parent,h=e.rowSizeAndPositionManager,d=e.rowStartIndex,p=e.rowStopIndex,m=e.styleCache,v=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,y=e.visibleRowIndices,b=[],_=r.areOffsetsAdjusted()||h.areOffsetsAdjusted(),w=!u&&!_,S=d;S<=p;S++)for(var E=h.getSizeAndPositionOfCell(S),T=i;T<=a;T++){var k=r.getSizeAndPositionOfCell(T),x=T>=g.start&&T<=g.stop&&S>=y.start&&S<=y.stop,C="".concat(S,"-").concat(T),O=void 0;w&&m[C]?O=m[C]:s&&!s.has(S,T)?O={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(O={height:E.size,left:k.offset+l,position:"absolute",top:E.offset+v,width:k.size},m[C]=O);var P={columnIndex:T,isScrolling:u,isVisible:x,key:C,parent:f,rowIndex:S,style:O},I=void 0;!c&&!u||l||v?I=n(P):(t[C]||(t[C]=n(P)),I=t[C]),null!=I&&!1!==I&&(I.props.role||(I=o.a.cloneElement(I,{role:"gridcell"})),b.push(I))}return b},containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:xf,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),rf(uh);var ch=uh;function fh(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i+1)}}var hh=n(70),dh=n.n(hh);function ph(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var mh=function(e){function t(e,n){var r;return Gc()(this,t),(r=ph(this,t,[e,n]))._loadMoreRowsMemoizer=Ef(),r._onRowsRendered=r._onRowsRendered.bind(r),r._registerChild=r._registerChild.bind(r),r}return Qc()(t,e),Hc()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=Ef(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreRows;e.forEach((function(e){var r=n(e);r&&r.then((function(){var n,r,o,i,a;n={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex},r=n.lastRenderedStartIndex,o=n.lastRenderedStopIndex,i=n.startIndex,a=n.stopIndex,i>o||a<r||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:"_doStuff",value:function(e,t){var n,r=this,o=this.props,i=o.isRowLoaded,a=o.minimumBatchSize,s=o.rowCount,l=o.threshold,u=function(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,r=e.rowCount,o=e.startIndex,i=e.stopIndex,a=[],s=null,l=null,u=o;u<=i;u++){t({index:u})?null!==l&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=u,null===s&&(s=u))}if(null!==l){for(var c=Math.min(Math.max(l,s+n-1),r-1),f=l+1;f<=c&&!t({index:f});f++)l=f;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var h=a[0];h.stopIndex-h.startIndex+1<n&&h.startIndex>0;){var d=h.startIndex-1;if(t({index:d}))break;h.startIndex=d}return a}({isRowLoaded:i,minimumBatchSize:a,rowCount:s,startIndex:Math.max(0,e-l),stopIndex:Math.min(s-1,t+l)}),c=(n=[]).concat.apply(n,dh()(u.map((function(e){return[e.startIndex,e.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function(){r._loadUnloadedRanges(u)},indices:{squashedUnloadedRanges:c}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}])}(r.PureComponent);Zc()(mh,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),mh.propTypes={};function vh(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var gh=function(e){function t(){var e;Gc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=vh(this,t,[].concat(r)),Zc()(e,"Grid",void 0),Zc()(e,"_cellRenderer",(function(t){var n=t.parent,r=t.rowIndex,o=t.style,i=t.isScrolling,a=t.isVisible,s=t.key,l=e.props.rowRenderer,u=Object.getOwnPropertyDescriptor(o,"width");return u&&u.writable&&(o.width="100%"),l({index:r,style:o,isScrolling:i,isVisible:a,key:s,parent:n})})),Zc()(e,"_setRef",(function(t){e.Grid=t})),Zc()(e,"_onScroll",(function(t){var n=t.clientHeight,r=t.scrollHeight,o=t.scrollTop;(0,e.props.onScroll)({clientHeight:n,scrollHeight:r,scrollTop:o})})),Zc()(e,"_onSectionRendered",(function(t){var n=t.rowOverscanStartIndex,r=t.rowOverscanStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;(0,e.props.onRowsRendered)({overscanStartIndex:n,overscanStopIndex:r,startIndex:o,stopIndex:i})})),e}return Qc()(t,e),Hc()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,o=e.scrollToIndex,i=e.width,a=Sf("ReactVirtualized__List",t);return r.createElement(ch,_f()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o}))}}])}(r.PureComponent);Zc()(gh,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:fh,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var yh=n(71),bh=n.n(yh);var _h={ge:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=n+1;t<=n;){var a=t+n>>>1;o(e[a],r)>=0?(i=a,n=a-1):t=a+1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=n+1;t<=n;){var i=t+n>>>1;e[i]>=r?(o=i,n=i-1):t=i+1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},gt:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=n+1;t<=n;){var a=t+n>>>1;o(e[a],r)>0?(i=a,n=a-1):t=a+1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=n+1;t<=n;){var i=t+n>>>1;e[i]>r?(o=i,n=i-1):t=i+1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},lt:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=t-1;t<=n;){var a=t+n>>>1;o(e[a],r)<0?(i=a,t=a+1):n=a-1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=t-1;t<=n;){var i=t+n>>>1;e[i]<r?(o=i,t=i+1):n=i-1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},le:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=t-1;t<=n;){var a=t+n>>>1;o(e[a],r)<=0?(i=a,t=a+1):n=a-1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=t-1;t<=n;){var i=t+n>>>1;e[i]<=r?(o=i,t=i+1):n=i-1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},eq:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(;t<=n;){var i=t+n>>>1,a=o(e[i],r);if(0===a)return i;a<=0?t=i+1:n=i-1}return-1}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(;t<=n;){var o=t+n>>>1,i=e[o];if(i===r)return o;i<=r?t=o+1:n=o-1}return-1}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}};function wh(e,t,n,r,o){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(t?t.count:0)+(n?n.count:0)+r.length}var Sh=wh.prototype;function Eh(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function Th(e,t){var n=Mh(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function kh(e,t){var n=e.intervals([]);n.push(t),Th(e,n)}function xh(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?0:(n.splice(r,1),Th(e,n),1)}function Ch(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var o=n(e[r]);if(o)return o}}function Oh(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var o=n(e[r]);if(o)return o}}function Ph(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function Ih(e,t){return e-t}function Ah(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function Rh(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function Mh(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(Ih);var r=t[t.length>>1],o=[],i=[],a=[];for(n=0;n<e.length;++n){var s=e[n];s[1]<r?o.push(s):r<s[0]?i.push(s):a.push(s)}var l=a,u=a.slice();return l.sort(Ah),u.sort(Rh),new wh(r,Mh(o),Mh(i),l,u)}function Nh(e){this.root=e}Sh.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},Sh.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?kh(this,e):this.left.insert(e):this.left=Mh([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?kh(this,e):this.right.insert(e):this.right=Mh([e]);else{var n=_h.ge(this.leftPoints,e,Ah),r=_h.ge(this.rightPoints,e,Rh);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}},Sh.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?xh(this,e):2===(i=this.left.remove(e))?(this.left=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?xh(this,e):2===(i=this.right.remove(e))?(this.right=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(1===this.count)return this.leftPoints[0]===e?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var o=this.left,i=this.right;n.count-=r.count,n.right=r.left,r.left=o,r.right=i}Eh(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Eh(this,this.left):Eh(this,this.right);return 1}for(o=_h.ge(this.leftPoints,e,Ah);o<this.leftPoints.length&&this.leftPoints[o][0]===e[0];++o)if(this.leftPoints[o]===e){this.count-=1,this.leftPoints.splice(o,1);for(i=_h.ge(this.rightPoints,e,Rh);i<this.rightPoints.length&&this.rightPoints[i][1]===e[1];++i)if(this.rightPoints[i]===e)return this.rightPoints.splice(i,1),1}return 0},Sh.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(n=this.left.queryPoint(e,t))return n;return Ch(this.leftPoints,e,t)}if(e>this.mid){var n;if(this.right)if(n=this.right.queryPoint(e,t))return n;return Oh(this.rightPoints,e,t)}return Ph(this.leftPoints,t)},Sh.queryInterval=function(e,t,n){var r;if(e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n)))return r;if(t>this.mid&&this.right&&(r=this.right.queryInterval(e,t,n)))return r;return t<this.mid?Ch(this.leftPoints,t,n):e>this.mid?Oh(this.rightPoints,e,n):Ph(this.leftPoints,n)};var jh=Nh.prototype;jh.insert=function(e){this.root?this.root.insert(e):this.root=new wh(e[0],null,null,[e],[e])},jh.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),0!==t}return!1},jh.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},jh.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(jh,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(jh,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Dh=function(){return Hc()((function e(){var t;Gc()(this,e),Zc()(this,"_columnSizeMap",{}),Zc()(this,"_intervalTree",t&&0!==t.length?new Nh(Mh(t)):new Nh(null)),Zc()(this,"_leftMap",{})}),[{key:"estimateTotalHeight",value:function(e,t,n){var r=e-this.count;return this.tallestColumnSize+Math.ceil(r/t)*n}},{key:"range",value:function(e,t,n){var r=this;this._intervalTree.queryInterval(e,e+t,(function(e){var t=bh()(e,3),o=t[0],i=(t[1],t[2]);return n(i,r._leftMap[i],o)}))}},{key:"setPosition",value:function(e,t,n,r){this._intervalTree.insert([n,n+r,e]),this._leftMap[e]=t;var o=this._columnSizeMap,i=o[t];o[t]=void 0===i?n+r:Math.max(i,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=0===t?r:Math.min(t,r)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=Math.max(t,r)}return t}}])}();function Lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lh(Object(n),!0).forEach((function(t){Zc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zh(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var Uh=function(e){function t(){var e;Gc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=zh(this,t,[].concat(r)),Zc()(e,"state",{isScrolling:!1,scrollTop:0}),Zc()(e,"_debounceResetIsScrollingId",void 0),Zc()(e,"_invalidateOnUpdateStartIndex",null),Zc()(e,"_invalidateOnUpdateStopIndex",null),Zc()(e,"_positionCache",new Dh),Zc()(e,"_startIndex",null),Zc()(e,"_startIndexMemoized",null),Zc()(e,"_stopIndex",null),Zc()(e,"_stopIndexMemoized",null),Zc()(e,"_debounceResetIsScrollingCallback",(function(){e.setState({isScrolling:!1})})),Zc()(e,"_setScrollingContainerRef",(function(t){e._scrollingContainer=t})),Zc()(e,"_onScroll",(function(t){var n=e.props.height,r=t.currentTarget.scrollTop,o=Math.min(Math.max(0,e._getEstimatedTotalHeight()-n),r);r===o&&(e._debounceResetIsScrolling(),e.state.scrollTop!==o&&e.setState({isScrolling:!0,scrollTop:o}))})),e}return Qc()(t,e),Hc()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new Dh,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new Dh,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&nh(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.autoHeight,i=n.cellCount,a=n.cellMeasurerCache,s=n.cellRenderer,l=n.className,u=n.height,c=n.id,f=n.keyMapper,h=n.overscanByPixels,d=n.role,p=n.style,m=n.tabIndex,v=n.width,g=n.rowDirection,y=this.state,b=y.isScrolling,_=y.scrollTop,w=[],S=this._getEstimatedTotalHeight(),E=this._positionCache.shortestColumnSize,T=this._positionCache.count,k=0;if(this._positionCache.range(Math.max(0,_-h),u+2*h,(function(n,r,o){void 0===e?(k=n,e=n):(k=Math.min(k,n),e=Math.max(e,n)),w.push(s({index:n,isScrolling:b,key:f(n),parent:t,style:Zc()(Zc()(Zc()(Zc()({height:a.getHeight(n)},"ltr"===g?"left":"right",r),"position","absolute"),"top",o),"width",a.getWidth(n))}))})),E<_+u+h&&T<i)for(var x=Math.min(i-T,Math.ceil((_+u+h-E)/a.defaultHeight*v/a.defaultWidth)),C=T;C<T+x;C++)e=C,w.push(s({index:C,isScrolling:b,key:f(C),parent:this,style:{width:a.getWidth(C)}}));return this._startIndex=k,this._stopIndex=e,r.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Sf("ReactVirtualized__Masonry",l),id:c,onScroll:this._onScroll,role:d,style:Fh({boxSizing:"border-box",direction:"ltr",height:o?"auto":u,overflowX:"hidden",overflowY:S<u?"hidden":"auto",position:"relative",width:v,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:m},r.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:S,maxWidth:"100%",maxHeight:S,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"}},w))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&nh(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=rh(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,r=e.width,o=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(t,o,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,n=e.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var n=this.props,r=n.cellMeasurerCache,o=n.cellPositioner,i=e;i<=t;i++){var a=o(i),s=a.left,l=a.top;this._positionCache.setPosition(i,s,l,r.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}])}(r.PureComponent);function Bh(){}Zc()(Uh,"defaultProps",{autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:Bh,onScroll:Bh,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"}),rf(Uh);var Vh=function(){return Hc()((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Gc()(this,e),Zc()(this,"_cellMeasurerCache",void 0),Zc()(this,"_columnIndexOffset",void 0),Zc()(this,"_rowIndexOffset",void 0),Zc()(this,"columnWidth",(function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})})),Zc()(this,"rowHeight",(function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})}));var r=n.cellMeasurerCache,o=n.columnIndexOffset,i=void 0===o?0:o,a=n.rowIndexOffset,s=void 0===a?0:a;this._cellMeasurerCache=r,this._columnIndexOffset=i,this._rowIndexOffset=s}),[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,n,r){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,r)}}])}(),Gh=["rowIndex"],Wh=["columnIndex","rowIndex"],Hh=["columnIndex"],qh=["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"];function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$h(Object(n),!0).forEach((function(t){Zc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xh(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var Yh=function(e){function t(e,n){var o;Gc()(this,t),o=Xh(this,t,[e,n]),Zc()(o,"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),Zc()(o,"_deferredInvalidateColumnIndex",null),Zc()(o,"_deferredInvalidateRowIndex",null),Zc()(o,"_bottomLeftGridRef",(function(e){o._bottomLeftGrid=e})),Zc()(o,"_bottomRightGridRef",(function(e){o._bottomRightGrid=e})),Zc()(o,"_cellRendererBottomLeftGrid",(function(e){var t=e.rowIndex,n=qf()(e,Gh),i=o.props,a=i.cellRenderer,s=i.fixedRowCount;return t===i.rowCount-s?r.createElement("div",{key:n.key,style:Kh(Kh({},n.style),{},{height:20})}):a(Kh(Kh({},n),{},{parent:o,rowIndex:t+s}))})),Zc()(o,"_cellRendererBottomRightGrid",(function(e){var t=e.columnIndex,n=e.rowIndex,r=qf()(e,Wh),i=o.props,a=i.cellRenderer,s=i.fixedColumnCount,l=i.fixedRowCount;return a(Kh(Kh({},r),{},{columnIndex:t+s,parent:o,rowIndex:n+l}))})),Zc()(o,"_cellRendererTopRightGrid",(function(e){var t=e.columnIndex,n=qf()(e,Hh),i=o.props,a=i.cellRenderer,s=i.columnCount,l=i.fixedColumnCount;return t===s-l?r.createElement("div",{key:n.key,style:Kh(Kh({},n.style),{},{width:20})}):a(Kh(Kh({},n),{},{columnIndex:t+l,parent:o}))})),Zc()(o,"_columnWidthRightGrid",(function(e){var t=e.index,n=o.props,r=n.columnCount,i=n.fixedColumnCount,a=n.columnWidth,s=o.state,l=s.scrollbarSize;return s.showHorizontalScrollbar&&t===r-i?l:"function"==typeof a?a({index:t+i}):a})),Zc()(o,"_onScroll",(function(e){var t=e.scrollLeft,n=e.scrollTop;o.setState({scrollLeft:t,scrollTop:n});var r=o.props.onScroll;r&&r(e)})),Zc()(o,"_onScrollbarPresenceChange",(function(e){var t=e.horizontal,n=e.size,r=e.vertical,i=o.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(t!==a||r!==s){o.setState({scrollbarSize:n,showHorizontalScrollbar:t,showVerticalScrollbar:r});var l=o.props.onScrollbarPresenceChange;"function"==typeof l&&l({horizontal:t,size:n,vertical:r})}})),Zc()(o,"_onScrollLeft",(function(e){var t=e.scrollLeft;o._onScroll({scrollLeft:t,scrollTop:o.state.scrollTop})})),Zc()(o,"_onScrollTop",(function(e){var t=e.scrollTop;o._onScroll({scrollTop:t,scrollLeft:o.state.scrollLeft})})),Zc()(o,"_rowHeightBottomGrid",(function(e){var t=e.index,n=o.props,r=n.fixedRowCount,i=n.rowCount,a=n.rowHeight,s=o.state,l=s.scrollbarSize;return s.showVerticalScrollbar&&t===i-r?l:"function"==typeof a?a({index:t+r}):a})),Zc()(o,"_topLeftGridRef",(function(e){o._topLeftGrid=e})),Zc()(o,"_topRightGridRef",(function(e){o._topRightGrid=e}));var i=e.deferredMeasurementCache,a=e.fixedColumnCount,s=e.fixedRowCount;return o._maybeCalculateCachedStyles(!0),i&&(o._deferredMeasurementCacheBottomLeftGrid=s>0?new Vh({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:s}):i,o._deferredMeasurementCacheBottomRightGrid=a>0||s>0?new Vh({cellMeasurerCache:i,columnIndexOffset:a,rowIndexOffset:s}):i,o._deferredMeasurementCacheTopRightGrid=a>0?new Vh({cellMeasurerCache:i,columnIndexOffset:a,rowIndexOffset:0}):i),o}return Qc()(t,e),Hc()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,l=Math.max(0,n-a),u=Math.max(0,o-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:u}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:u}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(t>0||n>0){var r={};t>0&&(r.scrollLeft=t),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,o=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),i=(e.scrollTop,e.scrollToRow),a=qf()(e,qh);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var s=this.state,l=s.scrollLeft,u=s.scrollTop;return r.createElement("div",{style:this._containerOuterStyle},r.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(a),this._renderTopRightGrid(Kh(Kh({},a),{},{onScroll:t,scrollLeft:l}))),r.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Kh(Kh({},a),{},{onScroll:t,scrollTop:u})),this._renderBottomRightGrid(Kh(Kh({},a),{},{onScroll:t,onSectionRendered:n,scrollLeft:l,scrollToColumn:o,scrollToRow:i,scrollTop:u}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._leftGridWidth=r}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._topGridHeight=r}else this._topGridHeight=n*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,n=t.columnWidth,r=t.enableFixedColumnScroll,o=t.enableFixedRowScroll,i=t.height,a=t.fixedColumnCount,s=t.fixedRowCount,l=t.rowHeight,u=t.style,c=t.styleBottomLeftGrid,f=t.styleBottomRightGrid,h=t.styleTopLeftGrid,d=t.styleTopRightGrid,p=t.width,m=e||i!==this._lastRenderedHeight||p!==this._lastRenderedWidth,v=e||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,g=e||s!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(e||m||u!==this._lastRenderedStyle)&&(this._containerOuterStyle=Kh({height:i,overflow:"visible",width:p},u)),(e||m||g)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:p},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:p}),(e||c!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Kh({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},c)),(e||v||f!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Kh({left:this._getLeftGridWidth(this.props),position:"absolute"},f)),(e||h!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Kh({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},h)),(e||v||d!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Kh({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},d)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=i,this._lastRenderedRowHeight=l,this._lastRenderedStyle=u,this._lastRenderedStyleBottomLeftGrid=c,this._lastRenderedStyleBottomRightGrid=f,this._lastRenderedStyleTopLeftGrid=h,this._lastRenderedStyleTopRightGrid=d,this._lastRenderedWidth=p}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,n=e.fixedColumnCount,o=e.fixedRowCount,i=e.rowCount,a=e.hideBottomLeftGridScrollbar,s=this.state.showVerticalScrollbar;if(!n)return null;var l=s?1:0,u=this._getBottomGridHeight(e),c=this._getLeftGridWidth(e),f=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,h=a?c+f:c,d=r.createElement(ch,_f()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:u,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-o)+l,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:h}));return a?r.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Kh(Kh({},this._bottomLeftGridStyle),{},{height:u,width:c,overflowY:"hidden"})},d):d}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,n=e.fixedColumnCount,o=e.fixedRowCount,i=e.rowCount,a=e.scrollToColumn,s=e.scrollToRow;return r.createElement(ch,_f()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-o),rowHeight:this._rowHeightBottomGrid,scrollToColumn:a-n,scrollToRow:s-o,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,n=e.fixedRowCount;return t&&n?r.createElement(ch,_f()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,n=e.enableFixedRowScroll,o=e.fixedColumnCount,i=e.fixedRowCount,a=e.scrollLeft,s=e.hideTopRightGridScrollbar,l=this.state,u=l.showHorizontalScrollbar,c=l.scrollbarSize;if(!i)return null;var f=u?1:0,h=this._getTopGridHeight(e),d=this._getRightGridWidth(e),p=u?c:0,m=h,v=this._topRightGridStyle;s&&(m=h+p,v=Kh(Kh({},this._topRightGridStyle),{},{left:0}));var g=r.createElement(ch,_f()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-o)+f,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:a,style:v,tabIndex:null,width:d}));return s?r.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Kh(Kh({},this._topRightGridStyle),{},{height:h,width:d,overflowX:"hidden"})},g):g}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}])}(r.PureComponent);Zc()(Yh,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),Yh.propTypes={},rf(Yh);function Qh(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var Jh=function(e){function t(e,n){var r;return Gc()(this,t),(r=Qh(this,t,[e,n])).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(r),r}return Qc()(t,e),Hc()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,r=t.clientWidth,o=t.scrollHeight,i=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.clientWidth,r=e.scrollHeight,o=e.scrollLeft,i=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:r,scrollLeft:o,scrollTop:i,scrollWidth:a})}}])}(r.PureComponent);Jh.propTypes={};var Zh={ASC:"ASC",DESC:"DESC"};function ed(e){var t=e.sortDirection,n=Sf("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===Zh.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===Zh.DESC});return r.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},t===Zh.ASC?r.createElement("path",{d:"M7 14l5-5 5 5z"}):r.createElement("path",{d:"M7 10l5 5 5-5z"}),r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function td(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}ed.propTypes={};var nd=function(e){function t(){return Gc()(this,t),td(this,t,arguments)}return Qc()(t,e),Hc()(t)}(r.Component);function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(n),!0).forEach((function(t){Zc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function id(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}Zc()(nd,"defaultProps",{cellDataGetter:function(e){var t=e.dataKey,n=e.rowData;return"function"==typeof n.get?n.get(t):n[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:Zh.ASC,flexGrow:0,flexShrink:1,headerRenderer:function(e){var t=e.dataKey,n=e.label,o=e.sortBy,i=e.sortDirection,a=o===t,s=[r.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"==typeof n?n:null},n)];return a&&s.push(r.createElement(ed,{key:"SortIndicator",sortDirection:i})),s},style:{}}),nd.propTypes={};var ad=function(e){function t(e){var n;return Gc()(this,t),(n=id(this,t,[e])).state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n._setGridElementRef=n._setGridElementRef.bind(n),n}return Qc()(t,e),Hc()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.GridElement){var e=this.GridElement,t=e.clientWidth||0;return(e.offsetWidth||0)-t}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.className,i=t.disableHeader,a=t.gridClassName,s=t.gridStyle,l=t.headerHeight,u=t.headerRowRenderer,c=t.height,f=t.id,h=t.noRowsRenderer,d=t.rowClassName,p=t.rowStyle,m=t.scrollToIndex,v=t.style,g=t.width,y=this.state.scrollbarWidth,b=i?c:c-l,_="function"==typeof d?d({index:-1}):d,w="function"==typeof p?p({index:-1}):p;return this._cachedColumnStyles=[],r.Children.toArray(n).forEach((function(t,n){var r=e._getFlexStyleForColumn(t,t.props.style||nd.defaultProps.style);e._cachedColumnStyles[n]=od({overflow:"hidden"},r)})),r.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":r.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:Sf("ReactVirtualized__Table",o),id:f,role:"grid",style:v},!i&&u({className:Sf("ReactVirtualized__Table__headerRow",_),columns:this._getHeaderColumns(),style:od({height:l,overflow:"hidden",paddingRight:y,width:g},w)}),r.createElement(ch,_f()({},this.props,{elementRef:this._setGridElementRef,"aria-readonly":null,autoContainerWidth:!0,className:Sf("ReactVirtualized__Table__Grid",a),cellRenderer:this._createRow,columnWidth:g,columnCount:1,height:b,id:void 0,noContentRenderer:h,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:y,scrollToRow:m,style:od(od({},s),{},{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,n=e.columnIndex,o=e.isScrolling,i=e.parent,a=e.rowData,s=e.rowIndex,l=this.props.onColumnClick,u=t.props,c=u.cellDataGetter,f=u.cellRenderer,h=u.className,d=u.columnData,p=u.dataKey,m=u.id,v=f({cellData:c({columnData:d,dataKey:p,rowData:a}),columnData:d,columnIndex:n,dataKey:p,isScrolling:o,parent:i,rowData:a,rowIndex:s}),g=this._cachedColumnStyles[n],y="string"==typeof v?v:null;return r.createElement("div",{"aria-colindex":n+1,"aria-describedby":m,className:Sf("ReactVirtualized__Table__rowColumn",h),key:"Row"+s+"-Col"+n,onClick:function(e){l&&l({columnData:d,dataKey:p,event:e})},role:"gridcell",style:g,title:y},v)}},{key:"_createHeader",value:function(e){var t,n,o,i,a,s=e.column,l=e.index,u=this.props,c=u.headerClassName,f=u.headerStyle,h=u.onHeaderClick,d=u.sort,p=u.sortBy,m=u.sortDirection,v=s.props,g=v.columnData,y=v.dataKey,b=v.defaultSortDirection,_=v.disableSort,w=v.headerRenderer,S=v.id,E=v.label,T=!_&&d,k=Sf("ReactVirtualized__Table__headerColumn",c,s.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:T}),x=this._getFlexStyleForColumn(s,od(od({},f),s.props.headerStyle)),C=w({columnData:g,dataKey:y,disableSort:_,label:E,sortBy:p,sortDirection:m});if(T||h){var O=p!==y?b:m===Zh.DESC?Zh.ASC:Zh.DESC,P=function(e){T&&d({defaultSortDirection:b,event:e,sortBy:y,sortDirection:O}),h&&h({columnData:g,dataKey:y,event:e})};a=s.props["aria-label"]||E||y,i="none",o=0,t=P,n=function(e){"Enter"!==e.key&&" "!==e.key||P(e)}}return p===y&&(i=m===Zh.ASC?"ascending":"descending"),r.createElement("div",{"aria-label":a,"aria-sort":i,className:k,id:S,key:"Header-Col"+l,onClick:t,onKeyDown:n,role:"columnheader",style:x,tabIndex:o},C)}},{key:"_createRow",value:function(e){var t=this,n=e.rowIndex,o=e.isScrolling,i=e.key,a=e.parent,s=e.style,l=this.props,u=l.children,c=l.onRowClick,f=l.onRowDoubleClick,h=l.onRowRightClick,d=l.onRowMouseOver,p=l.onRowMouseOut,m=l.rowClassName,v=l.rowGetter,g=l.rowRenderer,y=l.rowStyle,b=this.state.scrollbarWidth,_="function"==typeof m?m({index:n}):m,w="function"==typeof y?y({index:n}):y,S=v({index:n}),E=r.Children.toArray(u).map((function(e,r){return t._createColumn({column:e,columnIndex:r,isScrolling:o,parent:a,rowData:S,rowIndex:n,scrollbarWidth:b})})),T=Sf("ReactVirtualized__Table__row",_),k=od(od({},s),{},{height:this._getRowHeight(n),overflow:"hidden",paddingRight:b},w);return g({className:T,columns:E,index:n,isScrolling:o,key:i,onRowClick:c,onRowDoubleClick:f,onRowRightClick:h,onRowMouseOver:d,onRowMouseOut:p,rowData:S,style:k})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(e.props.flexGrow," ").concat(e.props.flexShrink," ").concat(e.props.width,"px"),r=od(od({},t),{},{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(r.maxWidth=e.props.maxWidth),e.props.minWidth&&(r.minWidth=e.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,n=t.children;return(t.disableHeader?[]:r.Children.toArray(n)).map((function(t,n){return e._createHeader({column:t,index:n})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,o=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:o})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setGridElementRef",value:function(e){this.GridElement=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}])}(r.PureComponent);Zc()(ad,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:fh,overscanRowCount:10,rowRenderer:function(e){var t=e.className,n=e.columns,o=e.index,i=e.key,a=e.onRowClick,s=e.onRowDoubleClick,l=e.onRowMouseOut,u=e.onRowMouseOver,c=e.onRowRightClick,f=e.rowData,h=e.style,d={"aria-rowindex":o+1};return(a||s||l||u||c)&&(d["aria-label"]="row",d.tabIndex=0,a&&(d.onClick=function(e){return a({event:e,index:o,rowData:f})}),s&&(d.onDoubleClick=function(e){return s({event:e,index:o,rowData:f})}),l&&(d.onMouseOut=function(e){return l({event:e,index:o,rowData:f})}),u&&(d.onMouseOver=function(e){return u({event:e,index:o,rowData:f})}),c&&(d.onContextMenu=function(e){return c({event:e,index:o,rowData:f})})),r.createElement("div",_f()({},d,{className:t,key:i,role:"row",style:h}),n)},headerRowRenderer:function(e){var t=e.className,n=e.columns,o=e.style;return r.createElement("div",{className:t,role:"row",style:o},n)},rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),ad.propTypes={};var sd=[],ld=null,ud=null;function cd(){ud&&(ud=null,document.body&&null!=ld&&(document.body.style.pointerEvents=ld),ld=null)}function fd(){cd(),sd.forEach((function(e){return e.__resetIsScrolling()}))}function hd(e){e.currentTarget===window&&null==ld&&document.body&&(ld=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){ud&&nh(ud);var e=0;sd.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),ud=rh(fd,e)}(),sd.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function dd(e,t){sd.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",hd),sd.push(e)}function pd(e,t){(sd=sd.filter((function(t){return t!==e}))).length||(t.removeEventListener("scroll",hd),ud&&(nh(ud),cd()))}var md=function(e){return e===window},vd=function(e){return e.getBoundingClientRect()};function gd(e,t){if(e){if(md(e)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof o?o:0}}return vd(e)}return{height:t.serverHeight,width:t.serverWidth}}function yd(e,t){if(md(t)&&document.documentElement){var n=document.documentElement,r=vd(e),o=vd(n);return{top:r.top-o.top,left:r.left-o.left}}var i=bd(t),a=vd(e),s=vd(t);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}function bd(e){return md(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(n),!0).forEach((function(t){Zc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sd(e,t,n){return t=Xc()(t),$c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xc()(e).constructor):t.apply(e,n))}var Ed=function(){return"undefined"!=typeof window?window:void 0},Td=function(e){function t(){var e;Gc()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=Sd(this,t,[].concat(o)),Zc()(e,"_window",Ed()),Zc()(e,"_isMounted",!1),Zc()(e,"_positionFromTop",0),Zc()(e,"_positionFromLeft",0),Zc()(e,"_detectElementResize",void 0),Zc()(e,"_child",void 0),Zc()(e,"_windowScrollerRef",r.createRef()),Zc()(e,"state",wd(wd({},gd(e.props.scrollElement,e.props)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0})),Zc()(e,"_registerChild",(function(t){!t||t instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),e._child=t,e.updatePosition()})),Zc()(e,"_onChildScroll",(function(t){var n=t.scrollTop;if(e.state.scrollTop!==n){var r=e.props.scrollElement;r&&("function"==typeof r.scrollTo?r.scrollTo(0,n+e._positionFromTop):r.scrollTop=n+e._positionFromTop)}})),Zc()(e,"_registerResizeListener",(function(t){t===window?window.addEventListener("resize",e._onResize,!1):e._detectElementResize.addResizeListener(t,e._onResize)})),Zc()(e,"_unregisterResizeListener",(function(t){t===window?window.removeEventListener("resize",e._onResize,!1):t&&e._detectElementResize.removeResizeListener(t,e._onResize)})),Zc()(e,"_onResize",(function(){e.updatePosition()})),Zc()(e,"__handleWindowScrollEvent",(function(){if(e._isMounted){var t=e.props.onScroll,n=e.props.scrollElement;if(n){var r=bd(n),o=Math.max(0,r.left-e._positionFromLeft),i=Math.max(0,r.top-e._positionFromTop);e.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),t({scrollLeft:o,scrollTop:i})}}})),Zc()(e,"__resetIsScrolling",(function(){e.setState({isScrolling:!1})})),e}return Qc()(t,e),Hc()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,n=this.state,r=n.height,o=n.width,i=this._child||this._windowScrollerRef.current;if(i instanceof Element&&e){var a=yd(i,e);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=gd(e,this.props);r===s.height&&o===s.width||(this.setState({height:s.height,width:s.width}),t({height:s.height,width:s.width})),!0===this.props.updateScrollTopOnUpdatePosition&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(cf.a)(),this.updatePosition(e),e&&(dd(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.scrollElement,r=e.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),pd(this,r),dd(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(pd(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,o=t.scrollTop,i=t.scrollLeft,a=t.height,s=t.width;return r.createElement("div",{ref:this._windowScrollerRef},e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:a,isScrolling:n,scrollLeft:i,scrollTop:o,width:s}))}}])}(r.PureComponent);Zc()(Td,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:Ed(),serverHeight:0,serverWidth:0});n(138);function kd(e){return(kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach((function(t){Od(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Od(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=kd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Id(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Id(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Id(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ad=function(e){var t=e.currContext,n=e.currIdx,a=e.onSongClick,s=e.itemList,l=e.songContext,u=e.rowRenderer,c=e.isSorted,f=e.scrollContainerRef,h=e.listRef,d=Object(r.useRef)(),p=Object(_.f)(),m=Pd(Object(r.useState)(0),2),v=m[0],g=m[1],y=Pd(Object(r.useState)(20),2),b=y[0],w=y[1],S=Object(r.useRef)();Object(r.useEffect)((function(){if(f.current){var e=getComputedStyle(f.current).getPropertyValue("--rowHeight");e&&w(parseInt(e,10))}}),[f]),Object(r.useEffect)((function(){S.current=function(){if(f.current){var e=Cd(Cd({},p.location.state),{},{selectedRow:v,scrollTop:Math.round(f.current.scrollTop)});p.replace(p.location.pathname+p.location.search,e)}}}),[v,f,p]),Object(r.useEffect)((function(){var e=p.block((function(e,t){S.current&&"PUSH"===t&&S.current()}));return function(){return e()}}),[p,S]);var E=Object(r.useCallback)((function(e){var t,n=s[e],r=null!==(t=n.idx)&&void 0!==t?t:e;return"directory"===n.type?function(e){e.preventDefault(),n.isBackLink?p.goBack():p.push(n.href,{prevPathname:window.location.pathname})}:a(null,l,r)}),[p,s,l,a]),T=Object(r.useCallback)((function(e){var t=e.scrollToRow;g(t)}),[g]);return Object(r.useEffect)((function(){var e,t,n=(null===(e=p.location.state)||void 0===e?void 0:e.scrollTop)||0,r=(null===(t=p.location.state)||void 0===t?void 0:t.selectedRow)||0;g(r),h&&Object(i.findDOMNode)(h.current).focus({preventScroll:!0}),setTimeout((function(){f.current.scrollTo(0,n)}),0)}),[p.location.pathname]),o.a.createElement("div",{onKeyDown:function(e){if("INPUT"!==e.target.tagName)if(e.repeat||"Enter"!==e.key&&"Return"!==e.key){if("Backspace"===e.key)p.goBack();else if("Home"===e.key)g(0);else if("End"===e.key)g(s.length-1);else if("PageUp"===e.key)e.preventDefault(),g(Math.max(0,v-10));else if("PageDown"===e.key)e.preventDefault(),g(Math.min(s.length-1,v+10));else if(c&&!1===e.metaKey&&!1===e.ctrlKey&&!1===e.altKey&&"abcdefghijklmnopqrstuvwxyz0123456789".includes(e.key)){e.preventDefault();for(var t,n=e.key.toLowerCase(),r=0,o=s.length-1;r<=o;){t=Math.floor((r+o)/2);var i=s[t].name.toLowerCase();if(i.startsWith(n))break;i.toLowerCase()<n?r=t+1:o=t-1}for(;t>0&&s[t-1].name.toLowerCase()[0]===n;)t--;g(t)}}else{if("BUTTON"===e.target.tagName)return;var a=h.current.props.scrollToIndex;h.current.scrollToRow(a),E(a)(e)}}},o.a.createElement(Td,{scrollElement:f.current,onScroll:function(e){var t=e.scrollTop;h.current.scrollToPosition(t),Object(i.findDOMNode)(h.current).focus({preventScroll:!0})}},(function(r){var i=r.height,a=r.registerChild,l=r.onChildScroll;r.scrollTop;return o.a.createElement(o.a.Fragment,null,e.children,o.a.createElement("div",{ref:a},o.a.createElement(uf,{ref:d,columnCount:1,rowCount:s.length,mode:"cells",isControlled:!0,scrollToRow:v,onScrollToChange:T},(function(e){var r=e.onSectionRendered,a=e.scrollToRow;return o.a.createElement(gh,{ref:h,onRowsRendered:function(e){var t=e.startIndex,n=e.stopIndex;r({rowStartIndex:t,rowStopIndex:n})},scrollToIndex:a,scrollToAlignment:"auto",autoHeight:!0,height:i||0,width:500,onScroll:l,containerProps:{autoFocus:!0},containerStyle:{width:"100%",maxWidth:"100%"},style:{width:"100%"},rowCount:s.length,rowHeight:b,rowRenderer:function(e){var r=e.index,i=e.key,l=e.style,c=s[r],f=t&&t[n]===c.href,h=r===a,d=["BrowseList-row"];f&&d.push("Song-now-playing"),h&&d.push("BrowseList-row-selected"),r%2==0?d.push("even"):d.push("odd");var p=E(r);return o.a.createElement("div",{key:i,style:l,className:d.join(" "),onClick:function(e){var t;g(r),e.preventDefault();for(var n=e.target.parentElement;(null===(o=n)||void 0===o?void 0:o.tabIndex)<0;){var o;n=n.parentElement}null===(t=n)||void 0===t||t.focus({preventScroll:!0})},onDoubleClick:p},u({item:c,onPlay:p}))}})}))))})))};var Rd=n(30),Md=n.n(Rd),Nd=n(48),jd=n.n(Nd);function Dd(e){return(Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ld(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fd(r.key),r)}}function Fd(e){var t=function(e,t){if("object"!=Dd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dd(t)?t:t+""}function zd(e,t,n){return t=Ud(t),function(e,t){if(t&&("object"==Dd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ud(e).constructor):t.apply(e,n))}function Ud(e){return(Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bd(e,t){return(Bd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Vd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=zd(this,t,[e])),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bd(e,t)}(t,e),function(e,t,n){return t&&Ld(e.prototype,t),n&&Ld(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){this.navigate()}},{key:"componentDidUpdate",value:function(e,t){this.navigate()}},{key:"handleShufflePlay",value:function(){this.props.handleShufflePlay(this.props.browsePath)}},{key:"navigate",value:function(){var e=this.props,t=e.browsePath,n=e.listing,r=e.fetchDirectory;n||r(t)}},{key:"render",value:function(){var e,t=this.props,n=t.listing,r=t.browsePath,i=t.playContext,a=t.history,s=b.a.parse(window.location.search.slice(1));delete s.q;var l=b.a.stringify(s),u=jd()(null===(e=a.location.state)||void 0===e?void 0:e.prevPathname,"/"),c=jd()(window.location.pathname,"/"),f=u===c.slice(0,c.lastIndexOf("/"));return o.a.createElement(Ad,{scrollContainerRef:this.props.scrollContainerRef,currContext:this.props.currContext,currIdx:this.props.currIdx,onSongClick:this.props.onSongClick,itemList:n||[],songContext:i,rowRenderer:function(e){var t=e.item,n=e.onPlay;if(t.isBackLink=".."===t.name&&f,"directory"===t.type)return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"BrowseList-colName"},o.a.createElement(ae,{to:t.href,search:l,isBackLink:t.isBackLink},t.name)),o.a.createElement("div",{className:"BrowseList-colDir"},"<DIR>"),o.a.createElement("div",{className:"BrowseList-colCount",title:"Contains ".concat(t.numChildren," direct child items")},t.numChildren),o.a.createElement("div",{className:"BrowseList-colMtime"},t.mtime),o.a.createElement("div",{className:"BrowseList-colSize",title:"Directory size is ".concat(t.size," bytes (recursive)")},null!=t.size&&Md()(t.size,{unitSeparator:" "})));var r=ce(ie.CATALOG_PREFIX,t.path);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"BrowseList-colName"},o.a.createElement(Fc,{href:r}),o.a.createElement("a",{onClick:n,href:r,tabIndex:"-1"},t.name)),o.a.createElement("div",{className:"BrowseList-colMtime"},t.mtime),o.a.createElement("div",{className:"BrowseList-colSize"},Md()(t.size,{unitSeparator:" "})))},listRef:this.props.listRef,isSorted:!0},o.a.createElement("h3",{className:"Browse-topRow"},"/",r," ",o.a.createElement("button",{className:"box-button",title:"Shuffle this directory (and all subdirectories)",onClick:this.handleShufflePlay},"Shuffle Play")))}}])}(o.a.PureComponent);function Gd(e){return(Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qd(r.key),r)}}function qd(e){var t=function(e,t){if("object"!=Gd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gd(t)?t:t+""}function $d(e,t,n){return t=Kd(t),function(e,t){if(t&&("object"==Gd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Kd(e).constructor):t.apply(e,n))}function Kd(e){return(Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xd(e,t){return(Xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Yd=n(7).FORMATS.filter((function(e){return"miniusf"!==e})).map((function(e){return".".concat(e)})),Qd=Math.floor(Yd.length/2)-1,Jd="Formats: ".concat(Yd.slice(0,Qd).join(" ")),Zd=Yd.slice(Qd).join(" "),ep=function(e){function t(){return Wd(this,t),$d(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xd(e,t)}(t,e),function(e,t,n){return t&&Hd(e.prototype,t),n&&Hd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return o.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box-outer"},o.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box drop-message"},o.a.createElement("div",{className:"message-box-inner"},"Drop files to play!",o.a.createElement("br",null),Jd,o.a.createElement("br",null),Zd,o.a.createElement("br",null),o.a.createElement("br",null),"Drop a SoundFont (.sf2) to customize MIDI playback.")))}}])}(o.a.PureComponent),tp=function(e){var t=e.item,n=e.onPlay,r=t.href,i=t.mtime,a=new Date(1e3*i).toISOString().split("T")[0],s=decodeURIComponent(r.split("/").pop());return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"BrowseList-colName"},o.a.createElement(Fc,{href:r}),o.a.createElement("a",{onClick:n,href:r},s)),o.a.createElement("div",{className:"BrowseList-colMtime"},a))},np=Object(r.memo)(rp);function rp(e){var t=e.scrollContainerRef,n=e.currContext,i=e.currIdx,a=e.onSongClick,s=e.handleShufflePlay,l=e.listRef,u=Object(r.useContext)(jc),c=u.user,f=u.loadingUser,h=u.faves,d=u.favesContext,p=u.handleLogin,m=Object(r.useCallback)((function(){s("favorites")}),[s]);return f&&0===h.length?o.a.createElement("p",null,"Loading user data..."):t.current?c||0!==h.length?o.a.createElement(Ad,{scrollContainerRef:t,currContext:n,currIdx:i,onSongClick:a,listRef:l,itemList:h,songContext:d,rowRenderer:tp},o.a.createElement("h3",{className:"Browse-topRow"},"Favorite Songs (",h.length,")",h.length>1&&o.a.createElement("button",{className:"box-button",title:"Shuffle all ".concat(h.length," favorites"),onClick:m},"Shuffle Play")),0===h.length&&o.a.createElement("div",{style:{padding:"0 1em"}},"You don't have any favorites yet.",o.a.createElement("br",null),"Click the  heart icon next to any song to save a favorite.")):o.a.createElement("span",null,"You must ",o.a.createElement("a",{href:"#",onClick:p},"login or signup")," to save favorites."):o.a.createElement("p",null,"Loading...")}function op(e){return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(n),!0).forEach((function(t){sp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sp(e,t,n){return(t=up(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,up(r.key),r)}}function up(e){var t=function(e,t){if("object"!=op(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==op(t)?t:t+""}function cp(e,t,n){return t=fp(t),function(e,t){if(t&&("object"==op(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],fp(e).constructor):t.apply(e,n))}function fp(e){return(fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hp(e,t){return(hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var dp={};var pp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=cp(this,t,[e])),n.debouncedDoSearch=Se()(n.doSearch,150),n.textInput=o.a.createRef(),n.state={totalSongs:0,query:null,searching:!1,results:[],resultsContext:[],resultsCount:0},fetch("".concat(ie.API_BASE,"/total")).then((function(e){return e.json()})).then((function(e){return n.setState({totalSongs:e.total})})).catch((function(e){return n.setState({totalSongs:99999})})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hp(e,t)}(t,e),function(e,t,n){return t&&lp(e.prototype,t),n&&lp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){var e=b.a.parse(window.location.search.substr(1)).q;e&&(this.setState({query:e}),this.doSearch(e))}},{key:"onChange",value:function(e){this.onSearchInputChange(e.target.value)}},{key:"onSearchInputChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState({query:e});var n={q:e?e.trim():void 0},r=ap(ap({},b.a.parse(window.location.search.substr(1))),n);Object.keys(r).forEach((function(e){return void 0===r[e]&&delete r[e]}));var o="?"+b.a.stringify(r).replace(/%20/g,"+");this.props.history.replace(o),e.length?t?this.doSearch(e):this.debouncedDoSearch(e):this.showEmptyState()}},{key:"doSearch",value:function(e){var t=this;if(dp[e])this.setState(ap({searching:!0},dp[e]));else{var n=encodeURIComponent(e),r="".concat(ie.API_BASE,"/search?query=").concat(n,"&limit=").concat(100);this.searchRequest&&this.searchRequest.abort(),this.searchRequest=ve(new XMLHttpRequest),this.searchRequest.open("GET",r),this.searchRequest.send().then((function(e){return t.searchRequest=null,JSON.parse(e.responseText)})).then((function(n){var r=n.items,o=n.total,i=r.map((function(e,t){var n=e.file;return{idx:t,path:n,name:decodeURIComponent(n.substring(n.lastIndexOf("/")+1)),href:ce(ie.CATALOG_PREFIX,n.replace("%","%25").replace("#","%23")),type:"file"}})),a=i.map((function(e){return e.href})),s=[],l=null;i.forEach((function(e){var t=e.path,n=t.substring(0,t.lastIndexOf("/")+1);n!==l&&(l=n,s.push({type:"directory",href:ce("/browse",n),name:decodeURIComponent(n)})),s.push(e)})),dp[e]={resultsCount:o,resultsContext:a,results:s},t.setState(ap({searching:!0},dp[e]))}))}}},{key:"handleClear",value:function(){var e=b.a.parse(window.location.search.substr(1));delete e.q;var t=b.a.stringify(e);window.history.replaceState(null,"",t?"?".concat(t):"./"),this.setState({query:null,searching:!1,results:[],resultsContext:[],resultsCount:0}),this.textInput.current.focus()}},{key:"showEmptyState",value:function(){this.setState({searching:!1,results:[]})}},{key:"renderResultItem",value:function(e){var t=e.item,n=e.onPlay;return"directory"===t.type?o.a.createElement(ae,{dim:!0,to:t.href},t.name):o.a.createElement(o.a.Fragment,null,o.a.createElement(Fc,{href:t.href}),o.a.createElement("a",{onClick:n,href:t.href,tabIndex:"-1"},t.name))}},{key:"render",value:function(){var e=this.state.totalSongs?"".concat(this.state.totalSongs," tunes"):"Loading catalog...",t=this.props,n=t.onSongClick,i=t.currContext,a=t.currIdx,s=t.scrollContainerRef,l=t.listRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ad,{currContext:i,currIdx:a,onSongClick:n,itemList:this.state.results,songContext:this.state.resultsContext,rowRenderer:this.renderResultItem,isSorted:!1,scrollContainerRef:s,listRef:l},o.a.createElement("h3",{className:"Browse-topRow"},o.a.createElement("label",{className:"Search-label"},"Search:"," ",o.a.createElement("input",{type:"text",placeholder:e,spellCheck:"false",autoComplete:"off",autoCorrect:"false",autoCapitalize:"none",autoFocus:!0,ref:this.textInput,className:"Search-input",value:this.state.totalSongs&&this.state.query||"",onChange:this.onChange}),this.state.searching&&o.a.createElement(r.Fragment,null,o.a.createElement("button",{className:"Search-clearButton",onClick:this.handleClear})," ",o.a.createElement("span",{className:"Search-resultsLabel"},this.state.resultsCount," result",1!==this.state.resultsCount&&"s"))))),this.state.searching||this.props.children)}}])}(r.PureComponent),mp=n(72),vp=n.n(mp),gp=n(73);function yp(e){return(yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tp(r.key),r)}}function _p(e,t,n){return t=wp(t),function(e,t){if(t&&("object"==yp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],wp(e).constructor):t.apply(e,n))}function wp(e){return(wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sp(e,t){return(Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ep(e,t,n){return(t=Tp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tp(e){var t=function(e,t){if("object"!=yp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yp(t)?t:t+""}var kp=["Linear FFT","Log FFT","Constant Q"],xp=[{label:"None",description:"No attenuation"},{label:"A-Weighting",description:"Darkens low and high frequencies to approximate sensitivity of human hearing."}],Cp=[512,1024,2048,4096,8192],Op=["512","1K","2K","4K","8K","16K"],Pp=[1,2,4],Ip=["Lo","Med","Hi"],Ap=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ep(n=_p(this,t,[e]),"handleModeClick",(function(e){var t=parseInt(e.target.value,10);n.setState({vizMode:t}),n.spectrogram.setMode(t)})),Ep(n,"handleWeightingModeClick",(function(e){var t=parseInt(e.target.value,10);n.setState({weightingMode:t}),n.spectrogram.setWeighting(t)})),Ep(n,"handleFFTSizeClick",(function(e){var t=parseInt(e.target.value,10);n.setState({fftSize:t}),n.spectrogram.setFFTSize(t)})),Ep(n,"handleSpeedClick",(function(e){var t=parseInt(e.target.value,10);n.setState({speed:t}),n.spectrogram.setSpeed(t)})),Ep(n,"handleToggleVisualizer",(function(e){var t="true"===e.target.value;n.setState({enabled:t})})),n.state={vizMode:2,weightingMode:1,fftSize:2048,speed:2,enabled:!1},n.freqCanvasRef=o.a.createRef(),n.specCanvasRef=o.a.createRef(),n.pianoKeysRef=o.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sp(e,t)}(t,e),function(e,t,n){return t&&bp(e.prototype,t),n&&bp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){this.spectrogram=new gp.a(this.props.chipCore,this.props.audioCtx,this.props.sourceNode,this.freqCanvasRef.current,this.specCanvasRef.current,this.pianoKeysRef.current),this.spectrogram.setMode(this.state.vizMode),this.spectrogram.setWeighting(this.state.weightingMode),this.spectrogram.setSpeed(this.state.speed)}},{key:"componentDidUpdate",value:function(e){this.spectrogram.setPaused(!this.state.enabled||this.props.paused)}},{key:"render",value:function(){var e=this,t={display:this.state.enabled?"block":"none",width:448,boxSizing:"border-box"};return o.a.createElement("div",{className:"Visualizer"},o.a.createElement("h3",{className:"Visualizer-toggle"},"Visualizer"," ",o.a.createElement("input",{onClick:this.handleToggleVisualizer,id:"vis-on",type:"radio",value:!0,defaultChecked:!0===this.state.enabled,name:"visualizer-enabled"}),o.a.createElement("label",{htmlFor:"vis-on",className:"inline"},"On"),o.a.createElement("input",{onClick:this.handleToggleVisualizer,id:"vis-off",type:"radio",value:!1,defaultChecked:!1===this.state.enabled,name:"visualizer-enabled"}),o.a.createElement("label",{htmlFor:"vis-off",className:"inline"},"Off")),o.a.createElement("div",{className:"Visualizer-options",style:t},o.a.createElement("div",null,o.a.createElement("span",{className:"VisualizerParams-label"},"Mode:"),kp.map((function(t,n){return o.a.createElement("label",{key:"m_"+n,className:"inline"},o.a.createElement("input",{onClick:e.handleModeClick,type:"radio",name:"spectrogram-mode",defaultChecked:e.state.vizMode===n,value:n}),t)}))),2===this.state.vizMode?o.a.createElement("div",null,o.a.createElement("span",{className:"VisualizerParams-label"},"Weighting:"),xp.map((function(t,n){return o.a.createElement(r.Fragment,{key:"w_"+n},o.a.createElement("input",{onClick:e.handleWeightingModeClick,type:"radio",id:"w_"+n,name:"weighting-mode",defaultChecked:e.state.weightingMode===n,value:n}),o.a.createElement("label",{htmlFor:"w_"+n,title:t.description,className:"inline"},t.label))}))):o.a.createElement("div",null,o.a.createElement("span",{className:"VisualizerParams-label"},"FFT Size:"),Cp.map((function(t,n){return o.a.createElement(r.Fragment,{key:"f_"+n},o.a.createElement("input",{onClick:e.handleFFTSizeClick,type:"radio",id:"f_"+n,name:"fft-size",defaultChecked:e.state.fftSize===t,value:t}),o.a.createElement("label",{htmlFor:"f_"+n,className:"inline"},Op[n]))}))),o.a.createElement("div",{title:"Vertical scrolling speed (pixels per frame)"},o.a.createElement("span",{className:"VisualizerParams-label"},"Speed:"),Pp.map((function(t,n){return o.a.createElement(r.Fragment,{key:"s_"+n},o.a.createElement("input",{onClick:e.handleSpeedClick,type:"radio",id:"s_"+n,name:"speed",defaultChecked:e.state.speed===t,value:t}),o.a.createElement("label",{htmlFor:"s_"+n,className:"inline"},Ip[n]))})))),o.a.createElement("canvas",{style:t,className:"Visualizer-analyzer",width:448,height:60,ref:this.freqCanvasRef}),o.a.createElement("canvas",{style:t,className:"Visualizer-spectrogram",width:448,height:800,ref:this.specCanvasRef}),o.a.createElement("img",{src:vp.a,className:"Visualizer-overlay",ref:this.pianoKeysRef,alt:"Piano keys",style:{display:this.state.enabled&&2===this.state.vizMode?"block":"none",width:448}}))}}])}(r.PureComponent);function Rp(e){return function(e){if(Array.isArray(e))return jp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Np(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||Np(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Np(e,t){if(e){if("string"==typeof e)return jp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jp(e,t):void 0}}function jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Dp=Object(r.createContext)(),Lp=function(e){var t=e.children,n=Mp(Object(r.useState)([]),2),i=n[0],a=n[1],s=Object(r.useRef)(),l=Object(r.useCallback)((function(){a(i.slice(1))}),[i]);return Object(r.useEffect)((function(){return i.length>0&&(clearTimeout(s.current),s.current=setTimeout((function(){return l()}),6e3)),function(){return clearTimeout(s.current)}}),[i,l]),o.a.createElement(Dp.Provider,{value:{enqueueToast:function(e,t){for(;i.length>=5;)i.splice(0,1);a([].concat(Rp(i),[{message:e,level:t}]))},clearCurrentToast:l,currentToast:i[0],toastCount:i.length}},t)},Fp={INFO:{label:"Info",className:"toast-info"},ERROR:{label:"Error",className:"toast-error"}};var zp=function(){var e,t,n=Object(r.useContext)(Dp),i=n.clearCurrentToast,a=n.currentToast,s=n.toastCount,l=(e=a,t=Object(r.useRef)(),Object(r.useEffect)((function(){t.current=e})),t.current),u=a||l||{},c=u.message,f=u.level,h=void 0===f?Fp.INFO:f,d=["toast-box",null==h?void 0:h.className].join(" "),p=s>1?" (".concat(s,")"):"";return o.a.createElement("div",{hidden:!a,className:"toast-box-outer"},o.a.createElement("div",{className:d},o.a.createElement("div",{className:"message"},null==h?void 0:h.label,": ",c),o.a.createElement("button",{className:"box-button message-box-button",onClick:i},"Dismiss",p)))},Up=Object(r.memo)(zp);function Bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gp=Object(r.memo)(Wp);function Wp(e){var t=e.infoTexts,n=void 0===t?[]:t,i=e.showInfo,a=e.toggleInfo,s=Bp(Object(r.useState)(0),2),l=s[0],u=s[1],c=(n[l]||"").trim()||"No information available.",f=Math.min(40,c.split("\n").length+6);Object(r.useEffect)((function(){u(0)}),[n]);var h=Object(r.useCallback)((function(){u(Math.max(0,l-1))}),[l]),d=Object(r.useCallback)((function(){u(Math.min(n.length-1,l+1))}),[n,l]);return o.a.createElement("div",{hidden:!i,className:"message-box-outer"},o.a.createElement("div",{hidden:!i,className:"message-box",style:{height:i?"calc(".concat(f," * var(--charH))"):0}},o.a.createElement("div",{className:"message-box-inner info-text"},c),o.a.createElement("div",{className:"message-box-footer"},o.a.createElement("button",{className:"box-button message-box-button",onClick:a},"Close"),n.length>1&&o.a.createElement("span",null,o.a.createElement("button",{disabled:0===l,className:"box-button message-box-button",onClick:h},o.a.createElement("span",{className:"inline-icon icon-back"}))," ",o.a.createElement("button",{disabled:l===n.length-1,className:"box-button message-box-button",onClick:d},o.a.createElement("span",{className:"inline-icon icon-forward"}))))))}function Hp(e){return(Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qp(e){return function(e){if(Array.isArray(e))return $p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xp(r.key),r)}}function Xp(e){var t=function(e,t){if("object"!=Hp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hp(t)?t:t+""}function Yp(e,t,n){return t=Qp(t),function(e,t){if(t&&("object"==Hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Qp(e).constructor):t.apply(e,n))}function Qp(e){return(Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jp(e,t){return(Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Zp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=Yp(this,t,[e])),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jp(e,t)}(t,e),function(e,t,n){return t&&Kp(e.prototype,t),n&&Kp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"handleVoiceToggle",value:function(e,t){var n=this.props.onVoiceMaskChange;if(n){var r=qp(this.props.voiceMask);(e=e.nativeEvent||{}).altKey||e.shiftKey||e.metaKey?r.every((function(e,n){return n===t===e}))?r.fill(!0):(r.fill(!1),r[t]=!0):r[t]=!r[t],n(r)}}},{key:"isPinned",value:function(e){var t;return null===(t=this.props.persistedSettings)||void 0===t?void 0:t.hasOwnProperty(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.paramDefs,r=t.paramValues,i=t.onParamChange,a=t.onPinParam,s=t.playerKey,l=t.tempo,u=t.onTempoChange,c=t.ejected,f=t.voiceGroups,h=t.numVoices,d=t.voiceMask,p=t.voiceNames,m=this.isPinned;return o.a.createElement("div",{className:"PlayerParams"},o.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},o.a.createElement("button",{className:"IconButton",title:m("tempo")?"Un-pin this parameter":"Pin this parameter (retains value between songs)",onClick:function(){return a("tempo",l)}},o.a.createElement("span",{className:"inline-icon ".concat(m("tempo")?"icon-pin-down":"icon-pin-up")})),o.a.createElement("label",{htmlFor:"tempo",className:"PlayerParams-label"},"Speed:"," "),o.a.createElement("input",{id:"tempo",disabled:c,type:"range",value:l,min:"0.3",max:"2.0",step:"0.05",onInput:u,onChange:u})," ",l.toFixed(2)),f.length>0?f.map((function(t,n){return o.a.createElement("span",{className:"PlayerParams-param PlayerParams-group",key:t.name},o.a.createElement("label",{className:"PlayerParams-group-title",title:"Sound chip"},t.icon&&o.a.createElement("span",{className:"inline-icon dim-icon icon-chip"})," ",t.name,":"),o.a.createElement("div",{className:"PlayerParams-voiceList"},t.voices.map((function(t,r){return o.a.createElement("div",{key:t.idx,className:"App-voice-label"},o.a.createElement("input",{title:"Alt+click to solo. Alt+click again to unmute all.",type:"checkbox",id:"v_"+n+r,onChange:function(n){return e.handleVoiceToggle(n,t.idx)},checked:d[t.idx]}),o.a.createElement("label",{htmlFor:"v_"+n+r},t.name))}))))})):h>0&&o.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},o.a.createElement("label",{className:"PlayerParams-group-title"},"Voices:"),o.a.createElement("div",{className:"PlayerParams-voiceList"},qp(Array(h)).map((function(t,n){return o.a.createElement("div",{key:n,className:"App-voice-label"},o.a.createElement("input",{title:"Alt+click to solo. Alt+click again to unmute all.",type:"checkbox",id:"v_"+n,onChange:function(t){return e.handleVoiceToggle(t,n)},checked:d[n]}),o.a.createElement("label",{htmlFor:"v_"+n},p[n]))})))),n&&r&&n.map((function(e){var t=r[e.id],n=e.dependsOn;if(n&&r[n.param]!==n.value)return null;var l="".concat(s,".").concat(e.id),u=o.a.createElement("button",{className:"IconButton",title:m(l)?"Un-pin this parameter":"Pin this parameter (retains value between songs)",onClick:function(){return a(l,t)}},o.a.createElement("span",{className:"inline-icon ".concat(m(l)?"icon-pin-down":"icon-pin-up")}));switch(e.type){case"enum":return o.a.createElement("span",{key:e.id,className:"PlayerParams-param"},u,o.a.createElement("label",{htmlFor:e.id,title:e.hint,className:"PlayerParams-label"},e.label,":"," "),o.a.createElement("select",{id:e.id,onChange:function(t){var n=Number(t.target.value),r=isNaN(n)?t.target.value:n;i(e.id,r)},value:t},e.options.map((function(e){return o.a.createElement("optgroup",{key:e.label,label:e.label},e.items.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)})))}))));case"number":return o.a.createElement("span",{key:e.id,className:"PlayerParams-param"},u,o.a.createElement("label",{htmlFor:e.id,title:e.hint,className:"PlayerParams-label"},e.label,":"," "),o.a.createElement("input",{id:e.id,type:"range",title:e.hint,min:e.min,max:e.max,step:e.step,onChange:function(t){return i(e.id,parseFloat(t.target.value))},value:t})," ",void 0!==t&&e.step>=1?t:t.toFixed(2));case"toggle":return o.a.createElement("span",{key:e.id,className:"PlayerParams-param"},u,o.a.createElement("input",{type:"checkbox",id:e.id,onChange:function(t){return i(e.id,t.target.checked)},checked:t}),o.a.createElement("label",{htmlFor:e.id,title:e.hint},e.label));case"button":return o.a.createElement("button",{key:e.id,title:e.hint,className:"box-button",onClick:function(){return i(e.id,!0)}},e.label);default:return null}})))}}])}(o.a.PureComponent),em=[{value:"msdos",label:"MS-DOS"},{value:"winamp",label:"Winamp"}];function tm(e){var t,n,i=e.ejected,a=e.tempo,s=e.numVoices,l=e.voiceMask,u=e.voiceNames,c=e.voiceGroups,f=e.onVoiceMaskChange,h=e.onTempoChange,d=e.paramDefs,p=e.paramValues,m=e.onParamChange,v=e.onPinParam,g=e.persistedSettings,y=e.sequencer,b=Object(r.useContext)(jc),_=b.settings,w=b.updateSettings,S=null==_?void 0:_.theme,E=Object(r.useCallback)((function(e){w({theme:e.target.value})}),[w]);return o.a.createElement("div",{className:"Settings"},o.a.createElement("h3",null,(null==y||null===(t=y.getPlayer())||void 0===t?void 0:t.name)||"Player"," Settings"),null!=y&&y.getPlayer()?o.a.createElement(Zp,{ejected:i,tempo:a,numVoices:s,voiceMask:l,voiceNames:u,voiceGroups:c,onTempoChange:h,onVoiceMaskChange:f,paramDefs:d,paramValues:p,onParamChange:m,onPinParam:v,persistedSettings:g,playerKey:null==y||null===(n=y.getPlayer())||void 0===n?void 0:n.playerKey}):o.a.createElement("div",null,"(No active player)"),o.a.createElement("h3",null,"Global Settings"),o.a.createElement("span",{className:"PlayerParams-param"},o.a.createElement("label",{htmlFor:"theme",className:"PlayerParams-label"},"Theme:"," "),o.a.createElement("select",{id:"theme",onChange:E,value:S},em.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)})))))}var nm=Object(r.memo)(tm);function rm(e){return function(e){if(Array.isArray(e))return om(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return om(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?om(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function om(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var im=ie.FORMATS.filter((function(e){return"miniusf"!==e})).map((function(e){return".".concat(e)})),am=Math.floor(im.length/2),sm=im.slice(0,am).join(" "),lm=im.slice(am).join(" "),um=Object(r.memo)(cm);function cm(e){var t=e.listing,n=e.currContext,i=e.playContext,a=e.currIdx,s=e.onSongClick,l=e.onDelete,u=e.onAddFiles,c=e.loading,f=Object(r.useRef)(null),h=Object(r.useCallback)((function(e){var t=e.currentTarget.dataset.href;(e.shiftKey||window.confirm("Are you sure you want to remove this file from browser storage?\n(Shift-click to remove without confirmation.)"))&&l(t)}),[l]);return o.a.createElement("div",null,o.a.createElement("h3",{className:"Browse-topRow"},"Local Files (",t.length,")",o.a.createElement("div",{className:"button-container"},o.a.createElement("button",{className:"box-button",onClick:function(){f.current.click()},title:"Add files"},"Add Files...")," ",t.length>0&&o.a.createElement("button",{className:"box-button",onClick:function(){window.confirm("Are you sure you want to remove ALL local files?\nThis cannot be undone.")&&l(t.map((function(e){return e.path})))},title:"Remove all local files"},"Clear")),o.a.createElement("input",{ref:f,type:"file",multiple:!0,accept:im.join(","),style:{display:"none"},onChange:function(e){var t=e.target.files;t.length>0&&u(rm(t))}})),c?"Loading local files...":0===t.length?o.a.createElement("div",null,o.a.createElement("p",null,"You don't have any Local Files yet."),o.a.createElement("p",null,"Files dropped here will be persisted in your local browser.",o.a.createElement("br",null),"(Keep a copy - your browser might lose this data.)",o.a.createElement("br",null),"Local Files can't be added to Favorites."),o.a.createElement("p",null,"Supported formats:"),o.a.createElement("p",null,sm,o.a.createElement("br",null),lm,o.a.createElement("br",null))):o.a.createElement("div",null,t.map((function(e,t){var r=e.path,l=decodeURIComponent(r.split("/").pop()),u=n===i&&a===t;return o.a.createElement("div",{key:l,className:u?"Song-now-playing BrowseList-row":"BrowseList-row"},o.a.createElement("button",{className:"Trash-button",title:"Delete",onClick:h,"data-href":r},o.a.createElement("span",{className:"inline-icon icon-trash"})),o.a.createElement("div",{className:"BrowseList-colName"},o.a.createElement("a",{onClick:s(r,i,t),href:r},l)),o.a.createElement("div",{className:"BrowseList-colMtime"},e.mtime),o.a.createElement("div",{className:"BrowseList-colSize"},Md()(e.size,{unitSeparator:" "})))}))))}function fm(){var e=Object(r.useContext)(jc).updateSettings,t=Object(r.useCallback)((function(t){e({theme:t})}),[e]);return o.a.createElement("div",{className:"Announcements",style:{maxWidth:544}},o.a.createElement("p",{style:{font:"var(--fontPxPlusChipPlayer)",whiteSpace:"pre-wrap"}},"╔═══════════════════════════════╗\n║     W h a t ' s    N e w      ║\n╚═══════════════════════════════╝\n"),o.a.createElement("h3",null,"2025-09-17"),o.a.createElement("p",null,"Player settings can now be persisted across songs/sessions.",o.a.createElement("br",null),"Click the pushpin",o.a.createElement("span",{className:"inline-icon icon-pin-up"}),"to lock values."),o.a.createElement("h3",null,"2025-08-20"),o.a.createElement("p",null,"Fixed a longstanding iOS/Safari SoundFont initialization bug."),o.a.createElement("h3",null,"2025-07-16"),o.a.createElement("p",null,"Migrated to a new hosting provider. ",o.a.createElement("br",null),"Chip Player JS is now supported by ",o.a.createElement("a",{href:"https://m.do.co/c/fb2d6eb51d7b"},"Digital Ocean"),"."),o.a.createElement("h3",null,"2025-06-25"),o.a.createElement("p",null,"Added ",o.a.createElement(R,{to:"/browse/MIDI Datasets"},"MIDI Datasets")," to the catalog. (10475 tunes)",o.a.createElement("br",null),"Piano performances transcribed to MIDI using machine learning.",o.a.createElement("br",null)),o.a.createElement("h3",null,"2025-05-02"),o.a.createElement("p",null,"Improved audio playback for Android and iOS devices."),o.a.createElement("h3",null,"2025-04-01"),o.a.createElement("p",null,"Added Theme to Global Settings, persisted in Firebase.",o.a.createElement("br",null),"Switched to upstream FluidLite - I'm now contributing to the project. For example, ",o.a.createElement("a",{href:"https://github.com/divideconcept/FluidLite/pull/59"},"stereo chorus"),"."),o.a.createElement("h3",null,"2025-03-09"),o.a.createElement("p",null,"Improved N64 (usflib) player performance.",o.a.createElement("br",null),"Playback startup is much faster.",o.a.createElement("br",null),"Added ",o.a.createElement(R,{to:"/browse/The%20Module%20Collection"},"The Module Collection")," to the catalog. (6000 oldskool mods)",o.a.createElement("br",null)),o.a.createElement("h3",null,"2025-02-24"),o.a.createElement("p",null,"Added ",o.a.createElement(R,{to:"/browse/Battle%20of%20the%20Bits"},"Battle of the Bits")," to the catalog. (2356 tunes so far)",o.a.createElement("br",null),"Added ",o.a.createElement(R,{to:"/browse/Nintendo%20Game%20Boy"},"Nintendo Game Boy")," (.gbs) to the catalog. (1559 + 39 homebrew)",o.a.createElement("br",null)),o.a.createElement("h3",null,"2025-02-16"),o.a.createElement("p",null,"Experimental: themes. Try out ",o.a.createElement("a",{onClick:function(){return t("winamp")}},"Winamp theme")," or switch back to ",o.a.createElement("a",{onClick:function(){return t("msdos")}},"MSDOS"),"."),o.a.createElement("h3",null,"2025-01-25"),o.a.createElement("p",null,"Updated game-music-emu from a 2018 fork to the latest upstream (0.6.4). Among other things, this adds support for glitched SPC files (i.e. from ",o.a.createElement(R,{to:"/browse/Contemporary/SNES%20Romhacks%20(SPC)"},"SMWCentral romhacks"),").",o.a.createElement("br",null),o.a.createElement("br",null),"New for Game Music Emu player settings:",o.a.createElement("br",null),"- stereoWidth (now built into game-music-emu)",o.a.createElement("br",null),"- disableEcho (for SNES)"),o.a.createElement("h3",null,"2025-01-20"),o.a.createElement("p",null,'Added song list keyboard interaction. Use arrow keys to navigate, enter to play, and double click to play. Upgraded Favorites tab to a virtualized list. And added Winamp-style "list view" affordances. This includes:',o.a.createElement("br",null),o.a.createElement("br",null),'- click to select a row (the "cursor")',o.a.createElement("br",null),"- press arrow keys to move cursor up/down",o.a.createElement("br",null),"- double click to play/navigate cursor",o.a.createElement("br",null),"- press enter to play/navigate cursor",o.a.createElement("br",null),"- restore scroll position and cursor when navigating back",o.a.createElement("br",null),"- backspace to navigate back",o.a.createElement("br",null),"- press a letter to jump to the first song starting with that letter",o.a.createElement("br",null)),o.a.createElement("h3",null,"2024-07-16"),o.a.createElement("p",null,"Migrate all players to load file data from the Emscripten heap (instead of stack). This fixes playback for the largest files in the catalog, e.g. ",o.a.createElement("a",{href:"?play=Contemporary/AM4N/crystal_guardian.vgm"},"VGM files north of 5 MB"),"."),o.a.createElement("h3",null,"2024-06-25"),o.a.createElement("p",null,"Improved voice naming for LibVGM and MDX players. Now grouped by sound chip."))}function hm(e){return(hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dm(){return(dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pm(Object(n),!0).forEach((function(t){Cm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vm(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ym(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function gm(e){return function(e){if(Array.isArray(e))return bm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ym(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ym(e,t){if(e){if("string"==typeof e)return bm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bm(e,t):void 0}}function bm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _m(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_m=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==hm(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(hm(t)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function wm(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Sm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wm(i,r,o,a,s,"next",e)}function s(e){wm(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Om(r.key),r)}}function Tm(e,t,n){return t=km(t),function(e,t){if(t&&("object"==hm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],km(e).constructor):t.apply(e,n))}function km(e){return(km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xm(e,t){return(xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Cm(e,t,n){return(t=Om(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Om(e){var t=function(e,t){if("object"!=hm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hm(t)?t:t+""}var Pm=document.location.origin,Im=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cm(n=Tm(this,t,[e]),"handleFiles",(function(e){var t=e.map((function(t){return new Promise((function(r,o){var i=new FileReader;i.onerror=function(e){return o(e.target.error)},i.onload=Sm(_m().mark((function a(){var s,l,u;return _m().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("sf2"!==(s=g.a.extname(t.name).toLowerCase().substring(1))){a.next=19;break}if(n.midiPlayer){a.next=6;break}o("MIDIPlayer has not been created - unable to load SoundFont."),a.next=17;break;case 6:if(1===e.length){a.next=10;break}o("Soundfonts must be added one at a time, separate from other files."),a.next=17;break;case 10:return l="user/".concat(t.name),a.next=13,pe(n.chipCore,"".concat(ie.SOUNDFONT_MOUNTPOINT,"/").concat(l),new Uint8Array(i.result),!0);case 13:n.midiPlayer.updateSoundfontParamDefs(),n.midiPlayer.setParameter("soundfont",l,!1),n.forceUpdate(),r(0);case 17:a.next=20;break;case 19:ie.FORMATS.includes(s)?(u=i.result,n.localFilesManager.write(g.a.join("local",t.name),u),r(1)):o('The file format ".'.concat(s,'" was not recognized.'));case 20:case"end":return a.stop()}}),a)}))),i.readAsArrayBuffer(t)}))}));Promise.allSettled(t).then((function(e){if(e.filter((function(e){return"fulfilled"===e.status})).reduce((function(e,t){return e+t.value}),0)>0){var t,r=(null===(t=n.sequencer)||void 0===t?void 0:t.getCurrContext())===n.playContexts.local;n.updateLocalFiles(),n.props.history.push("/local"),r&&(n.sequencer.context=n.playContexts.local),n.forceUpdate()}e.filter((function(e){return"rejected"===e.status})).reduce((function(e,t){return e.includes(t.reason)?e:[].concat(gm(e),[t.reason])}),[]).forEach((function(e,t){return setTimeout((function(){return n.props.toastContext.enqueueToast(e,Fp.ERROR)}),1500*t)}))}))})),Cm(n,"onDrop",(function(e){n.handleFiles(e)})),Cm(n,"handleLocalFileDelete",(function(e){var t;Array.isArray(e)||(e=[e]);var r=(null===(t=n.sequencer)||void 0===t?void 0:t.getCurrContext())===n.playContexts.local,o=!1;e.forEach((function(e){if(n.localFilesManager.delete(e)&&r){var t=n.playContexts.local.indexOf(e);t===n.sequencer.currIdx&&(o=!0),t<=n.sequencer.currIdx&&n.sequencer.currIdx--}})),n.updateLocalFiles(),r&&(n.sequencer.context=n.playContexts.local),o&&n.sequencer.nextSong()})),Cm(n,"handleCopyLink",(function(e){navigator.clipboard.writeText(e),n.props.toastContext.enqueueToast("Copied song link to clipboard.",Fp.INFO)})),Cm(n,"handleToggleSettings",(function(e){var t=n.props.userContext,r=t.settings;(0,t.updateSettings)({showPlayerSettings:!(null==r?void 0:r.showPlayerSettings)})})),u(n),n.attachMediaKeyHandlers(),n.contentAreaRef=o.a.createRef(),n.listRef=o.a.createRef(),n.playContexts={},n.midiPlayer=null,window.ChipPlayer=n;var r=f.a.any?"interactive":"playback",i=n.audioCtx=window.audioCtx=new(window.AudioContext||window.webkitAudioContext)({latencyHint:r});if(i.sampleRate>ie.MAX_SAMPLE_RATE){console.warn("AudioContext default sample rate was too high (%s). Limiting to %s.",i.sampleRate,ie.MAX_SAMPLE_RATE);for(var a=i.sampleRate;a>ie.MAX_SAMPLE_RATE;)a/=2;i=n.audioCtx=window.audioCtx=new(window.AudioContext||window.webkitAudioContext)({latencyHint:r,sampleRate:a})}var s=Math.max(Math.pow(2,Math.ceil(Math.log2((i.baseLatency||.001)*i.sampleRate))),2048),l=n.gainNode=i.createGain();l.gain.value=1,l.connect(i.destination);var c=n.playerNode=i.createScriptProcessor(s,0,2);return c.connect(l),function(e){if(console.log("AudioContext initial state is %s.",e.state),"suspended"===e.state){var t=["touchstart","touchend","mousedown","mouseup"],n=function(){return e.resume().then((function(){return t.forEach((function(e){return document.body.removeEventListener(e,n)}))}))};t.forEach((function(e){return document.body.addEventListener(e,n,!1)}))}}(i),console.log("Sample rate: %d hz. Base latency: %d. Buffer size: %d.",i.sampleRate,i.baseLatency*i.sampleRate,s),n.state={loading:!0,loadingLocalFiles:!0,paused:!0,ejected:!0,currentSongMetadata:{},currentSongNumVoices:0,currentSongNumSubtunes:0,currentSongSubtune:0,currentSongDurationMs:1,currentSongPositionMs:0,tempo:1,voiceMask:Array(ie.MAX_VOICES).fill(!0),voiceNames:Array(ie.MAX_VOICES).fill(""),voiceGroups:[],imageUrl:null,infoTexts:[],showInfo:!1,songUrl:null,volume:100,repeat:0,shuffle:0,directories:{},hasPlayer:!1,paramDefs:[],paramValues:{},localFiles:[]},n.initChipCore(i,c,s),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xm(e,t)}(t,e),function(e,t,n){return t&&Em(e.prototype,t),n&&Em(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"initChipCore",value:(n=Sm(_m().mark((function e(t,n,r){var o,i,a,s,l,u,c,f,h,d=this;return _m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new oe({locateFile:function(e,t){return e.endsWith(".wasm")||e.endsWith(".wast")?"".concat(Pm,"/").concat(e):t+e},print:function(e){return console.debug("[stdout] "+e)},printErr:function(e){return console.debug("[stderr] "+e)}});case 3:this.chipCore=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),this.setState({loading:!1}),this.props.toastContext.enqueueToast({message:"Error loading player engine. Old browser?",level:Fp.ERROR}),e.abrupt("return");case 11:o=b.a.parse(window.location.search.substring(1)).debug,(i=[an,wt,An,yn,Kn,ur,wr].map((function(e){return new e(d.chipCore,t.sampleRate,r,o)}))).forEach((function(e){e.audioNode=d.playerNode})),this.midiPlayer=i[0],n.onaudioprocess=function(e){for(var t=[],n=0;n<e.outputBuffer.numberOfChannels;n++)t.push(e.outputBuffer.getChannelData(n));var r,o=vm(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.stopped||a.processAudio(t)}}catch(e){o.e(e)}finally{o.f()}},this.localFilesManager=new xe(this.chipCore.FS,"local"),this.chipCore.FS.syncfs(!0,(function(e){e&&console.log("Error populating FS from indexeddb.",e),i.forEach((function(e){return e.handleFileSystemReady()})),d.updateLocalFiles(),d.setState({loadingLocalFiles:!1})})),this.sequencer=new Ge(i,this.localFilesManager,(function(){return d.props.userContext.settings})),this.sequencer.on("sequencerStateUpdate",this.handleSequencerStateUpdate),this.sequencer.on("playerError",(function(e){return d.props.toastContext.enqueueToast(e,Fp.ERROR)})),(a=b.a.parse(window.location.search.substring(1))).play&&(s=a.play,l=a.subtune?parseInt(a.subtune,10):0,u=a.t?parseInt(a.t,10):0,delete a.play,delete a.subtune,delete a.t,c=b.a.stringify(a),f=c?"?".concat(c):"",h=g.a.dirname(s),this.fetchDirectory(h).then((function(){d.props.history.replace("".concat(ce("/browse",h)).concat(f));var e=ce(ie.CATALOG_PREFIX,s),t=d.playContexts[h].indexOf(e);d.playContext(d.playContexts[h],t,l),u&&setTimeout((function(){d.sequencer.getPlayer()&&d.sequencer.getPlayer().seekMs(u)}),100)}))),this.setState({loading:!1});case 24:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"attachMediaKeyHandlers",value:function(){var e=this;"mediaSession"in navigator&&(console.log("Attaching Media Key event handlers."),this.mediaSessionAudio=document.createElement("audio"),this.mediaSessionAudio.src=Pm+"/5-seconds-of-silence.mp3",this.mediaSessionAudio.loop=!0,this.mediaSessionAudio.volume=0,navigator.mediaSession.setActionHandler("play",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("pause",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return e.prevSong()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return e.nextSong()})),navigator.mediaSession.setActionHandler("seekbackward",(function(){return e.seekRelative(-5e3)})),navigator.mediaSession.setActionHandler("seekforward",(function(){return e.seekRelative(5e3)}))),document.addEventListener("keydown",(function(t){if(!t.ctrlKey&&!t.metaKey){switch(t.key){case"Escape":e.setState({showInfo:!1}),t.target.blur()}if("INPUT"!==t.target.tagName||"text"!==t.target.type){switch(t.key){case" ":e.togglePause(),t.preventDefault();break;case"-":e.setSpeedRelative(-.1);break;case"_":e.setSpeedRelative(-.01);break;case"=":e.setSpeedRelative(.1);break;case"+":e.setSpeedRelative(.01)}if("INPUT"!==t.target.tagName||"range"!==t.target.type)switch(t.key){case"ArrowLeft":e.seekRelative(-5e3),t.preventDefault();break;case"ArrowRight":e.seekRelative(5e3),t.preventDefault()}}}}))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.sequencer.playContext(e,t,n)}},{key:"prevSong",value:function(){this.sequencer.prevSong()}},{key:"nextSong",value:function(){this.sequencer.nextSong()}},{key:"prevSubtune",value:function(){this.sequencer.prevSubtune()}},{key:"nextSubtune",value:function(){this.sequencer.nextSubtune()}},{key:"handleSequencerStateUpdate",value:function(e){var n=this,r=e.isEjected;if(console.debug("App.handleSequencerStateUpdate(isEjected=%s)",r),r)this.setState({ejected:!0,currentSongSubtune:0,currentSongMetadata:{},currentSongNumVoices:0,currentSongPositionMs:0,currentSongDurationMs:1,currentSongNumSubtunes:0,imageUrl:null,songUrl:null}),"mediaSession"in navigator&&(this.mediaSessionAudio.pause(),navigator.mediaSession.playbackState="none","MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({})));else{var o=this.sequencer.getPlayer(),i=this.sequencer.getCurrUrl();if(i){if(i!==this.state.songUrl){var a=function(e){return he(fe(e))}(i);_e.fetchCached(a).then((function(e){var t=e.imageUrl,r=e.infoTexts,o=e.md5,i=[].concat(gm(n.state.infoTexts),gm(r)),a=n.state.showInfo&&i.length>0;n.setState({imageUrl:t,infoTexts:i,md5:o,showInfo:a}),"mediaSession"in navigator&&(navigator.mediaSession.metadata.artwork=null==t?[]:[{src:t,sizes:"512x512"}])})).catch((function(e){n.setState({imageUrl:null})}))}}else this.setState({imageUrl:null});var s,l,u=o.getMetadata();if("mediaSession"in navigator)if(this.mediaSessionAudio.play(),"MediaMetadata"in window)navigator.mediaSession.metadata=new window.MediaMetadata({title:u.title||(null===(s=u.formatted)||void 0===s?void 0:s.title),artist:u.artist||(null===(l=u.formatted)||void 0===l?void 0:l.subtitle),album:u.game,artwork:[]});this.setState(mm({},t.mapSequencerStateToAppState(e)))}}},{key:"togglePause",value:function(){if(!this.state.ejected&&this.sequencer.getPlayer()){var e=this.sequencer.getPlayer().togglePause();"mediaSession"in navigator&&(e?this.mediaSessionAudio.pause():this.mediaSessionAudio.play()),this.setState({paused:e})}}},{key:"handleTimeSliderChange",value:function(e){if(this.sequencer.getPlayer()){var t=e.target?e.target.value:e,n=Math.floor(t*this.state.currentSongDurationMs);if(this.seekRelativeInner(n),ie.REPLACE_STATE_ON_SEEK){var r=mm(mm({},b.a.parse(window.location.search.substr(1))),{},{t:n}),o="?"+b.a.stringify(r).replace(/%20/g,"+").replace(/%2F/g,"/");window.history.replaceState(null,"",o)}}}},{key:"seekRelative",value:function(e){if(this.sequencer.getPlayer()){var t=this.state.currentSongDurationMs,n=d()(this.sequencer.getPlayer().getPositionMs()+e,0,t);this.seekRelativeInner(n)}}},{key:"seekRelativeInner",value:function(e){var t=this;this.sequencer.getPlayer().seekMs(e),this.setState({currentSongPositionMs:e}),setTimeout((function(){t.sequencer.getPlayer().isPlaying()&&t.setState({currentSongPositionMs:t.sequencer.getPlayer().getPositionMs()})}),100)}},{key:"handleSetVoiceMask",value:function(e){this.sequencer.getPlayer()&&(this.sequencer.getPlayer().setVoiceMask(e),this.setState({voiceMask:gm(e)}))}},{key:"handleTempoChange",value:function(e){if(this.sequencer.getPlayer()){var t=parseFloat(e.target?e.target.value:e)||1;this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t});var n=this.props.userContext,r=n.settings,o=n.updateSettings;null!=r.tempo&&o(Cm({},"tempo",t))}}},{key:"handleParamChange",value:function(e,t){if(this.sequencer.getPlayer()){var n=this.sequencer.getPlayer();n.setParameter(e,t),this.setState((function(n){return{paramValues:mm(mm({},n.paramValues),{},Cm({},e,t))}}));var r=this.props.userContext,o=r.settings,i=r.updateSettings,a="".concat(n.playerKey,".").concat(e);null!=o[a]&&i(Cm({},a,t))}}},{key:"handlePinParam",value:function(e,t){var n=this.props.userContext,r=n.settings,o=n.replaceSettings,i=mm({},r);null!=i[e]?delete i[e]:i[e]=t,o(i)}},{key:"setSpeedRelative",value:function(e){if(this.sequencer.getPlayer()){var t=d()(this.state.tempo+e,.1,2);this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"handleShufflePlay",value:function(e){var t=this;"favorites"===e?this.sequencer.playContext(m()(this.props.userContext.favesContext)):"local"===e?this.sequencer.playContext(m()(this.playContexts.local)):fetch("".concat(ie.API_BASE,"/shuffle?path=").concat(encodeURI(e),"&limit=100")).then((function(e){return e.json()})).then((function(e){return e.items.map(t.pathToHref)})).then((function(e){return t.sequencer.playContext(e)}))}},{key:"handleCycleShuffle",value:function(){var e=(this.state.shuffle+1)%2;this.setState({shuffle:e}),this.sequencer.setShuffle(e)}},{key:"handleSongClick",value:function(e,t,n){var r=this;return function(o){o.preventDefault(),t?r.playContext(t,n):r.sequencer.playSonglist([e])}}},{key:"handleVolumeChange",value:function(e){this.setState({volume:e}),this.gainNode.gain.value=Math.max(0,Math.min(2,.01*e))}},{key:"handleCycleRepeat",value:function(){var e=(this.state.repeat+1)%3;this.setState({repeat:e}),this.sequencer.setRepeat(e)}},{key:"toggleInfo",value:function(){this.setState({showInfo:!this.state.showInfo})}},{key:"directoryListingToContext",value:function(e){var t=this;return e.filter((function(e){return"file"===e.type})).map((function(e){return t.pathToHref(e.path)}))}},{key:"pathToHref",value:function(e){return ce(ie.CATALOG_PREFIX,e.replace("%","%25").replace("#","%23"))}},{key:"fetchDirectory",value:function(e){var t=this,n=ce("/",e);return fetch("".concat(ie.API_BASE,"/browse?path=").concat(encodeURIComponent(n))).then((function(e){return e.json()})).then((function(n){if(t.playContexts[e]=t.directoryListingToContext(n),n.forEach((function(e){e.mtime=new Date(1e3*e.mtime).toISOString().split("T")[0],e.name=e.path.split("/").pop(),e.path.replace("%","%25").replace("#","%23"),"file"===e.type?e.href=ce(ie.CATALOG_PREFIX,e.path):e.href=ce("/browse",e.path)})),""!==e){var r=e.substring(0,e.lastIndexOf("/"));n.unshift({type:"directory",path:r,href:ce("/browse",r),name:".."})}var o=mm(mm({},t.state.directories),{},Cm({},e,n));t.setState({directories:o})}))}},{key:"getCurrentSongLink",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=null===(e=this.sequencer)||void 0===e?void 0:e.getCurrUrl();if(!n)return null;var r=Pm+"/?play="+encodeURIComponent(ce("/",n.replace(ie.CATALOG_PREFIX,"")));if(t){var o,i=null===(o=this.sequencer)||void 0===o?void 0:o.getSubtune();0!==i&&(r+="&subtune="+i)}return r}},{key:"updateLocalFiles",value:function(){var e=this.localFilesManager.readAll();e.forEach((function(e){return e.mtime=new Date(1e3*e.mtime).toISOString().split("T")[0]})),this.playContexts.local=e.map((function(e){return e.path})),this.setState({localFiles:e})}},{key:"render",value:function(){var e,t,n,r=this,i=(n=this.state.currentSongMetadata).formatted?n.formatted:{title:ue(n.artist," - ")+n.title,subtitle:[n.game,n.system].filter((function(e){return e})).join(" - ")+ue(" (",n.copyright,")")},a=i.title,s=i.subtitle,l=null===(e=this.sequencer)||void 0===e?void 0:e.getCurrContext(),u=null===(t=this.sequencer)||void 0===t?void 0:t.getCurrIdx(),c={search:window.location.search},h=this.props.userContext.settings,d=null==h?void 0:h.showPlayerSettings;return o.a.createElement(te,{disableClick:!0,style:{},onDrop:this.onDrop},(function(e){return o.a.createElement("div",{className:"App"},o.a.createElement(ep,{dropzoneProps:e}),o.a.createElement(Gp,{showInfo:r.state.showInfo,infoTexts:r.state.infoTexts,toggleInfo:r.toggleInfo}),o.a.createElement(Up,null),o.a.createElement(Bc,null),o.a.createElement("div",{className:"App-main"},o.a.createElement("div",{className:"App-main-inner"},o.a.createElement("div",{className:"tab-container"},o.a.createElement(j,{className:"tab",activeClassName:"tab-selected",to:mm({pathname:"/"},c),exact:!0},"Search"),o.a.createElement(j,{className:"tab",activeClassName:"tab-selected",to:mm({pathname:"/browse"},c)},"Browse"),o.a.createElement(j,{className:"tab",activeClassName:"tab-selected",to:mm({pathname:"/favorites"},c)},"Favorites"),o.a.createElement(j,{className:"tab",activeClassName:"tab-selected",to:mm({pathname:"/local"},c)},"Local"),o.a.createElement("button",{className:"tab tab-settings ".concat(d?"tab-selected":""),onClick:r.handleToggleSettings},"Settings")),o.a.createElement("div",{className:"App-main-content-and-settings"},o.a.createElement("div",{className:"App-main-content-area",ref:r.contentAreaRef},o.a.createElement(_.c,null,o.a.createElement(_.a,{path:"/favorites",render:function(){return o.a.createElement(np,{scrollContainerRef:r.contentAreaRef,handleShufflePlay:r.handleShufflePlay,onSongClick:r.handleSongClick,currContext:l,currIdx:u,listRef:r.listRef})}}),o.a.createElement(_.a,{path:"/browse/:browsePath*",render:function(e){var t,n=e.history,i=e.match,a=e.location,s=(null===(t=i.params)||void 0===t||null===(t=t.browsePath)||void 0===t?void 0:t.replace("%25","%"))||"";return r.contentAreaRef.current&&o.a.createElement(Vd,{currContext:l,currIdx:u,history:n,locationKey:a.key,browsePath:s,listing:r.state.directories[s],playContext:r.playContexts[s],fetchDirectory:r.fetchDirectory,onSongClick:r.handleSongClick,handleShufflePlay:r.handleShufflePlay,scrollContainerRef:r.contentAreaRef,listRef:r.listRef})}}),o.a.createElement(_.a,{path:"/local",render:function(){return o.a.createElement(um,{loading:r.state.loadingLocalFiles,onAddFiles:r.handleFiles,handleShufflePlay:r.handleShufflePlay,onSongClick:r.handleSongClick,onDelete:r.handleLocalFileDelete,playContext:r.playContexts.local,currContext:l,currIdx:u,listing:r.state.localFiles})}}),o.a.createElement(_.a,{render:function(e){var t=e.history;return r.contentAreaRef.current&&o.a.createElement(pp,{history:t,currContext:l,currIdx:u,onSongClick:r.handleSongClick,scrollContainerRef:r.contentAreaRef,listRef:r.listRef},r.state.loading&&o.a.createElement("p",null,"Loading player engine..."),o.a.createElement(fm,null))}}))),d&&o.a.createElement("div",{className:"App-main-content-area settings"},o.a.createElement(nm,{ejected:r.state.ejected,tempo:r.state.tempo,numVoices:r.state.currentSongNumVoices,voiceMask:r.state.voiceMask,voiceNames:r.state.voiceNames,voiceGroups:r.state.voiceGroups,onVoiceMaskChange:r.handleSetVoiceMask,onTempoChange:r.handleTempoChange,paramDefs:r.state.paramDefs,paramValues:r.state.paramValues,onParamChange:r.handleParamChange,onPinParam:r.handlePinParam,persistedSettings:h,sequencer:r.sequencer})))),!f.a.phone&&!r.state.loading&&o.a.createElement(Ap,{audioCtx:r.audioCtx,sourceNode:r.playerNode,chipCore:r.chipCore,paused:r.state.ejected||r.state.paused})),o.a.createElement(zc,{currentSongDurationMs:r.state.currentSongDurationMs,currentSongNumSubtunes:r.state.currentSongNumSubtunes,currentSongNumVoices:r.state.currentSongNumVoices,currentSongSubtune:r.state.currentSongSubtune,ejected:r.state.ejected,getCurrentSongLink:r.getCurrentSongLink,handleCopyLink:r.handleCopyLink,handleCycleRepeat:r.handleCycleRepeat,handleCycleShuffle:r.handleCycleShuffle,handleSetVoiceMask:r.handleSetVoiceMask,handleTempoChange:r.handleTempoChange,handleTimeSliderChange:r.handleTimeSliderChange,handleVolumeChange:r.handleVolumeChange,imageUrl:r.state.imageUrl,infoTexts:r.state.infoTexts,md5:r.state.md5,nextSong:r.nextSong,nextSubtune:r.nextSubtune,paused:r.state.paused,prevSong:r.prevSong,prevSubtune:r.prevSubtune,repeat:r.state.repeat,shuffle:r.state.shuffle,sequencer:r.sequencer,songUrl:r.state.songUrl,subtitle:s,tempo:r.state.tempo,title:a,toggleInfo:r.toggleInfo,togglePause:r.togglePause,voiceNames:r.state.voiceNames,voiceMask:r.state.voiceMask,volume:r.state.volume}))}))}}],[{key:"mapSequencerStateToAppState",value:function(e){var t={ejected:"isEjected",paused:"isPaused",currentSongSubtune:"subtune",currentSongMetadata:"metadata",currentSongNumVoices:"numVoices",currentSongPositionMs:"positionMs",currentSongDurationMs:"durationMs",currentSongNumSubtunes:"numSubtunes",tempo:"tempo",voiceNames:"voiceNames",voiceMask:"voiceMask",voiceGroups:"voiceGroups",songUrl:"url",hasPlayer:"hasPlayer",paramDefs:"paramDefs",paramValues:"paramValues",infoTexts:"infoTexts"},n={};for(var r in t){var o=t[r];o in e&&(n[r]=e[o])}return n}}]);var n}(o.a.Component),Am=Object(_.g)((function(e){var t=Object(r.useContext)(jc),n=Object(r.useContext)(Dp);return o.a.createElement(Im,dm({},e,{userContext:t,toastContext:n}))}));var Rm=function(){var e=Object(r.useContext)(jc).settings;return Object(r.useEffect)((function(){var t,n,r;null!=e&&e.theme&&(r=e.theme,document.documentElement.setAttribute("data-theme",r),t="winamp"===r?"#1e1e2f":"#000088",(n=document.querySelector("meta[name='theme-color']"))||((n=document.createElement("meta")).name="theme-color",document.head.appendChild(n)),n.content=t)}),[null==e?void 0:e.theme]),null};a.a.render(o.a.createElement(x,{basename:""},o.a.createElement(Lp,null,o.a.createElement(Lc,null,o.a.createElement(Rm,null),o.a.createElement(Am,null)))),document.getElementById("root"))}]);
//# sourceMappingURL=main.3df3b1ae.js.map